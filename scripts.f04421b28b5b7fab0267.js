!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";var i=[],n=t.document,a=Object.getPrototypeOf,o=i.slice,s=i.concat,r=i.push,l=i.indexOf,c={},u=c.toString,h=c.hasOwnProperty,d=h.toString,p=d.call(Object),f={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,i){var a,o,s=(i=i||n).createElement("script");if(s.text=t,e)for(a in v)(o=e[a]||e.getAttribute&&e.getAttribute(a))&&s.setAttribute(a,o);i.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[u.call(t)]||"object":typeof t}var b="3.4.1",w=function(t,e){return new w.fn.init(t,e)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!m(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:b,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var t,e,i,n,a,o,s=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||m(s)||(s={}),r===l&&(s=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(c&&n&&(w.isPlainObject(n)||(a=Array.isArray(n)))?(i=s[e],o=a&&!Array.isArray(i)?[]:a||w.isPlainObject(i)?i:{},a=!1,s[e]=w.extend(c,o,n)):void 0!==n&&(s[e]=n));return s},w.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==u.call(t)||(e=a(t))&&("function"!=typeof(i=h.call(e,"constructor")&&e.constructor)||d.call(i)!==p))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){_(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(C(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(k,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(C(Object(t))?w.merge(i,"string"==typeof t?[t]:t):r.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;n++)t[a++]=e[n];return t.length=a,t},grep:function(t,e,i){for(var n=[],a=0,o=t.length,s=!i;a<o;a++)!e(t[a],a)!==s&&n.push(t[a]);return n},map:function(t,e,i){var n,a,o=0,r=[];if(C(t))for(n=t.length;o<n;o++)null!=(a=e(t[o],o,i))&&r.push(a);else for(o in t)null!=(a=e(t[o],o,i))&&r.push(a);return s.apply([],r)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){c["[object "+e+"]"]=e.toLowerCase()}));var x=function(t){var e,i,n,a,o,s,r,l,c,u,h,d,p,f,m,g,v,_,y,b="sizzle"+1*new Date,w=t.document,k=0,C=0,x=lt(),T=lt(),M=lt(),S=lt(),L=function(t,e){return t===e&&(h=!0),0},A={}.hasOwnProperty,I=[],z=I.pop,D=I.push,E=I.push,P=I.slice,O=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",j=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(R+"+","g"),V=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),Z=new RegExp("^"+R+"*,"+R+"*"),H=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),$=new RegExp(R+"|>"),U=new RegExp(j),q=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),it=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,at=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},st=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{E.apply(I=P.call(w.childNodes),w.childNodes)}catch(e){E={apply:I.length?function(t,e){D.apply(t,P.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function rt(t,e,n,a){var o,r,c,u,h,f,v,_=e&&e.ownerDocument,k=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return n;if(!a&&((e?e.ownerDocument||e:w)!==p&&d(e),e=e||p,m)){if(11!==k&&(h=J.exec(t)))if(o=h[1]){if(9===k){if(!(c=e.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(_&&(c=_.getElementById(o))&&y(e,c)&&c.id===o)return n.push(c),n}else{if(h[2])return E.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return E.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!S[t+" "]&&(!g||!g.test(t))&&(1!==k||"object"!==e.nodeName.toLowerCase())){if(v=t,_=e,1===k&&$.test(t)){for((u=e.getAttribute("id"))?u=u.replace(nt,at):e.setAttribute("id",u=b),r=(f=s(t)).length;r--;)f[r]="#"+u+" "+yt(f[r]);v=f.join(","),_=tt.test(t)&&vt(e.parentNode)||e}try{return E.apply(n,_.querySelectorAll(v)),n}catch(e){S(t,!0)}finally{u===b&&e.removeAttribute("id")}}}return l(t.replace(V,"$1"),e,n,a)}function lt(){var t=[];return function e(i,a){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=a}}function ct(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var i=t.split("|"),a=i.length;a--;)n.attrHandle[i[a]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var a,o=t([],i.length,e),s=o.length;s--;)i[a=o[s]]&&(i[a]=!(n[a]=i[a]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=rt.support={},o=rt.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!Y.test(t.namespaceURI||e&&e.nodeName||"HTML")},d=rt.setDocument=function(t){var e,a,s=t?t.ownerDocument||t:w;return s!==p&&9===s.nodeType&&s.documentElement&&(f=(p=s).documentElement,m=!o(p),w!==p&&(a=p.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ot,!1):a.attachEvent&&a.attachEvent("onunload",ot)),i.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ut((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(p.getElementsByClassName),i.getById=ut((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,a,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(a=e.getElementsByName(t),n=0;o=a[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],a=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[a++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(i.qsa=Q.test(p.querySelectorAll))&&(ut((function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=Q.test(_=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut((function(t){i.disconnectedMatch=_.call(t,"*"),_.call(t,"[s!='']:x"),v.push("!=",j)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(f.compareDocumentPosition),y=e||Q.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},L=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===w&&y(w,t)?-1:e===p||e.ownerDocument===w&&y(w,e)?1:u?O(u,t)-O(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,a=t.parentNode,o=e.parentNode,s=[t],r=[e];if(!a||!o)return t===p?-1:e===p?1:a?-1:o?1:u?O(u,t)-O(u,e):0;if(a===o)return dt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)r.unshift(i);for(;s[n]===r[n];)n++;return n?dt(s[n],r[n]):s[n]===w?-1:r[n]===w?1:0}),p},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),i.matchesSelector&&m&&!S[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var n=_.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){S(e,!0)}return 0<rt(e,p,null,[t]).length},rt.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),y(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var a=n.attrHandle[e.toLowerCase()],o=a&&A.call(n.attrHandle,e.toLowerCase())?a(t,e,!m):void 0;return void 0!==o?o:i.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},rt.escape=function(t){return(t+"").replace(nt,at)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],a=0,o=0;if(h=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(L),h){for(;e=t[o++];)e===t[o]&&(a=n.push(o));for(;a--;)t.splice(n[a],1)}return u=null,t},a=rt.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=a(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=a(e);return i},(n=rt.selectors={cacheLength:50,createPseudo:ct,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&U.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&x(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var a=rt.attr(n,t);return null==a?"!="===e:!e||(a+="","="===e?a===i:"!="===e?a!==i:"^="===e?i&&0===a.indexOf(i):"*="===e?i&&-1<a.indexOf(i):"$="===e?i&&a.slice(-i.length)===i:"~="===e?-1<(" "+a.replace(W," ")+" ").indexOf(i):"|="===e&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,a){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),_=!l&&!r,y=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(r?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&_){for(y=(p=(c=(u=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===k&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===e){u[t]=[k,p,y];break}}else if(_&&(y=p=(c=(u=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===k&&c[1]),!1===y)for(;(d=++p&&d&&d[m]||(y=p=0)||f.pop())&&((r?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(_&&((u=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[k,y]),d!==e)););return(y-=a)===n||y%n==0&&0<=y/n}}},PSEUDO:function(t,e){var i,a=n.pseudos[t]||n.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return a[b]?a(e):1<a.length?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,o=a(t,e),s=o.length;s--;)t[n=O(t,o[s])]=!(i[n]=o[s])})):function(t){return a(t,0,i)}):a}},pseudos:{not:ct((function(t){var e=[],i=[],n=r(t.replace(V,"$1"));return n[b]?ct((function(t,e,i,a){for(var o,s=n(t,null,a,[]),r=t.length;r--;)(o=s[r])&&(t[r]=!(e[r]=o))})):function(t,a,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return 0<rt(t,e).length}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return-1<(e.textContent||a(e)).indexOf(t)}})),lang:ct((function(t){return q.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function _t(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(t,e,i){var n=e.dir,a=e.next,o=a||n,s=i&&"parentNode"===o,r=C++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,a);return!1}:function(e,i,l){var c,u,h,d=[k,r];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(u=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),a&&a===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[o])&&c[0]===k&&c[1]===r)return d[2]=c[2];if((u[o]=d)[2]=t(e,i,l))return!0}return!1}}function wt(t){return 1<t.length?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function kt(t,e,i,n,a){for(var o,s=[],r=0,l=t.length,c=null!=e;r<l;r++)(o=t[r])&&(i&&!i(o,n,a)||(s.push(o),c&&e.push(r)));return s}function Ct(t,e,i,n,a,o){return n&&!n[b]&&(n=Ct(n)),a&&!a[b]&&(a=Ct(a,o)),ct((function(o,s,r,l){var c,u,h,d=[],p=[],f=s.length,m=o||function(t,e,i){for(var n=0,a=e.length;n<a;n++)rt(t,e[n],i);return i}(e||"*",r.nodeType?[r]:r,[]),g=!t||!o&&e?m:kt(m,d,t,r,l),v=i?a||(o?t:f||n)?[]:s:g;if(i&&i(g,v,r,l),n)for(c=kt(v,p),n(c,[],r,l),u=c.length;u--;)(h=c[u])&&(v[p[u]]=!(g[p[u]]=h));if(o){if(a||t){if(a){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(g[u]=h);a(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&-1<(c=a?O(o,h):d[u])&&(o[c]=!(s[c]=h))}}else v=kt(v===s?v.splice(f,v.length):v),a?a(null,s,v,l):E.apply(s,v)}))}function xt(t){for(var e,i,a,o=t.length,s=n.relative[t[0].type],r=s||n.relative[" "],l=s?1:0,u=bt((function(t){return t===e}),r,!0),h=bt((function(t){return-1<O(e,t)}),r,!0),d=[function(t,i,n){var a=!s&&(n||i!==c)||((e=i).nodeType?u(t,i,n):h(t,i,n));return e=null,a}];l<o;l++)if(i=n.relative[t[l].type])d=[bt(wt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(a=++l;a<o&&!n.relative[t[a].type];a++);return Ct(1<l&&wt(d),1<l&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),i,l<a&&xt(t.slice(l,a)),a<o&&xt(t=t.slice(a)),a<o&&yt(t))}d.push(i)}return wt(d)}return _t.prototype=n.filters=n.pseudos,n.setFilters=new _t,s=rt.tokenize=function(t,e){var i,a,o,s,r,l,c,u=T[t+" "];if(u)return e?0:u.slice(0);for(r=t,l=[],c=n.preFilter;r;){for(s in i&&!(a=Z.exec(r))||(a&&(r=r.slice(a[0].length)||r),l.push(o=[])),i=!1,(a=H.exec(r))&&(i=a.shift(),o.push({value:i,type:a[0].replace(V," ")}),r=r.slice(i.length)),n.filter)!(a=G[s].exec(r))||c[s]&&!(a=c[s](a))||(i=a.shift(),o.push({value:i,type:s,matches:a}),r=r.slice(i.length));if(!i)break}return e?r.length:r?rt.error(t):T(t,l).slice(0)},r=rt.compile=function(t,e){var i,a,o,r,l,u,h=[],f=[],g=M[t+" "];if(!g){for(e||(e=s(t)),i=e.length;i--;)(g=xt(e[i]))[b]?h.push(g):f.push(g);(g=M(t,(a=f,r=0<(o=h).length,l=0<a.length,u=function(t,e,i,s,u){var h,f,g,v=0,_="0",y=t&&[],b=[],w=c,C=t||l&&n.find.TAG("*",u),x=k+=null==w?1:Math.random()||.1,T=C.length;for(u&&(c=e===p||e||u);_!==T&&null!=(h=C[_]);_++){if(l&&h){for(f=0,e||h.ownerDocument===p||(d(h),i=!m);g=a[f++];)if(g(h,e||p,i)){s.push(h);break}u&&(k=x)}r&&((h=!g&&h)&&v--,t&&y.push(h))}if(v+=_,r&&_!==v){for(f=0;g=o[f++];)g(y,b,e,i);if(t){if(0<v)for(;_--;)y[_]||b[_]||(b[_]=z.call(s));b=kt(b)}E.apply(s,b),u&&!t&&0<b.length&&1<v+o.length&&rt.uniqueSort(s)}return u&&(k=x,c=w),y},r?ct(u):u))).selector=t}return g},l=rt.select=function(t,e,i,a){var o,l,c,u,h,d="function"==typeof t&&t,p=!a&&s(t=d.selector||t);if(i=i||[],1===p.length){if(2<(l=p[0]=p[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=G.needsContext.test(t)?0:l.length;o--&&!n.relative[u=(c=l[o]).type];)if((h=n.find[u])&&(a=h(c.matches[0].replace(et,it),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=a.length&&yt(l)))return E.apply(i,a),i;break}}return(d||r(t,p))(a,e,!m,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=b.split("").sort(L).join("")===b,i.detectDuplicates=!!h,d(),i.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ht(N,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),rt}(t);w.find=x,w.expr=x.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=x.uniqueSort,w.text=x.getText,w.isXMLDoc=x.isXML,w.contains=x.contains,w.escapeSelector=x.escape;var T=function(t,e,i){for(var n=[],a=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&w(t).is(i))break;n.push(t)}return n},M=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},S=w.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,i){return m(e)?w.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?w.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?w.grep(t,(function(t){return-1<l.call(e,t)!==i})):w.filter(e,t,i)}w.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?w.find.matchesSelector(n,t)?[n]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,i,n=this.length,a=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<n;e++)if(w.contains(a[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)w.find(t,a[e],i);return 1<n?w.uniqueSort(i):i},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&S.test(t)?w(t):t||[],!1).length}});var z,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,i){var a,o;if(!t)return this;if(i=i||z,"string"==typeof t){if(!(a="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:D.exec(t))||!a[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(a[1]){if(w.merge(this,w.parseHTML(a[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:n,!0)),A.test(a[1])&&w.isPlainObject(e))for(a in e)m(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return(o=n.getElementById(a[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,z=w(n);var E=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,a=this.length,o=[],s="string"!=typeof t&&w(t);if(!S.test(t))for(;n<a;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&w.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(w(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,i){return T(t,"parentNode",i)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,i){return T(t,"nextSibling",i)},prevUntil:function(t,e,i){return T(t,"previousSibling",i)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(L(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(i,n){var a=w.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=w.filter(n,a)),1<this.length&&(P[t]||w.uniqueSort(a),E.test(t)&&a.reverse()),this.pushStack(a)}}));var N=/[^\x20\t\r\n\f]+/g;function R(t){return t}function F(t){throw t}function B(t,e,i,n){var a;try{t&&m(a=t.promise)?a.call(t).done(e).fail(i):t&&m(a=t.then)?a.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}w.Callbacks=function(t){var e;t="string"==typeof t?(e={},w.each(t.match(N)||[],(function(t,i){e[i]=!0})),e):w.extend({},t);var i,n,a,o,s=[],r=[],l=-1,c=function(){for(o=o||t.once,a=i=!0;r.length;l=-1)for(n=r.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),i=!1,o&&(s=n?[]:"")},u={add:function(){return s&&(n&&!i&&(l=s.length-1,r.push(n)),function e(i){w.each(i,(function(i,n){m(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==y(n)&&e(n)}))}(arguments),n&&!i&&c()),this},remove:function(){return w.each(arguments,(function(t,e){for(var i;-1<(i=w.inArray(e,s,i));)s.splice(i,1),i<=l&&l--})),this},has:function(t){return t?-1<w.inArray(t,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=r=[],n||i||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],r.push(e),i||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},w.extend({Deferred:function(e){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(e){w.each(i,(function(i,n){var a=m(t[n[4]])&&t[n[4]];o[n[1]]((function(){var t=a&&a.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,a?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,a){var o=0;function s(e,i,n,a){return function(){var r=this,l=arguments,c=function(){var t,c;if(!(e<o)){if((t=n.apply(r,l))===i.promise())throw new TypeError("Thenable self-resolution");m(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?a?c.call(t,s(o,i,R,a),s(o,i,F,a)):c.call(t,s(++o,i,R,a),s(o,i,F,a),s(o,i,R,i.notifyWith)):(n!==R&&(r=void 0,l=[t]),(a||i.resolveWith)(r,l))}},u=a?c:function(){try{c()}catch(c){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(c,u.stackTrace),o<=e+1&&(n!==F&&(r=void 0,l=[c]),i.rejectWith(r,l))}};e?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),t.setTimeout(u))}}return w.Deferred((function(t){i[0][3].add(s(0,t,m(a)?a:R,t.notifyWith)),i[1][3].add(s(0,t,m(e)?e:R)),i[2][3].add(s(0,t,m(n)?n:F))})).promise()},promise:function(t){return null!=t?w.extend(t,a):a}},o={};return w.each(i,(function(t,e){var s=e[2],r=e[5];a[e[1]]=s.add,r&&s.add((function(){n=r}),i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith})),a.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),a=o.call(arguments),s=w.Deferred(),r=function(t){return function(i){n[t]=this,a[t]=1<arguments.length?o.call(arguments):i,--e||s.resolveWith(n,a)}};if(e<=1&&(B(t,s.done(r(i)).resolve,s.reject,!e),"pending"===s.state()||m(a[i]&&a[i].then)))return s.then();for(;i--;)B(a[i],r(i),s.reject);return s.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&j.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},w.readyException=function(e){t.setTimeout((function(){throw e}))};var W=w.Deferred();function V(){n.removeEventListener("DOMContentLoaded",V),t.removeEventListener("load",V),w.ready()}w.fn.ready=function(t){return W.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0)!==t&&0<--w.readyWait||W.resolveWith(n,[w])}}),w.ready.then=W.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(w.ready):(n.addEventListener("DOMContentLoaded",V),t.addEventListener("load",V));var Z=function(t,e,i,n,a,o,s){var r=0,l=t.length,c=null==i;if("object"===y(i))for(r in a=!0,i)Z(t,e,r,i[r],!0,o,s);else if(void 0!==n&&(a=!0,m(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(w(t),i)})),e))for(;r<l;r++)e(t[r],i,s?n:n.call(t[r],r,e(t[r],i)));return a?t:c?e.call(t):l?e(t[0],i):o},H=/^-ms-/,$=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function q(t){return t.replace(H,"ms-").replace($,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=w.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,a=this.cache(t);if("string"==typeof e)a[q(e)]=i;else for(n in e)a[q(n)]=e[n];return a},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(q):(e=q(e))in n?[e]:e.match(N)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||w.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var K=new Y,X=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,i){var n,a;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(a=i)||"false"!==a&&("null"===a?null:a===+a+""?+a:Q.test(a)?JSON.parse(a):a)}catch(t){}X.set(t,e,i)}else i=void 0;return i}w.extend({hasData:function(t){return X.hasData(t)||K.hasData(t)},data:function(t,e,i){return X.access(t,e,i)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,i){return K.access(t,e,i)},_removeData:function(t,e){K.remove(t,e)}}),w.fn.extend({data:function(t,e){var i,n,a,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(a=X.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=q(n.slice(5)),tt(o,n,a[n]));K.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof t?this.each((function(){X.set(this,t)})):Z(this,(function(e){var i;if(o&&void 0===e)return void 0!==(i=X.get(o,t))?i:void 0!==(i=tt(o,t))?i:void 0;this.each((function(){X.set(this,t,e)}))}),null,e,1<arguments.length,null,!0)},removeData:function(t){return this.each((function(){X.remove(this,t)}))}}),w.extend({queue:function(t,e,i){var n;if(t)return n=K.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=K.access(t,e,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=w.queue(t,e=e||"fx"),n=i.length,a=i.shift(),o=w._queueHooks(t,e);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete o.stop,a.call(t,(function(){w.dequeue(t,e)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return K.get(t,i)||K.access(t,i,{empty:w.Callbacks("once memory").add((function(){K.remove(t,[e+"queue",i])}))})}}),w.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?w.queue(this[0],t):void 0===e?this:this.each((function(){var i=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=w.Deferred(),o=this,s=this.length,r=function(){--n||a.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=K.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),a.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],at=n.documentElement,ot=function(t){return w.contains(t.ownerDocument,t)},st={composed:!0};at.getRootNode&&(ot=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===w.css(t,"display")},lt=function(t,e,i,n){var a,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in a=i.apply(t,n||[]),e)t.style[o]=s[o];return a};function ct(t,e,i,n){var a,o,s=20,r=n?function(){return n.cur()}:function(){return w.css(t,e,"")},l=r(),c=i&&i[3]||(w.cssNumber[e]?"":"px"),u=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+l)&&it.exec(w.css(t,e));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;s--;)w.style(t,e,u+c),(1-o)*(1-(o=r()/l||.5))<=0&&(s=0),u/=o;w.style(t,e,(u*=2)+c),i=i||[]}return i&&(u=+u||+l||0,a=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=a)),a}var ut={};function ht(t,e){for(var i,n,a,o,s,r,l,c=[],u=0,h=t.length;u<h;u++)(n=t[u]).style&&(i=n.style.display,e?("none"===i&&(c[u]=K.get(n,"display")||null,c[u]||(n.style.display="")),""===n.style.display&&rt(n)&&(c[u]=(l=s=o=void 0,s=(a=n).ownerDocument,(l=ut[r=a.nodeName])||(o=s.body.appendChild(s.createElement(r)),l=w.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),ut[r]=l)))):"none"!==i&&(c[u]="none",K.set(n,"display",i)));for(u=0;u<h;u++)null!=c[u]&&(t[u].style.display=c[u]);return t}w.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?w(this).show():w(this).hide()}))}});var dt=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?w.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)K.set(t[i],"globalEval",!e||K.get(e[i],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var _t,yt,bt=/<|&#?\w+;/;function wt(t,e,i,n,a){for(var o,s,r,l,c,u,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===y(o))w.merge(d,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||h.appendChild(e.createElement("div")),r=(pt.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=mt[r]||mt._default)[1]+w.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;w.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(n&&-1<w.inArray(o,n))a&&a.push(o);else if(c=ot(o),s=gt(h.appendChild(o),"script"),c&&vt(s),i)for(u=0;o=s[u++];)ft.test(o.type||"")&&i.push(o);return h}_t=n.createDocumentFragment().appendChild(n.createElement("div")),(yt=n.createElement("input")).setAttribute("type","radio"),yt.setAttribute("checked","checked"),yt.setAttribute("name","t"),_t.appendChild(yt),f.checkClone=_t.cloneNode(!0).cloneNode(!0).lastChild.checked,_t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!_t.cloneNode(!0).lastChild.defaultValue;var kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Mt(){return!1}function St(t,e){return t===function(){try{return n.activeElement}catch(t){}}()==("focus"===e)}function Lt(t,e,i,n,a,o){var s,r;if("object"==typeof e){for(r in"string"!=typeof i&&(n=n||i,i=void 0),e)Lt(t,r,i,n,e[r],o);return t}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=Mt;else if(!a)return t;return 1===o&&(s=a,(a=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each((function(){w.event.add(this,e,a,n,i)}))}function At(t,e,i){i?(K.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var n,a,s=K.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=o.call(arguments),K.set(this,e,s),n=i(this,e),this[e](),s!==(a=K.get(this,e))||n?K.set(this,e,!1):a={},s!==a)return t.stopImmediatePropagation(),t.preventDefault(),a.value}else s.length&&(K.set(this,e,{value:w.event.trigger(w.extend(s[0],w.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===K.get(t,e)&&w.event.add(t,e,Tt)}w.event={global:{},add:function(t,e,i,n,a){var o,s,r,l,c,u,h,d,p,f,m,g=K.get(t);if(g)for(i.handler&&(i=(o=i).handler,a=o.selector),a&&w.find.matchesSelector(at,a),i.guid||(i.guid=w.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(N)||[""]).length;c--;)p=m=(r=xt.exec(e[c])||[])[1],f=(r[2]||"").split(".").sort(),p&&(h=w.event.special[p]||{},h=w.event.special[p=(a?h.delegateType:h.bindType)||p]||{},u=w.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&w.expr.match.needsContext.test(a),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),a?d.splice(d.delegateCount++,0,u):d.push(u),w.event.global[p]=!0)},remove:function(t,e,i,n,a){var o,s,r,l,c,u,h,d,p,f,m,g=K.hasData(t)&&K.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=m=(r=xt.exec(e[c])||[])[1],f=(r[2]||"").split(".").sort(),p){for(h=w.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!a&&m!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||w.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)w.event.remove(t,p+e[c],i,n,!0);w.isEmptyObject(l)&&K.remove(t,"handle events")}},dispatch:function(t){var e,i,n,a,o,s,r=w.event.fix(t),l=new Array(arguments.length),c=(K.get(this,"events")||{})[r.type]||[],u=w.event.special[r.type]||{};for(l[0]=r,e=1;e<arguments.length;e++)l[e]=arguments[e];if(r.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,r)){for(s=w.event.handlers.call(this,r,c),e=0;(a=s[e++])&&!r.isPropagationStopped();)for(r.currentTarget=a.elem,i=0;(o=a.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!1!==o.namespace&&!r.rnamespace.test(o.namespace)||(r.handleObj=o,r.data=o.data,void 0!==(n=((w.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,r),r.result}},handlers:function(t,e){var i,n,a,o,s,r=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[a=(n=e[i]).selector+" "]&&(s[a]=n.needsContext?-1<w(a,this).index(c):w.find(a,this,null,[c]).length),s[a]&&o.push(n);o.length&&r.push({elem:c,handlers:o})}return c=this,l<e.length&&r.push({elem:c,handlers:e.slice(l)}),r},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return dt.test(e.type)&&e.click&&L(e,"input")&&At(e,"click",Tt),!1},trigger:function(t){var e=this||t;return dt.test(e.type)&&e.click&&L(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return dt.test(e.type)&&e.click&&L(e,"input")&&K.get(e,"click")||L(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return At(this,t,St),!1},trigger:function(){return At(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,a=t.handleObj;return n&&(n===this||w.contains(this,n))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}})),w.fn.extend({on:function(t,e,i,n){return Lt(this,t,e,i,n)},one:function(t,e,i,n){return Lt(this,t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,w(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Mt),this.each((function(){w.event.remove(this,t,i,e)}))}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,zt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Nt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,a,o,s,r,l,c;if(1===e.nodeType){if(K.hasData(t)&&(o=K.access(t),s=K.set(e,o),c=o.events))for(a in delete s.handle,s.events={},c)for(i=0,n=c[a].length;i<n;i++)w.event.add(e,a,c[a][i]);X.hasData(t)&&(r=X.access(t),l=w.extend({},r),X.set(e,l))}}function Ft(t,e,i,n){e=s.apply([],e);var a,o,r,l,c,u,h=0,d=t.length,p=d-1,g=e[0],v=m(g);if(v||1<d&&"string"==typeof g&&!f.checkClone&&Dt.test(g))return t.each((function(a){var o=t.eq(a);v&&(e[0]=g.call(this,a,o.html())),Ft(o,e,i,n)}));if(d&&(o=(a=wt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===a.childNodes.length&&(a=o),o||n)){for(l=(r=w.map(gt(a,"script"),Ot)).length;h<d;h++)c=a,h!==p&&(c=w.clone(c,!0,!0),l&&w.merge(r,gt(c,"script"))),i.call(t[h],c,h);if(l)for(u=r[r.length-1].ownerDocument,w.map(r,Nt),h=0;h<l;h++)ft.test((c=r[h]).type||"")&&!K.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):_(c.textContent.replace(Et,""),c,u))}return t}function Bt(t,e,i){for(var n,a=e?w.filter(e,t):t,o=0;null!=(n=a[o]);o++)i||1!==n.nodeType||w.cleanData(gt(n)),n.parentNode&&(i&&ot(n)&&vt(gt(n,"script")),n.parentNode.removeChild(n));return t}w.extend({htmlPrefilter:function(t){return t.replace(It,"<$1></$2>")},clone:function(t,e,i){var n,a,o,s,r,l,c,u=t.cloneNode(!0),h=ot(t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=gt(u),n=0,a=(o=gt(t)).length;n<a;n++)r=o[n],"input"===(c=(l=s[n]).nodeName.toLowerCase())&&dt.test(r.type)?l.checked=r.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=r.defaultValue);if(e)if(i)for(o=o||gt(t),s=s||gt(u),n=0,a=o.length;n<a;n++)Rt(o[n],s[n]);else Rt(t,u);return 0<(s=gt(u,"script")).length&&vt(s,!h&&gt(t,"script")),u},cleanData:function(t){for(var e,i,n,a=w.event.special,o=0;void 0!==(i=t[o]);o++)if(G(i)){if(e=i[K.expando]){if(e.events)for(n in e.events)a[n]?w.event.remove(i,n):w.removeEvent(i,n,e.handle);i[K.expando]=void 0}i[X.expando]&&(i[X.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return Z(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ft(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Ft(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return Z(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!zt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(w.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,(function(e){var i=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(gt(this)),i&&i.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var i,n=[],a=w(t),o=a.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),w(a[s])[e](i),r.apply(n,i.get());return this.pushStack(n)}}));var jt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),Wt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Vt=new RegExp(nt.join("|"),"i");function Zt(t,e,i){var n,a,o,s,r=t.style;return(i=i||Wt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||ot(t)||(s=w.style(t,e)),!f.pixelBoxStyles()&&jt.test(s)&&Vt.test(e)&&(n=r.width,a=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=i.width,r.width=n,r.minWidth=a,r.maxWidth=o)),void 0!==s?s+"":s}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);a="1%"!==e.top,l=12===i(e.marginLeft),u.style.right="60%",r=36===i(e.right),o=36===i(e.width),u.style.position="absolute",s=12===i(u.offsetWidth/3),at.removeChild(c),u=null}}function i(t){return Math.round(parseFloat(t))}var a,o,s,r,l,c=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),a},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s}}))}();var $t=["Webkit","Moz","ms"],Ut=n.createElement("div").style,qt={};function Gt(t){return w.cssProps[t]||qt[t]||(t in Ut?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=$t.length;i--;)if((t=$t[i]+e)in Ut)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Kt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"};function Jt(t,e,i){var n=it.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function te(t,e,i,n,a,o){var s="width"===e?1:0,r=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=w.css(t,i+nt[s],!0,a)),n?("content"===i&&(l-=w.css(t,"padding"+nt[s],!0,a)),"margin"!==i&&(l-=w.css(t,"border"+nt[s]+"Width",!0,a))):(l+=w.css(t,"padding"+nt[s],!0,a),"padding"!==i?l+=w.css(t,"border"+nt[s]+"Width",!0,a):r+=w.css(t,"border"+nt[s]+"Width",!0,a));return!n&&0<=o&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-r-.5))||0),l}function ee(t,e,i){var n=Wt(t),a=(!f.boxSizingReliable()||i)&&"border-box"===w.css(t,"boxSizing",!1,n),o=a,s=Zt(t,e,n),r="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(s)){if(!i)return s;s="auto"}return(!f.boxSizingReliable()&&a||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,n))&&t.getClientRects().length&&(a="border-box"===w.css(t,"boxSizing",!1,n),(o=r in t)&&(s=t[r])),(s=parseFloat(s)||0)+te(t,e,i||(a?"border":"content"),o,n,s)+"px"}function ie(t,e,i,n,a){return new ie.prototype.init(t,e,i,n,a)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Zt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,s,r=q(e),l=Kt.test(e),c=t.style;if(l||(e=Gt(r)),s=w.cssHooks[e]||w.cssHooks[r],void 0===i)return s&&"get"in s&&void 0!==(a=s.get(t,!1,n))?a:c[e];"string"==(o=typeof i)&&(a=it.exec(i))&&a[1]&&(i=ct(t,e,a),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=a&&a[3]||(w.cssNumber[r]?"":"px")),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var a,o,s,r=q(e);return Kt.test(e)||(e=Gt(r)),(s=w.cssHooks[e]||w.cssHooks[r])&&"get"in s&&(a=s.get(t,!0,i)),void 0===a&&(a=Zt(t,e,n)),"normal"===a&&e in Qt&&(a=Qt[e]),""===i||i?(o=parseFloat(a),!0===i||isFinite(o)?o||0:a):a}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,i,n){if(i)return!Yt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):lt(t,Xt,(function(){return ee(t,e,n)}))},set:function(t,i,n){var a,o=Wt(t),s=!f.scrollboxSize()&&"absolute"===o.position,r=(s||n)&&"border-box"===w.css(t,"boxSizing",!1,o),l=n?te(t,e,n,r,o):0;return r&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),l&&(a=it.exec(i))&&"px"!==(a[3]||"px")&&(t.style[e]=i,i=w.css(t,e)),Jt(0,i,l)}}})),w.cssHooks.marginLeft=Ht(f.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Zt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(i){for(var n=0,a={},o="string"==typeof i?i.split(" "):[i];n<4;n++)a[t+nt[n]+e]=o[n]||o[n-2]||o[0];return a}},"margin"!==t&&(w.cssHooks[t+e].set=Jt)})),w.fn.extend({css:function(t,e){return Z(this,(function(t,e,i){var n,a,o={},s=0;if(Array.isArray(e)){for(n=Wt(t),a=e.length;s<a;s++)o[e[s]]=w.css(t,e[s],!1,n);return o}return void 0!==i?w.style(t,e,i):w.css(t,e)}),t,e,1<arguments.length)}}),((w.Tween=ie).prototype={constructor:ie,init:function(t,e,i,n,a,o){this.elem=t,this.prop=i,this.easing=a||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(w.cssNumber[i]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,i=ie.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ie.propHooks._default.set(this),this}}).init.prototype=ie.prototype,(ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Gt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ie.prototype.init,w.fx.step={};var ne,ae,oe,se,re=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){ae&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ce):t.setTimeout(ce,w.fx.interval),w.fx.tick())}function ue(){return t.setTimeout((function(){ne=void 0})),ne=Date.now()}function he(t,e){var i,n=0,a={height:t};for(e=e?1:0;n<4;n+=2-e)a["margin"+(i=nt[n])]=a["padding"+i]=t;return e&&(a.opacity=a.width=t),a}function de(t,e,i){for(var n,a=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,s=a.length;o<s;o++)if(n=a[o].call(i,e,t))return n}function pe(t,e,i){var n,a,o=0,s=pe.prefilters.length,r=w.Deferred().always((function(){delete l.elem})),l=function(){if(a)return!1;for(var e=ne||ue(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return r.notifyWith(t,[c,n,i]),n<1&&s?i:(s||r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||ue(),duration:i.duration,tweens:[],createTween:function(e,i){var n=w.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;i<n;i++)c.tweens[i].run(1);return e?(r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c,e])):r.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var i,n,a,o,s;for(i in t)if(a=e[n=q(i)],o=t[i],Array.isArray(o)&&(a=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=w.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=a);else e[n]=a}(u,c.opts.specialEasing);o<s;o++)if(n=pe.prefilters[o].call(c,t,u,c.opts))return m(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(u,de,c),m(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(pe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ct(i.elem,t,it.exec(e),i),i}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(N);for(var i,n=0,a=t.length;n<a;n++)(pe.tweeners[i=t[n]]=pe.tweeners[i]||[]).unshift(e)},prefilters:[function(t,e,i){var n,a,o,s,r,l,c,u,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&rt(t),g=K.get(t,"fxshow");for(n in i.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,r=s.empty.fire,s.empty.fire=function(){s.unqueued||r()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()}))}))),e)if(re.test(a=e[n])){if(delete e[n],o=o||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||w.style(t,n)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(p))for(n in h&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=K.get(t,"display")),"none"===(u=w.css(t,"display"))&&(c?u=c:(ht([t],!0),c=t.style.display||c,u=w.css(t,"display"),ht([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(c="none"===(u=f.display)?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=K.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ht([t],!0),d.done((function(){for(n in m||ht([t]),K.remove(t,"fxshow"),p)w.style(t,n,p[n])}))),l=de(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),w.speed=function(t,e,i){var n=t&&"object"==typeof t?w.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in w.fx.speeds?w.fx.speeds[n.duration]:w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(t,e,i,n){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=w.isEmptyObject(t),o=w.speed(e,i,n),s=function(){var e=pe(this,w.extend({},t),o);(a||K.get(this,"finish"))&&e.stop(!0)};return s.finish=s,a||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,a=null!=t&&t+"queueHooks",o=w.timers,s=K.get(this);if(a)s[a]&&s[a].stop&&n(s[a]);else for(a in s)s[a]&&s[a].stop&&le.test(a)&&n(s[a]);for(a=o.length;a--;)o[a].elem!==this||null!=t&&o[a].queue!==t||(o[a].anim.stop(i),e=!1,o.splice(a,1));!e&&i||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=K.get(this),n=i[t+"queue"],a=i[t+"queueHooks"],o=w.timers,s=n?n.length:0;for(i.finish=!0,w.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var i=w.fn[e];w.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(he(e,!0),t,n,a)}})),w.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),w.timers=[],w.fx.tick=function(){var t,e=0,i=w.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||w.fx.stop(),ne=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ae||(ae=!0,ce())},w.fx.stop=function(){ae=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,i){return e=w.fx&&w.fx.speeds[e]||e,this.queue(i=i||"fx",(function(i,n){var a=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(a)}}))},oe=n.createElement("input"),se=n.createElement("select").appendChild(n.createElement("option")),oe.type="checkbox",f.checkOn=""!==oe.value,f.optSelected=se.selected,(oe=n.createElement("input")).value="t",oe.type="radio",f.radioValue="t"===oe.value;var fe,me=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return Z(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,i){var n,a,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,i):(1===o&&w.isXMLDoc(t)||(a=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?fe:void 0)),void 0!==i?null===i?void w.removeAttr(t,e):a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:(t.setAttribute(e,i+""),i):a&&"get"in a&&null!==(n=a.get(t,e))?n:null==(n=w.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&L(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,a=e&&e.match(N);if(a&&1===t.nodeType)for(;i=a[n++];)t.removeAttribute(i)}}),fe={set:function(t,e,i){return!1===e?w.removeAttr(t,i):t.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=me[e]||w.find.attr;me[e]=function(t,e,n){var a,o,s=e.toLowerCase();return n||(o=me[s],me[s]=a,a=null!=i(t,e,n)?s:null,me[s]=o),a}}));var ge=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function _e(t){return(t.match(N)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}w.fn.extend({prop:function(t,e){return Z(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,i){var n,a,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(a=w.propHooks[e=w.propFix[e]||e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,i,n,a,o,s,r,l=0;if(m(t))return this.each((function(e){w(this).addClass(t.call(this,e,ye(this)))}));if((e=be(t)).length)for(;i=this[l++];)if(a=ye(i),n=1===i.nodeType&&" "+_e(a)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a!==(r=_e(n))&&i.setAttribute("class",r)}return this},removeClass:function(t){var e,i,n,a,o,s,r,l=0;if(m(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;i=this[l++];)if(a=ye(i),n=1===i.nodeType&&" "+_e(a)+" "){for(s=0;o=e[s++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");a!==(r=_e(n))&&i.setAttribute("class",r)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(i){w(this).toggleClass(t.call(this,i,ye(this),e),e)})):this.each((function(){var e,a,o,s;if(n)for(a=0,o=w(this),s=be(t);e=s[a++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=ye(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":K.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+_e(ye(i))+" ").indexOf(e))return!0;return!1}});var we=/\r/g;w.fn.extend({val:function(t){var e,i,n,a=this[0];return arguments.length?(n=m(t),this.each((function(i){var a;1===this.nodeType&&(null==(a=n?t.call(this,i,w(this).val()):t)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=w.map(a,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))}))):a?(e=w.valHooks[a.type]||w.valHooks[a.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(we,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:_e(w.text(t))}},select:{get:function(t){var e,i,n,a=t.options,o=t.selectedIndex,s="select-one"===t.type,r=s?null:[],l=s?o+1:a.length;for(n=o<0?l:s?o:0;n<l;n++)if(((i=a[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!L(i.parentNode,"optgroup"))){if(e=w(i).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var i,n,a=t.options,o=w.makeArray(e),s=a.length;s--;)((n=a[s]).selected=-1<w.inArray(w.valHooks.option.get(n),o))&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},f.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),f.focusin="onfocusin"in t;var ke=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,i,a,o){var s,r,l,c,u,d,p,f,v=[a||n],_=h.call(e,"type")?e.type:e,y=h.call(e,"namespace")?e.namespace.split("."):[];if(r=f=l=a=a||n,3!==a.nodeType&&8!==a.nodeType&&!ke.test(_+w.event.triggered)&&(-1<_.indexOf(".")&&(_=(y=_.split(".")).shift(),y.sort()),u=_.indexOf(":")<0&&"on"+_,(e=e[w.expando]?e:new w.Event(_,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=a),i=null==i?[e]:w.makeArray(i,[e]),p=w.event.special[_]||{},o||!p.trigger||!1!==p.trigger.apply(a,i))){if(!o&&!p.noBubble&&!g(a)){for(ke.test((c=p.delegateType||_)+_)||(r=r.parentNode);r;r=r.parentNode)v.push(r),l=r;l===(a.ownerDocument||n)&&v.push(l.defaultView||l.parentWindow||t)}for(s=0;(r=v[s++])&&!e.isPropagationStopped();)f=r,e.type=1<s?c:p.bindType||_,(d=(K.get(r,"events")||{})[e.type]&&K.get(r,"handle"))&&d.apply(r,i),(d=u&&r[u])&&d.apply&&G(r)&&(e.result=d.apply(r,i),!1===e.result&&e.preventDefault());return e.type=_,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),i)||!G(a)||u&&m(a[_])&&!g(a)&&((l=a[u])&&(a[u]=null),w.event.triggered=_,e.isPropagationStopped()&&f.addEventListener(_,Ce),a[_](),e.isPropagationStopped()&&f.removeEventListener(_,Ce),w.event.triggered=void 0,l&&(a[u]=l)),e.result}},simulate:function(t,e,i){var n=w.extend(new w.Event,i,{type:t,isSimulated:!0});w.event.trigger(n,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return w.event.trigger(t,e,i,!0)}}),f.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=K.access(n,e);a||n.addEventListener(t,i,!0),K.access(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=K.access(n,e)-1;a?K.access(n,e,a):(n.removeEventListener(t,i,!0),K.remove(n,e))}}}));var xe=t.location,Te=Date.now(),Me=/\?/;w.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),i};var Se=/\[\]$/,Le=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function ze(t,e,i,n){var a;if(Array.isArray(e))w.each(e,(function(e,a){i||Se.test(t)?n(t,a):ze(t+"["+("object"==typeof a&&null!=a?e:"")+"]",a,i,n)}));else if(i||"object"!==y(e))n(t,e);else for(a in e)ze(t+"["+a+"]",e[a],i,n)}w.param=function(t,e){var i,n=[],a=function(t,e){var i=m(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){a(this.name,this.value)}));else for(i in t)ze(i,t[i],e,a);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Ie.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!dt.test(t))})).map((function(t,e){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,(function(t){return{name:e.name,value:t.replace(Le,"\r\n")}})):{name:e.name,value:i.replace(Le,"\r\n")}})).get()}});var De=/%20/g,Ee=/#.*$/,Pe=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Re=/^\/\//,Fe={},Be={},je="*/".concat("*"),We=n.createElement("a");function Ve(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,o=e.toLowerCase().match(N)||[];if(m(i))for(;n=o[a++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ze(t,e,i,n){var a={},o=t===Be;function s(r){var l;return a[r]=!0,w.each(t[r]||[],(function(t,r){var c=r(e,i,n);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!a["*"]&&s("*")}function He(t,e){var i,n,a=w.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((a[i]?t:n||(n={}))[i]=e[i]);return n&&w.extend(!0,t,n),t}We.href=xe.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,w.ajaxSettings),e):He(w.ajaxSettings,t)},ajaxPrefilter:Ve(Fe),ajaxTransport:Ve(Be),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0);var a,o,s,r,l,c,u,h,d,p,f=w.ajaxSetup({},i=i||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),_=w.Callbacks("once memory"),y=f.statusCode||{},b={},k={},C="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(u){if(!r)for(r={};e=Oe.exec(s);)r[e[1].toLowerCase()+" "]=(r[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=r[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=k[t.toLowerCase()]=k[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)x.always(t[x.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return a&&a.abort(e),T(0,e),this}};if(v.promise(x),f.url=((e||f.url||xe.href)+"").replace(Re,xe.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){c=n.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=We.protocol+"//"+We.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),Ze(Fe,f,i,x),u)return x;for(d in(h=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ne.test(f.type),o=f.url.replace(Ee,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(De,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(Me.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Pe,"$1"),p=(Me.test(o)?"&":"?")+"_="+Te+++p),f.url=o+p),f.ifModified&&(w.lastModified[o]&&x.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&x.setRequestHeader("If-None-Match",w.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+je+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,x,f)||u))return x.abort();if(C="abort",_.add(f.complete),x.done(f.success),x.fail(f.error),a=Ze(Be,f,i,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,f]),u)return x;f.async&&0<f.timeout&&(l=t.setTimeout((function(){x.abort("timeout")}),f.timeout));try{u=!1,a.send(b,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,i,n,r){var c,d,p,b,k,C=i;u||(u=!0,l&&t.clearTimeout(l),a=void 0,s=r||"",x.readyState=0<e?4:0,c=200<=e&&e<300||304===e,n&&(b=function(t,e,i){for(var n,a,o,s,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(a in r)if(r[a]&&r[a].test(n)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}s||(s=a)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,x,n)),b=function(t,e,i,n){var a,o,s,r,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(a in c)if((r=a.split(" "))[1]===o&&(s=c[l+" "+r[0]]||c["* "+r[0]])){!0===s?s=c[a]:!0!==c[a]&&(o=r[0],u.unshift(r[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,b,x,c),c?(f.ifModified&&((k=x.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=k),(k=x.getResponseHeader("etag"))&&(w.etag[o]=k)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,c=!(p=b.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(i||C)+"",c?v.resolveWith(m,[d,C,x]):v.rejectWith(m,[x,C,p]),x.statusCode(y),y=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?d:p]),_.fireWith(m,[x,C]),h&&(g.trigger("ajaxComplete",[x,f]),--w.active||w.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return w.get(t,e,i,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,i,n,a){return m(i)&&(a=a||n,n=i,i=void 0),w.ajax(w.extend({url:t,type:e,dataType:a,data:i,success:n},w.isPlainObject(t)&&t))}})),w._evalUrl=function(t,e){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(i){w(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var $e={0:200,1223:204},Ue=w.ajaxSettings.xhr();f.cors=!!Ue&&"withCredentials"in Ue,f.ajax=Ue=!!Ue,w.ajaxTransport((function(e){var i,n;if(f.cors||Ue&&!e.crossDomain)return{send:function(a,o){var s,r=e.xhr();if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];for(s in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)r.setRequestHeader(s,a[s]);i=function(t){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?o(0,"error"):o(r.status,r.statusText):o($e[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{r.send(e.hasContent&&e.data||null)}catch(a){if(i)throw a}},abort:function(){i&&i()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(a,o){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}}));var qe,Ge=[],Ye=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||w.expando+"_"+Te++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(e,i,n){var a,o,s,r=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Ye,"$1"+a):!1!==e.jsonp&&(e.url+=(Me.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return s||w.error(a+" was not called"),s[0]},e.dataTypes[0]="json",o=t[a],t[a]=function(){s=arguments},n.always((function(){void 0===o?w(t).removeProp(a):t[a]=o,e[a]&&(e.jsonpCallback=i.jsonpCallback,Ge.push(a)),s&&m(o)&&o(s[0]),s=o=void 0})),"script"})),f.createHTMLDocument=((qe=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),w.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(f.createHTMLDocument?((a=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(a)):e=n),s=!i&&[],(o=A.exec(t))?[e.createElement(o[1])]:(o=wt([t],e,s),s&&s.length&&w(s).remove(),w.merge([],o.childNodes)));var a,o,s},w.fn.load=function(t,e,i){var n,a,o,s=this,r=t.indexOf(" ");return-1<r&&(n=_e(t.slice(r)),t=t.slice(0,r)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(a="POST"),0<s.length&&w.ajax({url:t,type:a||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(n?w("<div>").append(w.parseHTML(t)).find(n):t)})).always(i&&function(t,e){s.each((function(){i.apply(this,o||[t.responseText,e,t])}))}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,i){var n,a,o,s,r,l,c=w.css(t,"position"),u=w(t),h={};"static"===c&&(t.style.position="relative"),r=u.offset(),o=w.css(t,"top"),l=w.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(n=u.position()).top,a=n.left):(s=parseFloat(o)||0,a=parseFloat(l)||0),m(e)&&(e=e.call(t,i,w.extend({},r))),null!=e.top&&(h.top=e.top-r.top+s),null!=e.left&&(h.left=e.left-r.left+a),"using"in e?e.using.call(t,h):u.css(h)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(i=n.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],a={top:0,left:0};if("fixed"===w.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((a=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),a.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-a.top-w.css(n,"marginTop",!0),left:e.left-a.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||at}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;w.fn[t]=function(n){return Z(this,(function(t,n,a){var o;if(g(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===a)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:a,i?a:o.pageYOffset):t[n]=a}),t,n,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Ht(f.pixelPosition,(function(t,i){if(i)return i=Zt(t,e),jt.test(i)?w(t).position()[e]+"px":i}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){w.fn[n]=function(a,o){var s=arguments.length&&(i||"boolean"!=typeof a),r=i||(!0===a||!0===o?"margin":"border");return Z(this,(function(e,i,a){var o;return g(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===a?w.css(e,i,r):w.style(e,i,a,r)}),e,s?a:void 0,s)}}))})),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,i){return 0<arguments.length?this.on(e,null,t,i):this.trigger(e)}})),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),w.proxy=function(t,e){var i,n,a;if("string"==typeof e&&(i=t[e],e=t,t=i),m(t))return n=o.call(arguments,2),(a=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||w.guid++,a},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=L,w.isFunction=m,w.isWindow=g,w.camelCase=q,w.type=y,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Ke=t.jQuery,Xe=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Xe),e&&t.jQuery===w&&(t.jQuery=Ke),w},e||(t.jQuery=t.$=w),w})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],t):t(jQuery)}((function(t){var e;function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,a)}function a(){t.datepicker._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function o(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}return t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,a,o;a="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),a)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):a&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,a,o,s=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(a=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:a,title:a}):a)),e[r?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,a,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(o.setMonth((e=function(t){for(i=0,n=0,a=0;a<t.length;a++)t[a].length>i&&(i=t[a].length,n=a);return n})(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,a,s){var r,l,c,u,h=this._dialogInst;return h||(this.uuid+=1,this._dialogInput=t("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),o(h.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(r=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(i){var n,a=t(i),o=t.data(i,"datepicker");a.hasClass(this.markerClassName)&&(n=i.nodeName.toLowerCase(),t.removeData(i,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),a.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||a.removeClass(this.markerClassName).empty(),e===o&&(e=null))},_enableDatepicker:function(e){var i,n,a=t(e),o=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=a.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,n,a=t(e),o=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=a.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var a,s,r,l,c=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null;a=i||{},"string"==typeof i&&((a={})[i]=n),c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),o(c.settings,a),null!==r&&void 0!==a.dateFormat&&void 0===a.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==a.dateFormat&&void 0===a.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,a,o=t.datepicker._getInst(e.target),s=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(a=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,a[0]),(i=t.datepicker._get(o,"onSelect"))?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,a=t.datepicker._getInst(e.target);if(t.datepicker._get(a,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(e){var i,n,a,s,r,l,c;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(a=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(o(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each((function(){return!(s|="fixed"===t(this).css("position"))})),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(i){this.maxRows=4,e=i,i.dpDiv.empty().append(this._generateHTML(i)),this._attachHandlers(i);var n,o=this._getNumberOfMonths(i),s=o[1],r=i.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&i.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),i.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),i.dpDiv[(this._get(i,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),i===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),i.yearshtml&&(n=i.yearshtml,setTimeout((function(){n===i.yearshtml&&i.yearshtml&&i.dpDiv.find("select.ui-datepicker-year:first").replaceWith(i.yearshtml),n=i.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var a=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?a-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>l&&l>a?Math.abs(i.left+a-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),a=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[a?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,a,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),a=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,a):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var a=t(e),o=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),a=this._getInst(n[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var a=t(e),o=this._getInst(a[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(a)},_selectDay:function(e,i,n,a){var o,s=t(e);t(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",a).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,a=t(e),o=this._getInst(a[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,a,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),a=this.formatDate(i,n,this._getFormatConfig(e)),t(o).val(a))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var a,o,s,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,y=!1,b=function(t){var i=a+1<e.length&&e.charAt(a+1)===t;return i&&a++,i},w=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,a=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=i.substring(l).match(a);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},k=function(e,n,a){var o=-1,s=t.map(b(e)?a:n,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(s,(function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return o=e[0],l+=n.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;a<e.length;a++)if(y)"'"!==e.charAt(a)||b("'")?C():y=!1;else switch(e.charAt(a)){case"d":v=w("d");break;case"D":k("D",h,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=k("M",p,f);break;case"y":m=w("y");break;case"@":m=(r=new Date(w("@"))).getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":m=(r=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":b("'")?C():y=!0;break;default:C()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),_>-1)for(g=1,v=_;!(v<=(o=this._getDaysInMonth(m,g-1)));)g++,v-=o;if((r=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),a,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,r);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,a=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||a("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,a=this._getDefaultDate(t),o=a,s=this._getFormatConfig(t);try{o=this.parseDate(i,n,s)||a}catch(r){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var a=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(c){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),o=n.getMonth(),s=n.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(a,o))}l=r.exec(i)}return new Date(a,o,s)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(a=a&&"Invalid Date"===a.toString()?n:a)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,a=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),a===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,n,a,o,s,r,l,c,u,h,d,p,f,m,g,v,_,y,b,w,k,C,x,T,M,S,L,A,I,z,D,E,P,O,N,R,F,B,j=new Date,W=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),V=this._get(t,"isRTL"),Z=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),Y=1!==U[0]||1!==U[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-q,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=$?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>",a=this._get(t,"nextText"),a=$?this.formatDate(a,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):a,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+a+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+a+"</span></a>",s=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?K:W,s=$?this.formatDate(s,r,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=Z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(V?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",k=0;k<U[0];k++){for(C="",this.maxRows=4,x=0;x<U[1];x++){if(T=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),M=" ui-corner-all",S="",Y){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(x){case 0:S+=" ui-datepicker-group-first",M=" ui-corner-"+(V?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",M=" ui-corner-"+(V?"left":"right");break;default:S+=" ui-datepicker-group-middle",M=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===k?V?o:n:"")+(/all|right/.test(M)&&0===k?V?n:o:"")+this._generateMonthYearHeader(t,J,tt,X,Q,k>0||x>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",L=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)L+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A=(w+u)%7]+"'>"+p[A]+"</span></th>";for(S+=L+"</tr></thead><tbody>",I=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),z=(this._getFirstDayOfMonth(tt,J)-u+7)%7,D=Math.ceil((z+I)/7),this.maxRows=E=Y&&this.maxRows>D?this.maxRows:D,P=this._daylightSavingAdjust(new Date(tt,J,1-z)),O=0;O<E;O++){for(S+="<tr>",N=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",w=0;w<7;w++)R=g?g.apply(t.input?t.input[0]:null,[P]):[!0,""],B=(F=P.getMonth()!==J)&&!_||!R[0]||X&&P<X||Q&&P>Q,N+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===P.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+R[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===W.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);S+=N+"</tr>"}++J>11&&(J=0,tt++),C+=S+="</tbody></table>"+(Y?"</div>"+(U[0]>0&&x===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=C}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,a,o,s,r){var l,c,u,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!g)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=a&&a.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=a.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");b+="</select>"}if(_||(y+=b+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=a?Math.min(m,a.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),_&&(y+=(!o&&g&&v?"":"&#xa0;")+b),y+"</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),a=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,a))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,a,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),a=i&&e<i?i:e;return n&&a>n?n:a},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var a=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(e<0?e:a[0]*a[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,a=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!a||e.getTime()>=a.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var a=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),a,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})),function(t){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],t):t(jQuery.datepicker)}((function(t){return t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","LunedÃ¬","MartedÃ¬","MercoledÃ¬","GiovedÃ¬","VenerdÃ¬","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.it),t.regional.it})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){var e,i="ui-effects-animated",n=t;return t.effects={effect:{}},function(t,e){var i,n=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,i,n,a){return new t.Color.fn.parse(e,i,n,a)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},c=t("<p>")[0],u=t.each;function h(t,e,i){var n=r[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function d(e){var n=o(),r=n._rgba=[];return e=e.toLowerCase(),u(a,(function(t,i){var a,o=i.re.exec(e),l=o&&i.parse(o),c=i.space||"rgba";if(l)return a=n[c](l),n[s[c].cache]=a[s[c].cache],r=n._rgba=a._rgba,!1})),r.length?("0,0,0,0"===r.join()&&t.extend(r,i.transparent),n):i[e]}function p(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(s,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),o.fn=t.extend(o.prototype,{parse:function(e,n,a,r){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(n),n=void 0);var l=this,c=t.type(e),p=this._rgba=[];return void 0!==n&&(e=[e,n,a,r],c="array"),"string"===c?this.parse(d(e)||i._default):"array"===c?(u(s.rgba.props,(function(t,i){p[i.idx]=h(e[i.idx],i)})),this):"object"===c?(u(s,e instanceof o?function(t,i){e[i.cache]&&(l[i.cache]=e[i.cache].slice())}:function(i,n){var a=n.cache;u(n.props,(function(t,i){if(!l[a]&&n.to){if("alpha"===t||null==e[t])return;l[a]=n.to(l._rgba)}l[a][i.idx]=h(e[t],i,!0)})),l[a]&&t.inArray(null,l[a].slice(0,3))<0&&(l[a][3]=1,n.from&&(l._rgba=n.from(l[a])))}),this):void 0},is:function(t){var e=o(t),i=!0,n=this;return u(s,(function(t,a){var o,s=e[a.cache];return s&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],u(a.props,(function(t,e){if(null!=s[e.idx])return i=s[e.idx]===o[e.idx]}))),i})),i},_space:function(){var t=[],e=this;return u(s,(function(i,n){e[n.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var i=o(t),n=i._space(),a=s[n],l=0===this.alpha()?o("transparent"):this,c=l[a.cache]||a.to(l._rgba),d=c.slice();return i=i[a.cache],u(a.props,(function(t,n){var a=n.idx,o=c[a],s=i[a],l=r[n.type]||{};null!==s&&(null===o?d[a]=s:(l.mod&&(s-o>l.mod/2?o+=l.mod:o-s>l.mod/2&&(o-=l.mod)),d[a]=h((s-o)*e+o,n)))})),this[n](d)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),a=o(e)._rgba;return o(t.map(i,(function(t,e){return(1-n)*a[e]+n*t})))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],s=Math.max(i,n,a),r=Math.min(i,n,a),l=s-r,c=s+r,u=.5*c;return e=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(r===s?0:i===s?60*(n-a)/l+360:n===s?60*(a-i)/l+120:60*(i-n)/l+240)%360,e,u,null==o?1:o]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],a=t[3],o=n<=.5?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*p(s,o,e+1/3)),Math.round(255*p(s,o,e)),Math.round(255*p(s,o,e-1/3)),a]},u(s,(function(e,i){var a=i.props,s=i.cache,r=i.to,l=i.from;o.fn[e]=function(e){if(r&&!this[s]&&(this[s]=r(this._rgba)),void 0===e)return this[s].slice();var i,n=t.type(e),c="array"===n||"object"===n?e:arguments,d=this[s].slice();return u(a,(function(t,e){var i=c["object"===n?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=h(i,e)})),l?((i=o(l(d)))[s]=d,i):o(d)},u(a,(function(i,a){o.fn[i]||(o.fn[i]=function(o){var s,r=t.type(o),l="alpha"===i?this._hsla?"hsla":"rgba":e,c=this[l](),u=c[a.idx];return"undefined"===r?u:("function"===r&&(o=o.call(this,u),r=t.type(o)),null==o&&a.empty?this:("string"===r&&(s=n.exec(o))&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1)),c[a.idx]=o,this[l](c)))})}))})),o.hook=function(e){var i=e.split(" ");u(i,(function(e,i){t.cssHooks[i]={set:function(e,n){var a,s,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=d(n)))){if(n=o(a||n),!l.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&s&&s.style;)try{r=t.css(s,"backgroundColor"),s=s.parentNode}catch(c){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(c){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=o(e.elem,i),e.end=o(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],(function(i,n){e["border"+n+"Color"]=t})),e}},i=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){var e,i=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(e){var i,n,a=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(a&&a.length&&a[0]&&a[a[0]])for(n=a.length;n--;)"string"==typeof a[i=a[n]]&&(o[t.camelCase(i)]=a[i]);else for(i in a)"string"==typeof a[i]&&(o[i]=a[i]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(n.style(t.elem,i,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,n,s,r){var l=t.speed(n,s,r);return this.queue((function(){var n,s=t(this),r=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map((function(){return{el:t(this),start:o(this)}})),(n=function(){t.each(i,(function(t,i){e[i]&&s[i+"Class"](e[i])}))})(),c=c.map((function(){return this.end=o(this.el[0]),this.diff=function(e,i){var n,o,s={};for(n in i)e[n]!==(o=i[n])&&(a[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(s[n]=o));return s}(this.start,this.end),this})),s.attr("class",r),c=c.map((function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()})),t.when.apply(t,c.get()).done((function(){n(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(s[0])}))}))},t.fn.extend({addClass:(e=t.fn.addClass,function(i,n,a,o){return n?t.effects.animateClass.call(this,{add:i},n,a,o):e.apply(this,arguments)}),removeClass:function(e){return function(i,n,a,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,a,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,a,o,s){return"boolean"==typeof n||void 0===n?a?t.effects.animateClass.call(this,n?{add:i}:{remove:i},a,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,a,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,a,o)}})}(),function(){var e;function n(e,i,n,a){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(a=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(a=n,n=i,i={}),t.isFunction(n)&&(a=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=a||i.complete,e}function a(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function o(t,e){var i=e.outerWidth(),n=e.outerHeight(),a=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?i:parseFloat(a[2]),bottom:"auto"===a[3]?n:parseFloat(a[3]),left:parseFloat(a[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(n){return!!t(n).data(i)||e(n)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;i<n;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,a=e.length;n<a;n++)null!==e[n]&&(i=t.data("ui-effects-"+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:e.width(),height:e.height()},o=document.activeElement;return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(a),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,a="vertical"!==i?(e||100)/100:1;return{height:t.height()*a,width:t.width()*n,outerHeight:t.outerHeight()*a,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),a=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",i)),e.css({position:n,left:a.left,top:a.top}),i},removePlaceholder:function(t){var e="ui-effects-placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,a){return a=a||{},t.each(i,(function(t,i){var o=e.cssUnit(i);o[0]>0&&(a[i]=o[0]*n+o[1])})),a}}),t.fn.extend({effect:function(){var e=n.apply(this,arguments),a=t.effects.effect[e.effect],o=a.mode,s=e.queue,r=s||"fx",l=e.complete,c=e.mode,u=[],h=function(e){var n=t(this),a=t.effects.mode(n,c)||o;n.data(i,!0),u.push(a),o&&("show"===a||a===o&&"hide"===a)&&n.show(),o&&"none"===a||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!a)return c?this[c](e.duration,l):this.each((function(){l&&l.call(this)}));function d(n){var s=t(this);function r(){t.isFunction(l)&&l.call(s[0]),t.isFunction(n)&&n()}e.mode=u.shift(),!1===t.uiBackCompat||o?"none"===e.mode?(s[c](),r()):a.call(s[0],e,(function(){s.removeData(i),t.effects.cleanUp(s),"hide"===e.mode&&s.hide(),r()})):(s.is(":hidden")?"hide"===c:"show"===c)?(s[c](),r()):a.call(s[0],e,r)}return!1===s?this.each(h).each(d):this.queue(r,h).queue(r,d)},show:function(t){return function(e){if(a(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(a(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(a(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])})),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):o(this.css("clip"),this)},transfer:function(e,i){var n=t(this),a=t(e.to),o="fixed"===a.css("position"),s=t("body"),r=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=a.offset(),u={top:c.top-r,left:c.left-l,height:a.innerHeight(),width:a.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,(function(){d.remove(),t.isFunction(i)&&i()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=o(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,i){e[i]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})),t.effects})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){var e,i=0,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var n,a,o;for(o=0;null!=(a=i[o]);o++)try{(n=t._data(a,"events"))&&n.remove&&t(a).triggerHandler("remove")}catch(s){}e(i)}),t.widget=function(e,i,n){var a,o,s,r={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(s=new i).options=t.widget.extend({},s.options),t.each(n,(function(e,n){r[e]=t.isFunction(n)?function(){function t(){return i.prototype[e].apply(this,arguments)}function a(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=a,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}():n})),o.prototype=t.widget.extend(s,{widgetEventPrefix:a&&s.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),a?(t.each(a._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)})),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,a,o=n.call(arguments,1),s=0,r=o.length;s<r;s++)for(i in o[s])a=o[s][i],o[s].hasOwnProperty(i)&&void 0!==a&&(e[i]=t.isPlainObject(a)?t.isPlainObject(e[i])?t.widget.extend({},e[i],a):t.widget.extend({},a):a);return e},t.widget.bridge=function(e,i){var a=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,r=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var i,n=t.data(this,a);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each((function(){var e=t.data(this,a);e?(e.option(o||{}),e._init&&e._init()):t.data(this,a,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,a,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(a=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)a[n[o]]=a[n[o]]||{},a=a[n[o]];if(e=n.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,a;for(i in e)a=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&a&&a.length&&(n=t(a.get()),this._removeClass(a,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;function a(a,o){var s,r;for(r=0;r<a.length;r++)s=n.classesElementLookup[a[r]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),n.classesElementLookup[a[r]]=s,i.push(a[r]),o&&e.classes[a[r]]&&i.push(e.classes[a[r]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&a(e.keys.match(/\S+/g)||[],!0),e.extra&&a(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,a){-1!==t.inArray(e.target,a)&&(i.classesElementLookup[n]=t(a.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){var a="string"==typeof t||null===t,o={extra:a?e:i,keys:a?t:e,element:a?this.element:t,add:n="boolean"==typeof n?n:i};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var a,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=a=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),t.each(n,(function(n,s){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?a.on(c,u,r):i.on(c,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var a,o,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(a in o)a in i||(i[a]=o[a]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,a,o){var s;"string"==typeof a&&(a={effect:a});var r=a?!0===a||"number"==typeof a?i:a.effect||i:e;"number"==typeof(a=a||{})&&(a={duration:a}),s=!t.isEmptyObject(a),a.complete=o,a.delay&&n.delay(a.delay),s&&t.effects&&t.effects.effect[r]?n[e](a):r!==e&&n[r]?n[r](a.duration,a.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),t.widget})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}});var e})),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}((function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,a=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(a&&!o&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,a=this.element.find(".ui-slider-handle"),o=[];for(a.length>(i=n.values&&n.values.length||1)&&(a.slice(i).remove(),a=a.slice(0,i)),e=a.length;e<i;e++)o.push("<span tabindex='0'></span>");this.handles=a.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,a,o,s,r,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i=this._normValueFromMouse({x:e.pageX,y:e.pageY}),n=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var s=Math.abs(i-l.values(e));(n>s||n===s&&(e===l._lastChangedValue||l.values(e)===c.min))&&(n=s,a=t(this),o=e)})),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),s=a.offset(),r=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:e.pageX-s.left-a.width()/2,top:e.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e=this._normValueFromMouse({x:t.pageX,y:t.pageY});return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,a,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),a=this._valueMax()-this._valueMin(),o=this._valueMin()+n*a,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,a=this.value(),o=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),a=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),o[e]=i),i!==a&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,a,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,a=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(a[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,a=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(a=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=a-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(t){var e,i;if(arguments.length)return this._trimAlignValue(this.options.values[t]);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;i<e.length;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,a,o,s=this.options.range,r=this.options,l=this,c=!this._animateOff&&r.animate,u={};this._hasMultipleValues()?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i})):(n=this.value(),a=this._valueMin(),o=this._valueMax(),u["horizontal"===this.orientation?"left":"bottom"]=(i=o!==a?(n-a)/(o-a)*100:0)+"%",this.handle.stop(1,1)[c?"animate":"css"](u,r.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},r.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,n,a,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(a=this.options.step,i=n=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-a)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}((function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,a=n?this.options.iconPosition:i,o="top"===a||"bottom"===a;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(a),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(a))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){(void 0===t.showLabel?this.options.showLabel:t.showLabel)||(void 0===t.icon?this.options.icon:t.icon)||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button})),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){var e;return t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(e=/#.*$/,function(t){var i,n;i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(a){}try{n=decodeURIComponent(n)}catch(a){}return t.hash.length>1&&i===n}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each((function(i,a){if(t(a).attr("aria-controls")===n)return e=i,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),a=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray((e>n&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),(function(t){return i.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,a=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(i,n){var a,o,s,r=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(s=(a=n.hash).substring(1),o=e.element.find(e._sanitizeSelector(a))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,(o=e.element.find(a="#"+s)).length||(o=e._createPanel(s)).insertAfter(e.panels[i-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":r}),o.attr("aria-labelledby",r)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(a.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,a;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),a=0;n=this.tabs[a];a++)i=t(n),!0===e||-1!==t.inArray(a,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each((function(){i=Math.max(i,t(this).height("").height())})).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,a=t(e.currentTarget).closest("li"),o=a[0]===n[0],s=o&&i.collapsible,r=s?t():this._getPanelForTab(a),l=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:l,newTab:s?t():a,newPanel:r};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!s&&this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||r.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){var n=this,a=i.newPanel,o=i.oldPanel;function s(){n.running=!1,n._trigger("activate",e,i)}function r(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&n.options.show?n._show(a,n.options.show,s):(a.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()})):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),r()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&o.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,i){return i!==e?i:null}))),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),s=this._getPanelForTab(a),r={tab:a,panel:s},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(a,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(a,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done((function(t,e,a){setTimeout((function(){s.html(t),n._trigger("load",i,r),l(a,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,i,n){var a=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return a._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs})),function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,a=this.length;++n<a&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(jQuery),function(t,e){"use strict";if(window.Select2===e){var i,n,a,o,s,r,l,c,u={x:0,y:0},h={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case h.LEFT:case h.RIGHT:case h.UP:case h.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case h.SHIFT:case h.CTRL:case h.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&t<=123}},d={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};r=t(document),c=1,o=function(){return c++},i=z(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,a,s,r;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t("body"),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(A(i.containerCss,this.opts.element)),this.container.addClass(A(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",w),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",w),this.results=n=this.container.find(".select2-results"),this.search=a=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",w),this.results.on("mousemove",(function(i){u!==e&&u.x===i.pageX&&u.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind((function(t){this._touchEvent=!0,this.highlightUnderEvent(t)}))),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),s=this.results,r=b(80,(function(t){s.trigger("scroll-debounced",t)})),s.on("scroll",(function(t){m(t.target,s.get())>=0&&r(t)})),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",(function(t){t.stopPropagation()})),t(this.dropdown).on("change",".select2-input",(function(t){t.stopPropagation()})),t.fn.mousewheel&&n.mousewheel((function(t,e,i,a){var o=n.scrollTop();a>0&&o-a<=0?(n.scrollTop(0),w(t)):a<0&&n.get(0).scrollHeight-n.scrollTop()+a<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),w(t))})),y(a),a.on("keyup-change input paste",this.bind(this.updateResults)),a.on("focus",(function(){a.addClass("select2-focused")})),a.on("blur",(function(){a.removeClass("select2-focused")})),this.dropdown.on("mouseup",".select2-results",this.bind((function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(t){t.stopPropagation()})),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var c=i.element.prop("disabled");c===e&&(c=!1),this.enable(!c);var h=i.element.prop("readonly");h===e&&(h=!1),this.readonly(h),l=l||function(){var e=t("<div class='select2-measure-scrollbar'></div>");e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&t.each((function(){this.detachEvent("onpropertychange",n._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),I.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:g(t.attr("locked"),"locked")||g(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,a,s,r,l=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(i=t.extend({},{populateResults:function(n,a,s){var r,c=this.opts.id,u=this.liveRegion;(r=function(n,a,h){var d,p,f,m,g,v,_,y,b,w,k=[];for(d=0,p=(n=i.sortResults(n,a,s)).length;d<p;d+=1)m=!(g=!0===(f=n[d]).disabled)&&c(f)!==e,v=f.children&&f.children.length>0,(_=t("<li></li>")).addClass("select2-results-dept-"+h),_.addClass("select2-result"),_.addClass(m?"select2-result-selectable":"select2-result-unselectable"),g&&_.addClass("select2-disabled"),v&&_.addClass("select2-result-with-children"),_.addClass(l.opts.formatResultCssClass(f)),_.attr("role","presentation"),(y=t(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+o()),y.attr("role","option"),(w=i.formatResult(f,y,s,l.opts.escapeMarkup))!==e&&(y.html(w),_.append(y)),v&&((b=t("<ul></ul>")).addClass("select2-result-sub"),r(f.children,b,h+1),_.append(b)),_.data("select2-data",f),k.push(_[0]);a.append(k),u.text(i.formatMatches(n.length))})(a,n,0)}},t.fn.select2.defaults,i)).id&&(s=i.id,i.id=function(t){return t[s]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(a?(i.query=this.bind((function(t){var i,a,o,s={results:[],more:!1},r=t.term;o=function(e,i){var n;e.is("option")?t.matcher(r,e.text(),e)&&i.push(l.optionToData(e)):e.is("optgroup")&&(n=l.optionToData(e),e.children().each2((function(t,e){o(e,n.children)})),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(a=this.getPlaceholderOption())&&(i=i.not(a)),i.each2((function(t,e){o(e,s.results)})),t.callback(s)})),i.id=function(t){return t.id}):"query"in i||("ajax"in i?((r=i.element.data("ajax-url"))&&r.length>0&&(i.ajax.url=r),i.query=T.call(i.element,i.ajax)):"data"in i?i.query=M(i.data):"tags"in i&&(i.query=S(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var a=[];t(v(e.val(),i.separator)).each((function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each((function(){if(g(this.id,e.id))return e=this,!1})),a.push(e)})),n(a)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,a=this;n.on("change.select2",this.bind((function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(A(this.opts.containerCssClass,this.opts.element)),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(this.opts.dropdownCssClass,this.opts.element))})),n.length&&n[0].attachEvent&&n.each((function(){this.attachEvent("onpropertychange",a._sync)})),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i((function(e){t.each(e,a._sync)})),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=t.extend({},e=e||{},{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",!t),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,a,o,s=this.dropdown,r=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),h=s.outerHeight(!1),d=t(window),p=d.width(),f=d.height(),m=d.scrollLeft()+p,g=d.scrollTop()+f,v=r.top+c,_=r.left,y=v+h<=g,b=r.top-h>=d.scrollTop(),w=s.outerWidth(!1),k=_+w<=m;s.hasClass("select2-drop-above")?(i=!0,!b&&y&&(n=!0,i=!1)):(i=!1,!y&&b&&(n=!0,i=!0)),n&&(s.hide(),r=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),h=s.outerHeight(!1),m=d.scrollLeft()+p,g=d.scrollTop()+f,v=r.top+c,k=(_=r.left)+(w=s.outerWidth(!1))<=m,s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),(w=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:l.width))>u?u=w:w=u,h=s.outerHeight(!1),k=_+w<=m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(e=this.body.offset()).top,_-=e.left),k||(_=r.left+this.container.outerWidth(!1)-w),a={left:_,width:u},i?(a.top=r.top-h,a.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(a.top=v,a.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),a=t.extend(a,A(this.opts.dropdownCss,this.opts.element)),s.css(a)},shouldOpen:function(){var e;return!this.opened()&&!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),r.on("mousemove.select2Event",(function(t){u.x=t.pageX,u.y=t.pageY})),!0)},opening:function(){var e,i=this.containerEventName,n="scroll."+i,a="resize."+i,o="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(e=t("#select2-drop-mask")).length&&((e=t(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",(function(i){p(e);var n,a=t("#select2-drop");a.length>0&&((n=a.data("select2")).opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),i.preventDefault(),i.stopPropagation())}))),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each((function(){t(this).on(a+" "+n+" "+o,(function(t){s.opened()&&s.positionDropdown()}))}))},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,a="orientationchange."+e;this.container.parents().add(window).each((function(){t(this).off(i).off(n).off(a)})),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),r.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return A(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,a,o,s,r,l,c=this.results;(i=this.highlight())<0||(0!=i?(e=this.findHighlightableChoices().find(".select2-result-label"),a=(l=((n=t(e[i])).offset()||{}).top||0)+n.outerHeight(!0),i===e.length-1&&(r=c.find("li.select2-more-results")).length>0&&(a=r.offset().top+r.outerHeight(!0)),a>(o=c.offset().top+c.outerHeight(!0))&&c.scrollTop(c.scrollTop()+(a-o)),(s=l-c.offset().top)<0&&"none"!=n.css("display")&&c.scrollTop(c.scrollTop()+s)):c.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var a=t(i[n+=e]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,a=this.findHighlightableChoices();if(0===arguments.length)return m(a.filter(".select2-highlighted")[0],a.get());e>=a.length&&(e=a.length-1),e<0&&(e=0),this.removeHighlight(),(i=t(a[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,a=this.search.val(),o=this.context;0!==e.length&&e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:i,context:o,matcher:this.opts.matcher,callback:this.bind((function(s){n.opened()&&(n.opts.populateResults.call(this,t,s.results,{term:a,page:i,context:o}),n.postprocessResults(s,!1,!1),!0===s.more?(e.detach().appendTo(t).text(A(n.opts.formatLoadMore,n.opts.element,i+1)),window.setTimeout((function(){n.loadMoreIfNeeded()}),10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=s.context,this.opts.element.trigger({type:"select2-loaded",items:s}))}))}))},tokenize:function(){},updateResults:function(i){var n,a,o,s=this.search,r=this.results,l=this.opts,c=this,u=s.val(),h=t.data(this.container,"select2-last-term");if((!0===i||!h||!g(u,h))&&(t.data(this.container,"select2-last-term",u),!0===i||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var d=this.getMaximumSelectionSize();if(!(d>=1&&(n=this.data(),t.isArray(n)&&n.length>=d&&L(l.formatSelectionTooBig,"formatSelectionTooBig"))))return s.val().length<l.minimumInputLength?(L(l.formatInputTooShort,"formatInputTooShort")?f("<li class='select2-no-results'>"+A(l.formatInputTooShort,l.element,s.val(),l.minimumInputLength)+"</li>"):f(""),void(i&&this.showSearch&&this.showSearch(!0))):void(l.maximumInputLength&&s.val().length>l.maximumInputLength?L(l.formatInputTooLong,"formatInputTooLong")?f("<li class='select2-no-results'>"+A(l.formatInputTooLong,l.element,s.val(),l.maximumInputLength)+"</li>"):f(""):(l.formatSearching&&0===this.findHighlightableChoices().length&&f("<li class='select2-searching'>"+A(l.formatSearching,l.element)+"</li>"),s.addClass("select2-active"),this.removeHighlight(),(a=this.tokenize())!=e&&null!=a&&s.val(a),this.resultsPage=1,l.query({element:l.element,term:s.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind((function(n){var a;o==this.queryCount&&(this.opened()?n.hasError!==e&&L(l.formatAjaxError,"formatAjaxError")?f("<li class='select2-ajax-error'>"+A(l.formatAjaxError,l.element,n.jqXHR,n.textStatus,n.errorThrown)+"</li>"):(this.context=n.context===e?null:n.context,this.opts.createSearchChoice&&""!==s.val()&&(a=this.opts.createSearchChoice.call(c,s.val(),n.results))!==e&&null!==a&&c.id(a)!==e&&null!==c.id(a)&&0===t(n.results).filter((function(){return g(c.id(this),c.id(a))})).length&&this.opts.createSearchChoicePosition(n.results,a),0===n.results.length&&L(l.formatNoMatches,"formatNoMatches")?f("<li class='select2-no-results'>"+A(l.formatNoMatches,l.element,s.val())+"</li>"):(r.empty(),c.opts.populateResults.call(this,r,n.results,{term:s.val(),page:this.resultsPage,context:null}),!0===n.more&&L(l.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+l.escapeMarkup(A(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout((function(){c.loadMoreIfNeeded()}),10)),this.postprocessResults(n,i),p(),this.opts.element.trigger({type:"select2-loaded",items:n}))):this.search.removeClass("select2-active"))}))})));f("<li class='select2-selection-limit'>"+A(l.formatSelectionTooBig,l.element,d)+"</li>")}function p(){s.removeClass("select2-active"),c.positionDropdown(),r.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(r.text()):c.liveRegion.text(c.opts.formatMatches(r.find(".select2-result-selectable").length))}function f(t){r.html(t),p()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var t;(t=this.search)[0]!==document.activeElement&&window.setTimeout((function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((e=i.createTextRange()).collapse(!1),e.select()))}),0)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){var i=(function(){var i,n,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==e)for(o=0,s=(n=i.split(";")).length;o<s;o+=1)if(null!==(a=n[o].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&a.length>=1)return a[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width")).indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}).call(this);null!==i&&this.container.css("width",i)}}),n=z(i,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(i=this.search.get(0)).createTextRange?((n=i.createTextRange()).collapse(!1),n.select()):i.setSelectionRange&&(a=this.search.val().length,i.setSelectionRange(a,a))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"selection","focusser")},initContainer:function(){var e,i,n=this.container,a=this.dropdown,s=o();this.showSearch(!(this.opts.minimumResultsForSearch<0)),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode)if(t.which!==h.PAGE_UP&&t.which!==h.PAGE_DOWN)switch(t.which){case h.UP:case h.DOWN:return this.moveHighlight(t.which===h.UP?-1:1),void w(t);case h.ENTER:return this.selectHighlighted(),void w(t);case h.TAB:return void this.selectHighlighted({noFocus:!0});case h.ESC:return this.cancel(t),void w(t)}else w(t)}))),this.search.on("blur",this.bind((function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()&&t.which!==h.TAB&&!h.isControl(t)&&!h.isFunctionKey(t)&&t.which!==h.ESC){if(!1!==this.opts.openOnEnter||t.which!==h.ENTER){if(t.which==h.DOWN||t.which==h.UP||t.which==h.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void w(t)}return t.which==h.DELETE||t.which==h.BACKSPACE?(this.opts.allowClear&&this.clear(),void w(t)):void 0}w(t)}}))),y(this.focusser),this.focusser.on("keyup-change input",this.bind((function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}}))),e.on("mousedown touchstart","abbr",this.bind((function(t){var e;this.isInterfaceEnabled()&&(this.clear(),(e=t).preventDefault(),e.stopImmediatePropagation(),this.close(),this.selection.focus())}))),e.on("mousedown touchstart",this.bind((function(i){p(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),w(i)}))),a.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),e.on("focus",this.bind((function(t){w(t)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(i,t.search.val()))}))}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter((function(){return this.selected&&!this.disabled}));e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var a=i.val(),o=null;e.query({matcher:function(t,i,n){var s=g(a,e.id(n));return s&&(o=n),s},callback:t.isFunction(n)?function(){n(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,i,n){var a=0,o=this;if(this.findHighlightableChoices().each2((function(t,e){if(g(o.id(e.data("select2-data")),o.opts.element.val()))return a=t,!1})),!1!==n&&this.highlight(!0===i&&a>=0?a:0),!0===i){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(function e(i){var n=0;return t.each(i,(function(t,i){i.children?n+=e(i.children):n++})),n}(e.results)>=s)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),a.empty(),null!==t&&(i=this.opts.formatSelection(t,a,this.opts.escapeMarkup)),i!==e&&a.append(i),(n=this.opts.formatSelectionCssClass(t,a))!==e&&a.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,a=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter((function(){return this.selected})).each2((function(t,e){return n=a.optionToData(e),!1})),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,(function(t){a.opts.element.val(t?a.id(t):""),a.updateSelection(t),a.setPlaceholder(),i&&a.triggerChange({added:t,removed:o})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;if(0===arguments.length)return(i=this.selection.data("select2-data"))==e&&(i=null),i;arguments.length>1&&(n=arguments[1]),t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)}}),a=z(i,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(t,e){n.push(i.optionToData(e))})),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var a=v(i.val(),e.separator),o=[];e.query({matcher:function(i,n,s){var r=t.grep(a,(function(t){return g(t,e.id(s))})).length;return r&&o.push(s),r},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<a.length;i++)for(var s=a[i],r=0;r<o.length;r++){var l=o[r];if(g(s,e.id(l))){t.push(l),o.splice(r,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(e){n.search[0].focus(),n.selectChoice(t(this))})),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(i){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),a=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),s=function(e){var i=0,n=0;if("selectionStart"in(e=t(e)[0]))n=e.selectionEnd-(i=e.selectionStart);else if("selection"in document){e.focus();var a=document.selection.createRange();n=document.selection.createRange().text.length,a.moveStart("character",-e.value.length),i=a.text.length-n}return{offset:i,length:n}}(this.search);if(n.length&&(i.which==h.LEFT||i.which==h.RIGHT||i.which==h.BACKSPACE||i.which==h.DELETE||i.which==h.ENTER)){var r=n;return i.which==h.LEFT&&a.length?r=a:i.which==h.RIGHT?r=o.length?o:null:i.which===h.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),r=a.length?a:o):i.which==h.DELETE?this.unselect(n.first())&&(this.search.width(10),r=o.length?o:null):i.which==h.ENTER&&(r=null),this.selectChoice(r),w(i),void(r&&r.length||this.open())}if((i.which===h.BACKSPACE&&1==this.keydowns||i.which==h.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void w(i);if(this.selectChoice(null),this.opened())switch(i.which){case h.UP:case h.DOWN:return this.moveHighlight(i.which===h.UP?-1:1),void w(i);case h.ENTER:return this.selectHighlighted(),void w(i);case h.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case h.ESC:return this.cancel(i),void w(i)}if(i.which!==h.TAB&&!h.isControl(i)&&!h.isFunctionKey(i)&&i.which!==h.BACKSPACE&&i.which!==h.ESC){if(i.which===h.ENTER){if(!1===this.opts.openOnEnter)return;if(i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)return}this.open(),i.which!==h.PAGE_UP&&i.which!==h.PAGE_DOWN||w(i),i.which===h.ENTER&&w(i)}}}))),this.search.on("keyup",this.bind((function(t){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))}))),this.container.on("click",i,this.bind((function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))}))),this.container.on("focus",i,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())}))}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],n=[],a=this;t(e).each((function(){m(a.id(this),i)<0&&(i.push(a.id(this)),n.push(this))})),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each((function(){a.addSelectedChoice(this)})),a.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,i){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,a,o=!i.locked,s=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?s:r,c=this.id(i),u=this.getVal();(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=e&&l.find("div").replaceWith("<div>"+n+"</div>"),(a=this.opts.formatSelectionCssClass(i,l.find("div")))!=e&&l.addClass(a),o&&l.find(".select2-search-choice-close").on("mousedown",w).on("click dblclick",this.bind((function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),w(e),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",i),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var i,n,a=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=m(this.id(i),a))>=0;)a.splice(n,1),this.setVal(a),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;a.each2((function(t,e){m(s.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))})),o.each2((function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")})),-1==this.highlight()&&!1!==i&&s.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&L(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+A(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-_(this.search)},resizeSearch:function(){var e,i,n,a,o=_(this.search);e=function(e){if(!s){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);(s=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),t("body").append(s)}return s.text(e.val()),s.width()}(this.search)+10,i=this.search.offset().left,(a=(n=this.selection.width())-(i-this.selection.offset().left)-o)<e&&(a=n-o),a<40&&(a=n-o),a<=0&&(a=e),this.search.width(Math.floor(a))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:v(t=this.opts.element.val(),this.opts.separator)},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each((function(){m(this,i)<0&&i.push(this)})),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)g(this.opts.id(e[i]),this.opts.id(t[n]))&&(e.splice(i,1),i>0&&i--,t.splice(n,1),n--);return{added:e,removed:t}},val:function(i,n){var a,o=this;if(0===arguments.length)return this.getVal();if((a=this.data()).length||(a=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:a}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(a,o.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){e.push(i.opts.id(t(this).data("select2-data")))})),this.setVal(e),this.triggerChange()},data:function(e,i){var n,a,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map((function(){return t(this).data("select2-data")})).get();a=this.data(),e||(e=[]),n=t.map(e,(function(t){return o.opts.id(t)})),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(a,this.data()))}}),t.fn.select2=function(){var i,n,a,o,s,r=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],h={search:"externalSearch"};return this.each((function(){if(0===r.length||"object"==typeof r[0])(i=0===r.length?{}:t.extend({},r[0])).element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),(n=s?new window.Select2.class.multi:new window.Select2.class.single).init(i);else{if("string"!=typeof r[0])throw"Invalid arguments to select2 plugin: "+r;if(m(r[0],l)<0)throw"Unknown method: "+r[0];if(o=e,(n=t(this).data("select2"))===e)return;if("container"===(a=r[0])?o=n.container:"dropdown"===a?o=n.dropdown:(h[a]&&(a=h[a]),o=n[a].apply(n,r.slice(1))),m(r[0],c)>=0||m(r[0],u)>=0&&1==r.length)return!1}})),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var a=[];return C(t.text,i.term,a,n),a.join("")},formatSelection:function(t,i,n){return t?n(t.text):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,i){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return f(""+e).toUpperCase().indexOf(f(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(t,i,n,a){var o,s,r,l,c,u=t,h=!1;if(!a.createSearchChoice||!a.tokenSeparators||a.tokenSeparators.length<1)return e;for(;;){for(s=-1,r=0,l=a.tokenSeparators.length;r<l&&!((s=t.indexOf(c=a.tokenSeparators[r]))>=0);r++);if(s<0)break;if(o=t.substring(0,s),t=t.substring(s+c.length),o.length>0&&(o=a.createSearchChoice.call(this,o,i))!==e&&null!==o&&a.id(o)!==e&&null!==a.id(o)){for(h=!1,r=0,l=i.length;r<l;r++)if(g(a.id(o),a.id(i[r]))){h=!0;break}h||n(o)}}return u!==t?t:void 0},escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more resultsâ¦"},formatSearching:function(){return"Searchingâ¦"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:T,local:M,tags:S},util:{debounce:b,markMatch:C,escapeMarkup:x,stripDiacritics:f},class:{abstract:i,single:n,multi:a}}}function p(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function f(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return d[t]||t}))}function m(t,e){for(var i=0,n=e.length;i<n;i+=1)if(g(t,e[i]))return i;return-1}function g(t,i){return t===i||t!==e&&i!==e&&null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+"")}function v(e,i){var n,a,o;if(null===e||e.length<1)return[];for(a=0,o=(n=e.split(i)).length;a<o;a+=1)n[a]=t.trim(n[a]);return n}function _(t){return t.outerWidth(!1)-t.width()}function y(i){var n="keyup-change-value";i.on("keydown",(function(){t.data(i,n)===e&&t.data(i,n,i.val())})),i.on("keyup",(function(){var a=t.data(i,n);a!==e&&i.val()!==a&&(t.removeData(i,n),i.trigger("keyup-change"))}))}function b(t,i,n){var a;return n=n||e,function(){var e=arguments;window.clearTimeout(a),a=window.setTimeout((function(){i.apply(n,e)}),t)}}function w(t){t.preventDefault(),t.stopPropagation()}function k(e,i,n){var a,o,s=[];(a=t.trim(e.attr("class")))&&t((a=""+a).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&s.push(this)})),(a=t.trim(i.attr("class")))&&t((a=""+a).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&(o=n(this))&&s.push(o)})),e.attr("class",s.join(" "))}function C(t,e,i,n){var a=f(t.toUpperCase()).indexOf(f(e.toUpperCase())),o=e.length;a<0?i.push(n(t)):(i.push(n(t.substring(0,a))),i.push("<span class='select2-match'>"),i.push(n(t.substring(a,a+o))),i.push("</span>"),i.push(n(t.substring(a+o,t.length))))}function x(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))}function T(i){var n,a=null,o=i.quietMillis||100,s=i.url,r=this;return function(l){window.clearTimeout(n),n=window.setTimeout((function(){var n=i.data,o=s,c=i.transport||t.fn.select2.ajaxDefaults.transport,u=t.extend({},t.fn.select2.ajaxDefaults.params,{type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"});n=n?n.call(r,l.term,l.page,l.context):null,o="function"==typeof o?o.call(r,l.term,l.page,l.context):o,a&&"function"==typeof a.abort&&a.abort(),i.params&&(t.isFunction(i.params)?t.extend(u,i.params.call(r)):t.extend(u,i.params)),t.extend(u,{url:o,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){l.callback({hasError:!0,jqXHR:t,textStatus:e,errorThrown:i})}}),a=c.call(r,u)}),o)}}function M(e){var i,n,a=e,o=function(t){return""+t.text};t.isArray(a)&&(a={results:n=a}),!1===t.isFunction(a)&&(n=a,a=function(){return n});var s=a();return s.text&&(t.isFunction(o=s.text)||(i=s.text,o=function(t){return t[i]})),function(e){var i,n=e.term,s={results:[]};""!==n?(i=function(a,s){var r,l;if((a=a[0]).children){for(l in r={},a)a.hasOwnProperty(l)&&(r[l]=a[l]);r.children=[],t(a.children).each2((function(t,e){i(e,r.children)})),(r.children.length||e.matcher(n,o(r),a))&&s.push(r)}else e.matcher(n,o(a),a)&&s.push(a)},t(a().results).each2((function(t,e){i(e,s.results)})),e.callback(s)):e.callback(a())}}function S(i){var n=t.isFunction(i);return function(a){var o=a.term,s={results:[]},r=n?i(a):i;t.isArray(r)&&(t(r).each((function(){var t=this.text!==e;(""===o||a.matcher(o,t?this.text:this))&&s.results.push(t?this:{id:this,text:this})})),a.callback(s))}}function L(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function A(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function I(){var e=this;t.each(arguments,(function(t,i){e[i].remove(),e[i]=null}))}function z(e,i){var n=function(){};return(n.prototype=new e).constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}}(jQuery),function(t){"use strict";t.fn.select2.locales.it={formatNoMatches:function(){return"Nessuna corrispondenza trovata"},formatInputTooShort:function(t,e){var i=e-t.length;return"Inserisci ancora "+i+" caratter"+(1==i?"e":"i")},formatInputTooLong:function(t,e){var i=t.length-e;return"Inserisci "+i+" caratter"+(1==i?"e":"i")+" in meno"},formatSelectionTooBig:function(t){return"Puoi selezionare solo "+t+" element"+(1==t?"o":"i")},formatLoadMore:function(t){return"Caricamento in corsoâ¦"},formatSearching:function(){return"Ricercaâ¦"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.it)}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).IMask={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var n,a,o,s="object",r=function(t){return t&&t.Math==Math&&t},l=r(typeof globalThis==s&&globalThis)||r(typeof window==s&&window)||r(typeof self==s&&self)||r(typeof e==s&&e)||Function("return this")(),c=function(t){try{return!!t()}catch(e){return!0}},u=!c((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),h={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,p={f:d&&!h.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:h},f=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},m={}.toString,g="".split,v=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return m.call(t).slice(8,-1)}(t)?g.call(t,""):Object(t)}:Object,_=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return v(_(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},w=function(t,e){if(!b(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!b(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!b(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!b(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},k={}.hasOwnProperty,C=function(t,e){return k.call(t,e)},x=l.document,T=b(x)&&b(x.createElement),M=!u&&!c((function(){return 7!=Object.defineProperty(T?x.createElement("div"):{},"a",{get:function(){return 7}}).a})),S=Object.getOwnPropertyDescriptor,L={f:u?S:function(t,e){if(t=y(t),e=w(e,!0),M)try{return S(t,e)}catch(i){}if(C(t,e))return f(!p.f.call(t,e),t[e])}},A=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},I=Object.defineProperty,z={f:u?I:function(t,e,i){if(A(t),e=w(e,!0),A(i),M)try{return I(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},D=u?function(t,e,i){return z.f(t,e,f(1,i))}:function(t,e,i){return t[e]=i,t},E=function(t,e){try{D(l,t,e)}catch(i){l[t]=e}return e},P=i((function(t){var e=l["__core-js_shared__"]||E("__core-js_shared__",{});(t.exports=function(t,i){return e[t]||(e[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),O=P("native-function-to-string",Function.toString),N=l.WeakMap,R="function"==typeof N&&/native code/.test(O.call(N)),F=0,B=Math.random(),j=P("keys"),W={};if(R){var V=new(0,l.WeakMap),Z=V.get,H=V.has,$=V.set;n=function(t,e){return $.call(V,t,e),e},a=function(t){return Z.call(V,t)||{}},o=function(t){return H.call(V,t)}}else{var U=j.state||(j.state="Symbol("+String("state")+")_"+(++F+B).toString(36));W[U]=!0,n=function(t,e){return D(t,U,e),e},a=function(t){return C(t,U)?t[U]:{}},o=function(t){return C(t,U)}}var q={set:n,get:a,has:o,enforce:function(t){return o(t)?a(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!b(e)||(i=a(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},G=i((function(t){var e=q.get,i=q.enforce,n=String(O).split("toString");P("inspectSource",(function(t){return O.call(t)})),(t.exports=function(t,e,a,o){var s=!!o&&!!o.unsafe,r=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof e||C(a,"name")||D(a,"name",e),i(a).source=n.join("string"==typeof e?e:"")),t!==l?(s?!c&&t[e]&&(r=!0):delete t[e],r?t[e]=a:D(t,e,a)):r?t[e]=a:E(e,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||O.call(this)}))})),Y=l,K=function(t){return"function"==typeof t?t:void 0},X=function(t,e){return arguments.length<2?K(Y[t])||K(l[t]):Y[t]&&Y[t][e]||l[t]&&l[t][e]},Q=Math.ceil,J=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?J:Q)(t)},et=Math.min,it=function(t){return t>0?et(tt(t),9007199254740991):0},nt=Math.max,at=Math.min,ot=function(t){return function(e,i,n){var a,o=y(e),s=it(o.length),r=function(t,e){var i=tt(t);return i<0?nt(i+e,0):at(i,e)}(n,s);if(t&&i!=i){for(;s>r;)if((a=o[r++])!=a)return!0}else for(;s>r;r++)if((t||r in o)&&o[r]===i)return t||r||0;return!t&&-1}},st=(ot(!0),ot(!1)),rt=function(t,e){var i,n=y(t),a=0,o=[];for(i in n)!C(W,i)&&C(n,i)&&o.push(i);for(;e.length>a;)C(n,i=e[a++])&&(~st(o,i)||o.push(i));return o},lt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=lt.concat("length","prototype"),ut={f:Object.getOwnPropertyNames||function(t){return rt(t,ct)}},ht={f:Object.getOwnPropertySymbols},dt=X("Reflect","ownKeys")||function(t){var e=ut.f(A(t)),i=ht.f;return i?e.concat(i(t)):e},pt=function(t,e){for(var i=dt(e),n=z.f,a=L.f,o=0;o<i.length;o++){var s=i[o];C(t,s)||n(t,s,a(e,s))}},ft=/#|\.prototype\./,mt=function(t,e){var i=vt[gt(t)];return i==yt||i!=_t&&("function"==typeof e?c(e):!!e)},gt=mt.normalize=function(t){return String(t).replace(ft,".").toLowerCase()},vt=mt.data={},_t=mt.NATIVE="N",yt=mt.POLYFILL="P",bt=mt,wt=L.f,kt=function(t,e){var i,n,a,o,s,r=t.target,c=t.global,u=t.stat;if(i=c?l:u?l[r]||E(r,{}):(l[r]||{}).prototype)for(n in e){if(o=e[n],a=t.noTargetGet?(s=wt(i,n))&&s.value:i[n],!bt(c?n:r+(u?".":"#")+n,t.forced)&&void 0!==a){if(typeof o==typeof a)continue;pt(o,a)}(t.sham||a&&a.sham)&&D(o,"sham",!0),G(i,n,o,t)}},Ct=Object.keys||function(t){return rt(t,lt)},xt=function(t){return Object(_(t))},Tt=Object.assign,Mt=!Tt||c((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Tt({},t)[i]||"abcdefghijklmnopqrst"!=Ct(Tt({},e)).join("")}))?function(t,e){for(var i=xt(t),n=arguments.length,a=1,o=ht.f,s=p.f;n>a;)for(var r,l=v(arguments[a++]),c=o?Ct(l).concat(o(l)):Ct(l),h=c.length,d=0;h>d;)r=c[d++],u&&!s.call(l,r)||(i[r]=l[r]);return i}:Tt;kt({target:"Object",stat:!0,forced:Object.assign!==Mt},{assign:Mt});var St="".repeat||function(t){var e=String(_(this)),i="",n=tt(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i},Lt=Math.ceil,At=function(t){return function(e,i,n){var a,o,s=String(_(e)),r=s.length,l=void 0===n?" ":String(n),c=it(i);return c<=r||""==l?s:((o=St.call(l,Lt((a=c-r)/l.length))).length>a&&(o=o.slice(0,a)),t?s+o:o+s)}},It={start:At(!1),end:At(!0)},zt=X("navigator","userAgent")||"",Dt=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(zt),Et=It.end;kt({target:"String",proto:!0,forced:Dt},{padEnd:function(t){return Et(this,t,arguments.length>1?arguments[1]:void 0)}});var Pt=It.start;function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ft(t,e,i){return e&&Rt(t.prototype,e),i&&Rt(t,i),t}function Bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e){if(null==t)return{};var i,n,a=function(t,e){if(null==t)return{};var i,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(i=o[n])>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e.indexOf(i=o[n])>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function Vt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}function Ht(t,e,i){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=Zt(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function $t(t,e,i,n){return($t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var a,o=Zt(t,e);if(o){if((a=Object.getOwnPropertyDescriptor(o,e)).set)return a.set.call(n,i),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(n,e)){if(!a.writable)return!1;a.value=i,Object.defineProperty(n,e,a)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function Ut(t,e,i,n,a){if(!$t(t,e,i,n||t)&&a)throw new Error("failed to set property");return i}function qt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,a=!1,o=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Gt(t){return"string"==typeof t||t instanceof String}kt({target:"String",proto:!0,forced:Dt},{padStart:function(t){return Pt(this,t,arguments.length>1?arguments[1]:void 0)}}),kt({target:"String",proto:!0},{repeat:St});var Yt={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Kt(t){switch(t){case Yt.LEFT:return Yt.FORCE_LEFT;case Yt.RIGHT:return Yt.FORCE_RIGHT;default:return t}}function Xt(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}var Qt="undefined"!=typeof window&&window||"undefined"!=typeof global&&global.global===global&&global||"undefined"!=typeof self&&self.self===self&&self||{},Jt=function(){function t(e,i,n,a){for(Nt(this,t),this.value=e,this.cursorPos=i,this.oldValue=n,this.oldSelection=a;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ft(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?Yt.NONE:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?Yt.RIGHT:Yt.LEFT}}]),t}(),te=function(){function t(e){Nt(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return Ft(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}(),ee=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;Nt(this,t),this.value=e,this.from=i,this.stop=n}return Ft(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(t){this.value+=String(t)}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.value.length)return"";var e=this.value[0];return this.value=this.value.slice(1),e}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(t){Object.assign(this,t)}}]),t}(),ie=function(){function t(e){Nt(this,t),this._value="",this._update(e),this.isInitialized=!0}return Ft(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){Object.assign(this,t)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(t,e){return t}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e)}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new ee(this.extractInput(t,e),t)}},{key:"appendTail",value:function(t){return Gt(t)&&(t=new ee(String(t))),t.appendTo(this)}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=this.doPrepare(t,e))?(this._value+=t,new te({inserted:t,rawInserted:t})):new te}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=this.state,a=this._appendCharRaw(t,e);if(a.inserted){var o,s=!1!==this.doValidate(e);if(s&&null!=i){var r=this.state;this.overwrite&&(o=i.state,i.shiftBefore(this.value.length));var l=this.appendTail(i);(s=l.rawInserted===i.toString())&&l.inserted&&(this.state=r)}s||(a.rawInserted=a.inserted="",this.state=n,i&&o&&(i.state=o))}return a}},{key:"_appendPlaceholder",value:function(){return new te}},{key:"append",value:function(t,e,i){if(!Gt(t))throw new Error("value should be string");var n=new te,a=Gt(i)?new ee(String(i)):i;e.tail&&(e._beforeTailState=this.state);for(var o=0;o<t.length;++o)n.aggregate(this._appendChar(t[o],e,a));return null!=a&&(n.tailShift+=this.appendTail(a).tailShift),n}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new te}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.unmaskedValue,i=this.value,n=t();return this.resolve(i)!==i&&(this.unmaskedValue=e),delete this._refreshing,n}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"splice",value:function(t,e,i,n){var a=this.extractTail(t+e),o=this.nearestInputPos(t,n);return new te({tailShift:o-t}).aggregate(this.remove(o)).aggregate(this.append(i,{input:!0},a))}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.unmaskedValue},set:function(t){this.unmaskedValue=t}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),t}();function ne(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?Qt.IMask.MaskedRegExp:Gt(t)?Qt.IMask.MaskedPattern:t instanceof Date||t===Date?Qt.IMask.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?Qt.IMask.MaskedNumber:Array.isArray(t)||t===Array?Qt.IMask.MaskedDynamic:t.prototype instanceof Qt.IMask.Masked?t:t instanceof Function?Qt.IMask.MaskedFunction:(console.warn("Mask not found for mask",t),Qt.IMask.Masked)}function ae(t){var e=(t=Object.assign({},t)).mask;return e instanceof Qt.IMask.Masked?e:new(ne(e))(t)}var oe={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},se=function(){function t(e){Nt(this,t);var i=e.mask,n=Wt(e,["mask"]);this.masked=ae({mask:i}),Object.assign(this,n)}return Ft(t,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this._isFilled=!1,this.masked.remove(t,e)):new te}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new te;var i=this.masked.state,n=this.masked._appendChar(t,e);return n.inserted&&!1===this.doValidate(e)&&(n.inserted=n.rawInserted="",this.masked.state=i),n.inserted||this.isOptional||this.lazy||e.input||(n.inserted=this.placeholderChar),n.skip=!n.inserted&&!this.isOptional,this._isFilled=Boolean(n.inserted),n}},{key:"append",value:function(){var t;return(t=this.masked).append.apply(t,arguments)}},{key:"_appendPlaceholder",value:function(){var t=new te;return this._isFilled||this.isOptional?t:(this._isFilled=!0,t.inserted=this.placeholderChar,t)}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,i)}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.NONE,i=0,n=this.value.length,a=Math.min(Math.max(t,i),n);switch(e){case Yt.LEFT:case Yt.FORCE_LEFT:return this.isComplete?a:i;case Yt.RIGHT:case Yt.FORCE_RIGHT:return this.isComplete?a:n;case Yt.NONE:default:return a}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),t}(),re=function(){function t(e){Nt(this,t),Object.assign(this,e),this._value=""}return Ft(t,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new te}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.NONE,i=0,n=this._value.length;switch(e){case Yt.LEFT:case Yt.FORCE_LEFT:return i;case Yt.NONE:case Yt.RIGHT:case Yt.FORCE_RIGHT:default:return n}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.raw&&this._isRawInput&&this._value.slice(t,e)||""}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new te;if(this._value)return i;var n=this.char===t[0],a=n&&(this.isUnmasking||e.input||e.raw)&&!e.tail;return a&&(i.rawInserted=this.char),this._value=i.inserted=this.char,this._isRawInput=a&&(e.raw||e.input),i}},{key:"_appendPlaceholder",value:function(){var t=new te;return this._value?t:(this._value=t.inserted=this.char,t)}},{key:"extractTail",value:function(){return new ee("")}},{key:"appendTail",value:function(t){return Gt(t)&&(t=new ee(String(t))),t.appendTo(this)}},{key:"append",value:function(t,e,i){var n=this._appendChar(t,e);return null!=i&&(n.tailShift+=this.appendTail(i).tailShift),n}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){Object.assign(this,t)}}]),t}(),le=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Nt(this,t),this.chunks=e,this.from=i}return Ft(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(e){if(String(e)){Gt(e)&&(e=new ee(String(e)));var i=this.chunks[this.chunks.length-1],n=i&&(i.stop===e.stop||null==e.stop)&&e.from===i.from+i.toString().length;if(e instanceof ee)n?i.extend(e.toString()):this.chunks.push(e);else if(e instanceof t){if(null==e.stop)for(var a;e.chunks.length&&null==e.chunks[0].stop;)(a=e.chunks.shift()).from+=e.from,this.extend(a);e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}}},{key:"appendTo",value:function(e){if(!(e instanceof Qt.IMask.MaskedPattern))return new ee(this.toString()).appendTo(e);for(var i=new te,n=0;n<this.chunks.length&&!i.skip;++n){var a=this.chunks[n],o=e._mapPosToBlock(e.value.length),s=a.stop,r=void 0;if(s&&(!o||o.index<=s)&&((a instanceof t||e._stops.indexOf(s)>=0)&&i.aggregate(e._appendPlaceholder(s)),r=a instanceof t&&e._blocks[s]),r){var l=r.appendTail(a);l.skip=!1,i.aggregate(l),e._value+=l.inserted;var c=a.toString().slice(l.rawInserted.length);c&&i.aggregate(e.append(c,{tail:!0}))}else i.aggregate(e.append(a.toString(),{tail:!0}))}return i}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.chunks.length)return"";for(var e=t-this.from,i=0;i<this.chunks.length;){var n=this.chunks[i],a=n.shiftBefore(e);if(n.toString()){if(!a)break;++i}else this.chunks.splice(i,1);if(a)return a}return""}},{key:"state",get:function(){return{chunks:this.chunks.map((function(t){return t.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(e){var i=e.chunks,n=Wt(e,["chunks"]);Object.assign(this,n),this.chunks=i.map((function(e){var i="chunks"in e?new t:new ee;return i.state=e,i}))}}]),t}(),ce=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nt(this,e),t.definitions=Object.assign({},oe,t.definitions),Vt(this,jt(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Bt(e,t),Ft(e,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=Object.assign({},this.definitions,t.definitions),Ht(jt(e.prototype),"_update",this).call(this,t),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var t=this,i=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var n=this.mask;if(n&&i)for(var a=!1,o=!1,s=0;s<n.length;++s)if(!this.blocks||"continue"!==function(){var e=n.slice(s),i=Object.keys(t.blocks).filter((function(t){return 0===e.indexOf(t)}));i.sort((function(t,e){return e.length-t.length}));var a=i[0];if(a){var o=ae(Object.assign({parent:t,lazy:t.lazy,placeholderChar:t.placeholderChar,overwrite:t.overwrite},t.blocks[a]));return o&&(t._blocks.push(o),t._maskedBlocks[a]||(t._maskedBlocks[a]=[]),t._maskedBlocks[a].push(t._blocks.length-1)),s+=a.length-1,"continue"}}()){var r=n[s],l=r in i;if(r!==e.STOP_CHAR)if("{"!==r&&"}"!==r)if("["!==r&&"]"!==r){if(r===e.ESCAPE_CHAR){if(!(r=n[++s]))break;l=!1}var c=l?new se({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:i[r],isOptional:o}):new re({char:r,isUnmasking:a});this._blocks.push(c)}else o=!o;else a=!a;else this._stops.push(this._blocks.length)}}},{key:"reset",value:function(){Ht(jt(e.prototype),"reset",this).call(this),this._blocks.forEach((function(t){return t.reset()}))}},{key:"doCommit",value:function(){this._blocks.forEach((function(t){return t.doCommit()})),Ht(jt(e.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(t){return Ht(jt(e.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=this.doPrepare(t,e);var i=this._mapPosToBlock(this.value.length),n=new te;if(!i)return n;for(var a=i.index;;++a){var o=this._blocks[a];if(!o)break;var s=o._appendChar(t,e),r=s.skip;if(n.aggregate(s),r||s.rawInserted)break}return n}},{key:"extractTail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=new le;return e===i?n:(this._forEachBlocksInRange(e,i,(function(e,i,a,o){var s=e.extractTail(a,o);s.stop=t._findStopBefore(i),s.from=t._blockStartPos(i),s instanceof le&&(s.blockIndex=i),n.extend(s)})),n)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return"";var n="";return this._forEachBlocksInRange(t,e,(function(t,e,a,o){n+=t.extractInput(a,o,i)})),n}},{key:"_findStopBefore",value:function(t){for(var e,i=0;i<this._stops.length;++i){var n=this._stops[i];if(!(n<=t))break;e=n}return e}},{key:"_appendPlaceholder",value:function(t){var e=this,i=new te;if(this.lazy&&null==t)return i;var n=this._mapPosToBlock(this.value.length);return n?(this._blocks.slice(n.index,null!=t?t:this._blocks.length).forEach((function(n){if(!n.lazy||null!=t){var a=n._appendPlaceholder.apply(n,null!=n._blocks?[n._blocks.length]:[]);e._value+=a.inserted,i.aggregate(a)}})),i):i}},{key:"_mapPosToBlock",value:function(t){for(var e="",i=0;i<this._blocks.length;++i){var n=e.length;if(t<=(e+=this._blocks[i].value).length)return{index:i,offset:t-n}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce((function(t,e){return t+e.value.length}),0)}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0,n=this._mapPosToBlock(t);if(n){var a=this._mapPosToBlock(e),o=a&&n.index===a.index,s=n.offset,r=a&&o?a.offset:this._blocks[n.index].value.length;if(i(this._blocks[n.index],n.index,s,r),a&&!o){for(var l=n.index+1;l<a.index;++l)i(this._blocks[l],l,0,this._blocks[l].value.length);i(this._blocks[a.index],a.index,0,a.offset)}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=Ht(jt(e.prototype),"remove",this).call(this,t,i);return this._forEachBlocksInRange(t,i,(function(t,e,i,a){n.aggregate(t.remove(i,a))})),n}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.NONE,i=this._mapPosToBlock(t)||{index:0,offset:0},n=i.offset,a=i.index,o=this._blocks[a];if(!o)return t;var s=n;0!==s&&s<o.value.length&&(s=o.nearestInputPos(n,Kt(e)));var r=s===o.value.length,l=0===s;if(!l&&!r)return this._blockStartPos(a)+s;var c=r?a+1:a;if(e===Yt.NONE){if(c>0){var u=c-1,h=this._blocks[u],d=h.nearestInputPos(0,Yt.NONE);if(!h.value.length||d!==h.value.length)return this._blockStartPos(c)}for(var p=c,f=p;f<this._blocks.length;++f){var m=this._blocks[f],g=m.nearestInputPos(0,Yt.NONE);if(!m.value.length||g!==m.value.length)return this._blockStartPos(f)+g}for(var v=c-1;v>=0;--v){var _=this._blocks[v],y=_.nearestInputPos(0,Yt.NONE);if(!_.value.length||y!==_.value.length)return this._blockStartPos(v)+_.value.length}return t}if(e===Yt.LEFT||e===Yt.FORCE_LEFT){for(var b,w=c;w<this._blocks.length;++w)if(this._blocks[w].value){b=w;break}if(null!=b){var k=this._blocks[b],C=k.nearestInputPos(0,Yt.RIGHT);if(0===C&&k.unmaskedValue.length)return this._blockStartPos(b)+C}for(var x,T=-1,M=c-1;M>=0;--M){var S=this._blocks[M],L=S.nearestInputPos(S.value.length,Yt.FORCE_LEFT);if(S.value&&0===L||(x=M),0!==L){if(L!==S.value.length)return this._blockStartPos(M)+L;T=M;break}}if(e===Yt.LEFT)for(var A=T+1;A<=Math.min(c,this._blocks.length-1);++A){var I=this._blocks[A],z=I.nearestInputPos(0,Yt.NONE),D=this._blockStartPos(A)+z;if(D>t)break;if(z!==I.value.length)return D}if(T>=0)return this._blockStartPos(T)+this._blocks[T].value.length;if(e===Yt.FORCE_LEFT||this.lazy&&!this.extractInput()&&!ue(this._blocks[c]))return 0;if(null!=x)return this._blockStartPos(x);for(var E=c;E<this._blocks.length;++E){var P=this._blocks[E],O=P.nearestInputPos(0,Yt.NONE);if(!P.value.length||O!==P.value.length)return this._blockStartPos(E)+O}return 0}if(e===Yt.RIGHT||e===Yt.FORCE_RIGHT){for(var N,R,F=c;F<this._blocks.length;++F){var B=this._blocks[F],j=B.nearestInputPos(0,Yt.NONE);if(j!==B.value.length){R=this._blockStartPos(F)+j,N=F;break}}if(null!=N&&null!=R){for(var W=N;W<this._blocks.length;++W){var V=this._blocks[W],Z=V.nearestInputPos(0,Yt.FORCE_RIGHT);if(Z!==V.value.length)return this._blockStartPos(W)+Z}return e===Yt.FORCE_RIGHT?this.value.length:R}for(var H=Math.min(c,this._blocks.length-1);H>=0;--H){var $=this._blocks[H],U=$.nearestInputPos($.value.length,Yt.LEFT);if(0!==U){var q=this._blockStartPos(H)+U;if(q>=t)return q;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,i=this._maskedBlocks[t];return i?i.map((function(t){return e._blocks[t]})):[]}},{key:"state",get:function(){return Object.assign({},Ht(jt(e.prototype),"state",this),{_blocks:this._blocks.map((function(t){return t.state}))})},set:function(t){var i=t._blocks,n=Wt(t,["_blocks"]);this._blocks.forEach((function(t,e){return t.state=i[e]})),Ut(jt(e.prototype),"state",n,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every((function(t){return t.isComplete}))}},{key:"unmaskedValue",get:function(){return this._blocks.reduce((function(t,e){return t+e.unmaskedValue}),"")},set:function(t){Ut(jt(e.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce((function(t,e){return t+e.value}),"")},set:function(t){Ut(jt(e.prototype),"value",t,this,!0)}}]),e}(ie);function ue(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,Yt.NONE)!==e.length}ce.DEFAULTS={lazy:!0,placeholderChar:"_"},ce.STOP_CHAR="`",ce.ESCAPE_CHAR="\\",ce.InputDefinition=se,ce.FixedDefinition=re;var he=function(t){function e(){return Nt(this,e),Vt(this,jt(e).apply(this,arguments))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){t=Object.assign({to:this.to||0,from:this.from||0},t);var i=String(t.to).length;null!=t.maxLength&&(i=Math.max(i,t.maxLength)),t.maxLength=i;for(var n=String(t.from).padStart(i,"0"),a=String(t.to).padStart(i,"0"),o=0;o<a.length&&a[o]===n[o];)++o;t.mask=a.slice(0,o).replace(/0/g,"\\0")+"0".repeat(i-o),Ht(jt(e.prototype),"_update",this).call(this,t)}},{key:"boundaries",value:function(t){var e="",i="",n=qt(t.match(/^(\D*)(\d*)(\D*)/)||[],3),a=n[1],o=n[2];return o&&(e="0".repeat(a.length)+o,i="9".repeat(a.length)+o),[e=e.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Ht(jt(e.prototype),"doPrepare",this).call(this,t,i).replace(/\D/g,""),!this.autofix)return t;for(var n=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0"),o=this.value,s="",r=0;r<t.length;++r){var l=o+s+t[r],c=this.boundaries(l),u=qt(c,2),h=u[0],d=u[1];Number(d)<this.from?s+=n[l.length-1]:Number(h)>this.to?s+=a[l.length-1]:s+=t[r]}return s}},{key:"doValidate",value:function(){var t,i=this.value,n=i.search(/[^0]/);if(-1===n&&i.length<=this._matchFrom)return!0;for(var a=this.boundaries(i),o=qt(a,2),s=o[0],r=o[1],l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return this.from<=Number(r)&&Number(s)<=this.to&&(t=Ht(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(c))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return Ht(jt(e.prototype),"isComplete",this)&&Boolean(this.value)}}]),e}(ce),de=function(t){function e(t){return Nt(this,e),Vt(this,jt(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);var i=t.blocks;t.blocks=Object.assign({},e.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),Object.assign(t.blocks,i),Object.keys(t.blocks).forEach((function(e){var i=t.blocks[e];"autofix"in i||(i.autofix=t.autofix)})),Ht(jt(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,i=this.date,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=Ht(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(a))&&(!this.isComplete||this.isDateExist(this.value)&&null!=i&&(null==this.min||this.min<=i)&&(null==this.max||i<=this.max))}},{key:"isDateExist",value:function(t){return this.format(this.parse(t))===t}},{key:"date",get:function(){return this.isComplete?this.parse(this.value):null},set:function(t){this.value=this.format(t)}},{key:"typedValue",get:function(){return this.date},set:function(t){this.date=t}}]),e}(ce);de.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=qt(t.split("."),3);return new Date(e[2],e[1]-1,e[0])}},de.GET_DEFAULT_BLOCKS=function(){return{d:{mask:he,from:1,to:31,maxLength:2},m:{mask:he,from:1,to:12,maxLength:2},Y:{mask:he,from:1900,to:9999}}};var pe=function(){function t(){Nt(this,t)}return Ft(t,[{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(i){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(e){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(e){}return null!=t?t:this.value.length}},{key:"isActive",get:function(){return!1}}]),t}(),fe=function(t){function e(t){var i;return Nt(this,e),(i=Vt(this,jt(e).call(this))).input=t,i._handlers={},i}return Bt(e,t),Ft(e,[{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"bindEvents",value:function(t){var i=this;Object.keys(t).forEach((function(n){return i._toggleEventHandler(e.EVENTS_MAP[n],t[n])}))}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach((function(e){return t._toggleEventHandler(e)}))}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}},{key:"isActive",get:function(){return this.input===document.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}]),e}(pe);fe.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};var me=function(){function t(e,i){Nt(this,t),this.el=e instanceof pe?e:new fe(e),this.masked=ae(i),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ft(t,[{key:"maskEquals",value:function(t){return null==t||t===this.masked.mask||t===Date&&this.masked instanceof de}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this.alignCursorFriendly,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){var e=this._listeners[t];e&&e.forEach((function(t){return t()}))}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,i=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),i&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){var e=t.mask,i=Wt(t,["mask"]),n=!this.maskEquals(e),a=!function t(e,i){if(i===e)return!0;var n,a=Array.isArray(i),o=Array.isArray(e);if(a&&o){if(i.length!=e.length)return!1;for(n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}if(a!=o)return!1;if(i&&e&&"object"===Ot(i)&&"object"===Ot(e)){var s=i instanceof Date,r=e instanceof Date;if(s&&r)return i.getTime()==e.getTime();if(s!=r)return!1;var l=i instanceof RegExp,c=e instanceof RegExp;if(l&&c)return i.toString()==e.toString();if(l!=c)return!1;var u=Object.keys(i);for(n=0;n<u.length;n++)if(!Object.prototype.hasOwnProperty.call(e,u[n]))return!1;for(n=0;n<u.length;n++)if(!t(e[u[n]],i[u[n]]))return!1;return!0}return!(!i||!e||"function"!=typeof i||"function"!=typeof e)&&i.toString()===e.toString()}(this.masked,i);n&&(this.mask=e),a&&this.masked.updateOptions(i),(n||a)&&this.updateControl()}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())}),10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept"),this.masked.isComplete&&this._fireEvent("complete")}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,Yt.LEFT)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var i=this._listeners[t].indexOf(e);return i>=0&&this._listeners[t].splice(i,1),this}},{key:"_onInput",value:function(){if(this._abortUpdateCursor(),!this._selection)return this.updateValue();var t=new Jt(this.el.value,this.cursorPos,this.value,this._selection),e=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection).offset,n=this.masked.nearestInputPos(t.startChangePos+i,e===this.masked.rawInputValue?t.removeDirection:Yt.NONE);this.updateControl(),this.updateCursor(n)}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"_onFocus",value:function(t){this.selectionStart===this.cursorPos&&(this._selection&&(this.cursorPos=this._selection.end),this.alignCursorFriendly())}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(t){if(!this.maskEquals(t))if(this.masked.constructor!==ne(t)){var e=ae({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}else this.masked.updateOptions({mask:t})}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el.isActive&&(this.el.select(t,t),this._saveSelection())}}]),t}(),ge=function(t){function e(){return Nt(this,e),Vt(this,jt(e).apply(this,arguments))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),Ht(jt(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,i=this,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.enum.some((function(t){return t.indexOf(i.unmaskedValue)>=0}))&&(t=Ht(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(a))}}]),e}(ce),ve=function(t){function e(t){return Nt(this,e),Vt(this,jt(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){Ht(jt(e.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+Xt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Xt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Xt(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var i,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return(i=Ht(jt(e.prototype),"doPrepare",this)).call.apply(i,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(a))}},{key:"_separatorsCount",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=0,n=0;n<t;++n)this._value.indexOf(this.thousandsSeparator,n)===n&&(++i,e&&(t+=this.thousandsSeparator.length));return i}},{key:"_separatorsCountFromSlice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,a=this._adjustRangeWithSeparators(t,i),o=qt(a,2);return t=o[0],i=o[1],this._removeThousandsSeparators(Ht(jt(e.prototype),"extractInput",this).call(this,t,i,n))}},{key:"_appendCharRaw",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return Ht(jt(e.prototype),"_appendCharRaw",this).call(this,t,i);var n=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);var o=Ht(jt(e.prototype),"_appendCharRaw",this).call(this,t,i);this._value=this._insertThousandsSeparators(this._value);var s=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value,r=this._separatorsCountFromSlice(s);return o.tailShift+=(r-a)*this.thousandsSeparator.length,o}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=this.value.indexOf(this.thousandsSeparator,t-this.thousandsSeparator.length+1);if(e<=t)return e}return-1}},{key:"_adjustRangeWithSeparators",value:function(t,e){var i=this._findSeparatorAround(t);i>=0&&(t=i);var n=this._findSeparatorAround(e);return n>=0&&(e=n+this.thousandsSeparator.length),[t,e]}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=this._adjustRangeWithSeparators(t,e),n=qt(i,2);e=n[1];var a=this.value.slice(0,t=n[0]),o=this.value.slice(e),s=this._separatorsCount(a.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(a+o));var r=this._separatorsCountFromSlice(a);return new te({tailShift:(r-s)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case Yt.NONE:case Yt.LEFT:case Yt.FORCE_LEFT:var i=this._findSeparatorAround(t-1);if(i>=0){var n=i+this.thousandsSeparator.length;if(t<n||this.value.length<=n||e===Yt.FORCE_LEFT)return i}break;case Yt.RIGHT:case Yt.FORCE_RIGHT:var a=this._findSeparatorAround(t);if(a>=0)return a+this.thousandsSeparator.length}return t}},{key:"doValidate",value:function(t){var i=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));return i&&(i=i&&!isNaN(this.number)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)),i&&Ht(jt(e.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){if(this.value){var t=this.number,i=t;null!=this.min&&(i=Math.max(i,this.min)),null!=this.max&&(i=Math.min(i,this.max)),i!==t&&(this.unmaskedValue=String(i));var n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&(n=this._padFractionalZeros(n)),this._value=n}Ht(jt(e.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,(function(t,e,i,n){return e+n})),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){Ut(jt(e.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"number",get:function(){return Number(this.unmaskedValue)},set:function(t){this.unmaskedValue=String(t)}},{key:"typedValue",get:function(){return this.number},set:function(t){this.number=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),e}(ie);ve.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};var _e=function(t){function e(){return Nt(this,e),Vt(this,jt(e).apply(this,arguments))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0}),Ht(jt(e.prototype),"_update",this).call(this,t)}}]),e}(ie),ye=function(t){function e(){return Nt(this,e),Vt(this,jt(e).apply(this,arguments))}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),Ht(jt(e.prototype),"_update",this).call(this,t)}}]),e}(ie),be=function(t){function e(t){var i;return Nt(this,e),(i=Vt(this,jt(e).call(this,Object.assign({},e.DEFAULTS,{},t)))).currentMask=null,i}return Bt(e,t),Ft(e,[{key:"_update",value:function(t){Ht(jt(e.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map((function(t){return ae(t)})):[])}},{key:"_appendCharRaw",value:function(){var t,e=this._applyDispatch.apply(this,arguments);return this.currentMask&&e.aggregate((t=this.currentMask)._appendChar.apply(t,arguments)),e}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,n=this.rawInputValue,a=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:n,o=n.slice(a.length),s=this.currentMask,r=new te,l=s&&s.state;if(this.currentMask=this.doDispatch(t,Object.assign({},e)),this.currentMask)if(this.currentMask!==s){this.currentMask.reset();var c=this.currentMask.append(a,{raw:!0});r.tailShift=c.inserted.length-i.length,o&&(r.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=l;return r}},{key:"_appendPlaceholder",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e)}},{key:"doValidate",value:function(){for(var t,i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=Ht(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(a))&&(!this.currentMask||(i=this.currentMask).doValidate.apply(i,a))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach((function(t){return t.reset()}))}},{key:"remove",value:function(){var t,e=new te;return this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch()),e}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.currentMask?(t=this.currentMask).extractTail.apply(t,a):(i=Ht(jt(e.prototype),"extractTail",this)).call.apply(i,[this].concat(a))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Ht(jt(e.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,a):(i=Ht(jt(e.prototype),"nearestInputPos",this)).call.apply(i,[this].concat(a))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){Ut(jt(e.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){Ut(jt(e.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return Object.assign({},Ht(jt(e.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(t){return t.state})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var i=t.compiledMasks,n=t.currentMaskRef,a=t.currentMask,o=Wt(t,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach((function(t,e){return t.state=i[e]})),null!=n&&(this.currentMask=n,this.currentMask.state=a),Ut(jt(e.prototype),"state",o,this,!0)}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Ht(jt(e.prototype),"overwrite",this)},set:function(t){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]),e}(ie);function we(t){return new me(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}be.DEFAULTS={dispatch:function(t,e,i){if(e.compiledMasks.length){var n=e.rawInputValue,a=e.compiledMasks.map((function(e,a){return e.reset(),e.append(n,{raw:!0}),e.append(t,i),{weight:e.rawInputValue.length,index:a}}));return a.sort((function(t,e){return e.weight-t.weight})),e.compiledMasks[a[0].index]}}},we.InputMask=me,we.Masked=ie,we.MaskedPattern=ce,we.MaskedEnum=ge,we.MaskedRange=he,we.MaskedNumber=ve,we.MaskedDate=de,we.MaskedRegExp=_e,we.MaskedFunction=ye,we.MaskedDynamic=be,we.createMask=ae,we.MaskElement=pe,we.HTMLMaskElement=fe,Qt.IMask=we,t.HTMLMaskElement=fe,t.InputMask=me,t.MaskElement=pe,t.Masked=ie,t.MaskedDate=de,t.MaskedDynamic=be,t.MaskedEnum=ge,t.MaskedFunction=ye,t.MaskedNumber=ve,t.MaskedPattern=ce,t.MaskedRange=he,t.MaskedRegExp=_e,t.createMask=ae,t.default=we,Object.defineProperty(t,"__esModule",{value:!0})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,(function(t){"use strict";var e=Object.freeze;function i(t){var e,i,n,a;for(i=1,n=arguments.length;i<n;i++)for(e in a=arguments[i])t[e]=a[e];return t}Object.freeze=function(t){return t};var n=Object.create||function(t){return a.prototype=t,new a};function a(){}function o(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var s=0;function r(t){return t._leaflet_id=t._leaflet_id||++s,t._leaflet_id}function l(t,e,i){var n,a,o,s;return s=function(){n=!1,a&&(o.apply(i,a),a=!1)},o=function(){n?a=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function c(t,e,i){var n=e[1],a=e[0],o=n-a;return t===n&&i?t:((t-a)%o+o)%o+a}function u(){return!1}function h(t,e){return e=void 0===e?6:e,+(Math.round(t+"e+"+e)+"e-"+e)}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return d(t).split(/\s+/)}function f(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function m(t,e,i){var n=[];for(var a in t)n.push(encodeURIComponent(i?a.toUpperCase():a)+"="+encodeURIComponent(t[a]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var g=/\{ *([\w_-]+) *\}/g;function v(t,e){return t.replace(g,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var k=0;function C(t){var e=+new Date,i=Math.max(0,16-(e-k));return k=e+i,window.setTimeout(t,i)}var x=window.requestAnimationFrame||w("RequestAnimationFrame")||C,T=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function M(t,e,i){if(!i||x!==C)return x.call(window,o(t,e));t.call(e)}function S(t){t&&T.call(window,t)}var A=(Object.freeze||Object)({freeze:e,extend:i,create:n,bind:o,lastId:s,stamp:r,throttle:l,wrapNum:c,falseFn:u,formatNum:h,trim:d,splitWords:p,setOptions:f,getParamString:m,template:v,isArray:_,indexOf:y,emptyImageUrl:b,requestFn:x,cancelFn:T,requestAnimFrame:M,cancelAnimFrame:S});function I(){}I.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var a=e.__super__=this.prototype,o=n(a);for(var s in(o.constructor=e).prototype=o,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),i.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=i(n(o.options),t.options)),i(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},I.include=function(t){return i(this.prototype,t),this},I.mergeOptions=function(t){return i(this.prototype.options,t),this},I.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var z={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var a=0,o=(t=p(t)).length;a<o;a++)this._on(t[a],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var a=0,o=(t=p(t)).length;a<o;a++)this._off(t[a],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(this._events[t]=n=[]),i===this&&(i=void 0);for(var a={fn:e,ctx:i},o=n,s=0,r=o.length;s<r;s++)if(o[s].fn===e&&o[s].ctx===i)return;o.push(a)},_off:function(t,e,i){var n,a,o;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(a=0,o=n.length;a<o;a++){var s=n[a];if(s.ctx===i&&s.fn===e)return s.fn=u,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(a,1)}}else{for(a=0,o=n.length;a<o;a++)n[a].fn=u;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var a=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,r=o.length;s<r;s++){var l=o[s];l.fn.call(l.ctx||this,a)}this._firingCount--}}return n&&this._propagateEvent(a),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var a=o((function(){this.off(t,e,i).off(t,a,i)}),this);return this.on(t,e,i).on(t,a,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var D=I.extend(z);function E(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var P=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function O(t,e,i){return t instanceof E?t:_(t)?new E(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,e,i)}function N(t,e){if(t)for(var i=e?[t,e]:t,n=0,a=i.length;n<a;n++)this.extend(i[n])}function R(t,e){return!t||t instanceof N?t:new N(t,e)}function F(t,e){if(t)for(var i=e?[t,e]:t,n=0,a=i.length;n<a;n++)this.extend(i[n])}function B(t,e){return t instanceof F?t:new F(t,e)}function j(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function W(t,e,i){return t instanceof j?t:_(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,i)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=P(this.x),this.y=P(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},N.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof E?O(t):R(t))instanceof N?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,i=this.max,n=t.min,a=t.max;return a.x>=e.x&&n.x<=i.x&&a.y>=e.y&&n.y<=i.y},overlaps:function(t){t=R(t);var e=this.min,i=this.max,n=t.min,a=t.max;return a.x>e.x&&n.x<i.x&&a.y>e.y&&n.y<i.y},isValid:function(){return!(!this.min||!this.max)}},F.prototype={extend:function(t){var e,i,n=this._southWest,a=this._northEast;if(t instanceof j)i=e=t;else{if(!(t instanceof F))return t?this.extend(W(t)||B(t)):this;if(i=t._northEast,!(e=t._southWest)||!i)return this}return n||a?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),a.lat=Math.max(i.lat,a.lat),a.lng=Math.max(i.lng,a.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,a=Math.abs(e.lng-i.lng)*t;return new F(new j(e.lat-n,e.lng-a),new j(i.lat+n,i.lng+a))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?W(t):B(t);var e,i,n=this._southWest,a=this._northEast;return t instanceof F?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=a.lat&&e.lng>=n.lng&&i.lng<=a.lng},intersects:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),a=t.getNorthEast();return a.lat>=e.lat&&n.lat<=i.lat&&a.lng>=e.lng&&n.lng<=i.lng},overlaps:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),a=t.getNorthEast();return a.lat>e.lat&&n.lat<i.lat&&a.lng>e.lng&&n.lng<i.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var V,Z={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new N(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!(j.prototype={equals:function(t,e){return!!t&&(t=W(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,W(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new j(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?c(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?c(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,a=e.lng-i.lng;if(0==n&&0==a)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new F(new j(o.lat-n,o.lng-a),new j(s.lat-n,s.lng-a))}},H=i({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,a=e.lat*i,o=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),r=o*o+Math.cos(n)*Math.cos(a)*s*s,l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*l}}),$=6378137,U={R:$,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),a=Math.sin(n*e);return new E(this.R*t.lng*e,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(V=$*Math.PI,new N([-V,-V],[V,V]))};function q(t,e,i,n){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function G(t,e,i,n){return new q(t,e,i,n)}q.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new E((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y,K=i({},H,{code:"EPSG:3857",projection:U,transformation:(Y=.5/(Math.PI*U.R),G(Y,.5,-Y,.5))}),X=i({},K,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var i,n,a,o,s,r,l="";for(i=0,a=t.length;i<a;i++){for(n=0,o=(s=t[i]).length;n<o;n++)l+=(n?"L":"M")+(r=s[n]).x+" "+r.y;l+=e?It?"z":"x":""}return l||"M0 0"}var tt=document.documentElement.style,et="ActiveXObject"in window,it=et&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),at=Dt("webkit"),ot=Dt("android"),st=Dt("android 2")||Dt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=ot&&Dt("Google")&&rt<537&&!("AudioNode"in window),ct=!!window.opera,ut=Dt("chrome"),ht=Dt("gecko")&&!at&&!ct&&!et,dt=!ut&&Dt("safari"),pt=Dt("phantom"),ft="OTransition"in tt,mt=0===navigator.platform.indexOf("Win"),gt=et&&"transition"in tt,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!st,_t="MozPerspective"in tt,yt=!window.L_DISABLE_3D&&(gt||vt||_t)&&!ft&&!pt,bt="undefined"!=typeof orientation||Dt("mobile"),wt=bt&&at,kt=bt&&vt,Ct=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!Ct),Tt=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Mt=bt&&ct,St=bt&&ht,Lt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),At=!!document.createElement("canvas").getContext,It=!(!document.createElementNS||!Q("svg").createSVGRect),zt=!It&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Dt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var Et=(Object.freeze||Object)({ie:et,ielt9:it,edge:nt,webkit:at,android:ot,android23:st,androidStock:lt,opera:ct,chrome:ut,gecko:ht,safari:dt,phantom:pt,opera12:ft,win:mt,ie3d:gt,webkit3d:vt,gecko3d:_t,any3d:yt,mobile:bt,mobileWebkit:wt,mobileWebkit3d:kt,msPointer:Ct,pointer:xt,touch:Tt,mobileOpera:Mt,mobileGecko:St,retina:Lt,canvas:At,svg:It,vml:zt}),Pt=Ct?"MSPointerDown":"pointerdown",Ot=Ct?"MSPointerMove":"pointermove",Nt=Ct?"MSPointerUp":"pointerup",Rt=Ct?"MSPointerCancel":"pointercancel",Ft=["INPUT","SELECT","OPTION"],Bt={},jt=!1,Wt=0;function Vt(t){Bt[t.pointerId]=t,Wt++}function Zt(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function Ht(t){delete Bt[t.pointerId],Wt--}function $t(t,e){for(var i in t.touches=[],Bt)t.touches.push(Bt[i]);t.changedTouches=[t],e(t)}var Ut,qt,Gt,Yt,Kt,Xt=Ct?"MSPointerDown":xt?"pointerdown":"touchstart",Qt=Ct?"MSPointerUp":xt?"pointerup":"touchend",Jt="_leaflet_",te=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ie="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function ne(t){return"string"==typeof t?document.getElementById(t):t}function ae(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function oe(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function re(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ce(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ue(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=fe(t);return 0<i.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function he(t,e){if(void 0!==t.classList)for(var i=p(e),n=0,a=i.length;n<a;n++)t.classList.add(i[n]);else if(!ue(t,e)){var o=fe(t);pe(t,(o?o+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,d((" "+fe(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function fe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function ge(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ve(t,e,i){var n=e||new E(0,0);t.style[te]=(gt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function _e(t,e){t._leaflet_pos=e,yt?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new E(0,0)}if("onselectstart"in document)Ut=function(){Le(window,"selectstart",Ne)},qt=function(){Ie(window,"selectstart",Ne)};else{var be=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(be){var t=document.documentElement.style;Gt=t[be],t[be]="none"}},qt=function(){be&&(document.documentElement.style[be]=Gt,Gt=void 0)}}function we(){Le(window,"dragstart",Ne)}function ke(){Ie(window,"dragstart",Ne)}function Ce(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xe(),Kt=(Yt=t).style.outline,t.style.outline="none",Le(window,"keydown",xe))}function xe(){Yt&&(Yt.style.outline=Kt,Kt=Yt=void 0,Ie(window,"keydown",xe))}function Te(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Me(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Se=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ie,get:ne,getStyle:ae,create:oe,remove:se,empty:re,toFront:le,toBack:ce,hasClass:ue,addClass:he,removeClass:de,setClass:pe,getClass:fe,setOpacity:me,testProp:ge,setTransform:ve,setPosition:_e,getPosition:ye,disableTextSelection:Ut,enableTextSelection:qt,disableImageDrag:we,enableImageDrag:ke,preventOutline:Ce,restoreOutline:xe,getSizedParentNode:Te,getScale:Me});function Le(t,e,i,n){if("object"==typeof e)for(var a in e)ze(t,a,e[a],i);else for(var o=0,s=(e=p(e)).length;o<s;o++)ze(t,e[o],i,n);return this}var Ae="_leaflet_events";function Ie(t,e,i,n){if("object"==typeof e)for(var a in e)De(t,a,e[a],i);else if(e)for(var o=0,s=(e=p(e)).length;o<s;o++)De(t,e[o],i,n);else{for(var r in t[Ae])De(t,r,t[Ae][r]);delete t[Ae]}return this}function ze(t,e,i,n){var a=e+r(i)+(n?"_"+r(n):"");if(t[Ae]&&t[Ae][a])return this;var s=function(e){return i.call(n||t,e||window.event)},l=s;xt&&0===e.indexOf("touch")?function(t,e,i,n){"touchstart"===e?function(t,e,i){var n=o((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ft.indexOf(t.target.tagName)<0))return;Ne(t)}$t(t,e)}));t["_leaflet_touchstart"+i]=n,t.addEventListener(Pt,n,!1),jt||(document.documentElement.addEventListener(Pt,Vt,!0),document.documentElement.addEventListener(Ot,Zt,!0),document.documentElement.addEventListener(Nt,Ht,!0),document.documentElement.addEventListener(Rt,Ht,!0),jt=!0)}(t,i,n):"touchmove"===e?function(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&$t(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Ot,n,!1)}(t,i,n):"touchend"===e&&function(t,e,i){var n=function(t){$t(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(Nt,n,!1),t.addEventListener(Rt,n,!1)}(t,i,n)}(t,e,s,a):!Tt||"dblclick"!==e||xt&&ut?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,$e(t,e)&&l(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&ot&&(s=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=We&&i-We;if(n&&100<n&&n<500||t.target._simulatedClick&&!t._simulated)return Re(t);We=i,e(t)}(t,l)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):function(t,e,i){var n,a,o=!1;function s(t){var e;if(xt){if(!nt||"mouse"===t.pointerType)return;e=Wt}else e=t.touches.length;if(!(1<e)){var i=Date.now(),s=i-(n||i);a=t.touches?t.touches[0]:t,o=0<s&&s<=250,n=i}}function r(t){if(o&&!a.cancelBubble){if(xt){if(!nt||"mouse"===t.pointerType)return;var i,s,r={};for(s in a)r[s]=(i=a[s])&&i.bind?i.bind(a):i;a=r}a.type="dblclick",a.button=0,e(a),n=null}}t[Jt+Xt+i]=s,t[Jt+Qt+i]=r,t[Jt+"dblclick"+i]=e,t.addEventListener(Xt,s,!1),t.addEventListener(Qt,r,!1),t.addEventListener("dblclick",e,!1)}(t,s,a),t[Ae]=t[Ae]||{},t[Ae][a]=s}function De(t,e,i,n){var a=e+r(i)+(n?"_"+r(n):""),o=t[Ae]&&t[Ae][a];if(!o)return this;xt&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(Pt,n,!1):"touchmove"===e?t.removeEventListener(Ot,n,!1):"touchend"===e&&(t.removeEventListener(Nt,n,!1),t.removeEventListener(Rt,n,!1))}(t,e,a):!Tt||"dblclick"!==e||xt&&ut?"removeEventListener"in t?t.removeEventListener("mousewheel"===e?"onwheel"in t?"wheel":"mousewheel":"mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):function(t,e){var i=t[Jt+Qt+e],n=t[Jt+"dblclick"+e];t.removeEventListener(Xt,t[Jt+Xt+e],!1),t.removeEventListener(Qt,i,!1),nt||t.removeEventListener("dblclick",n,!1)}(t,a),t[Ae][a]=null}function Ee(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Pe(t){return ze(t,"mousewheel",Ee),this}function Oe(t){return Le(t,"mousedown touchstart dblclick",Ee),ze(t,"click",Ze),this}function Ne(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Re(t){return Ne(t),Ee(t),this}function Fe(t,e){if(!e)return new E(t.clientX,t.clientY);var i=Me(e),n=i.boundingClientRect;return new E((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var Be=mt&&ut?2*window.devicePixelRatio:ht?window.devicePixelRatio:1;function je(t){return nt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Be:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var We,Ve={};function Ze(t){Ve[t.type]=!0}function He(t){var e=Ve[t.type];return Ve[t.type]=!1,e}function $e(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var Ue=(Object.freeze||Object)({on:Le,off:Ie,stopPropagation:Ee,disableScrollPropagation:Pe,disableClickPropagation:Oe,preventDefault:Ne,stop:Re,getMousePosition:Fe,getWheelDelta:je,fakeStop:Ze,skipped:He,isExternalTarget:$e,addListener:Le,removeListener:Ie}),qe=D.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),_e(this._el,i),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ge=D.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(W(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&yt&&!Mt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,ie,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(W(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(yt?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(yt?this.options.zoomDelta:1)),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),a=this.getSize().divideBy(2),o=(t instanceof E?t:this.latLngToContainerPoint(t)).subtract(a).multiplyBy(1-1/n),s=this.containerPointToLatLng(a.add(o));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var i=O(e.paddingTopLeft||e.padding||[0,0]),n=O(e.paddingBottomRight||e.padding||[0,0]),a=this.getBoundsZoom(t,!1,i.add(n));if((a="number"==typeof e.maxZoom?Math.min(e.maxZoom,a):a)===1/0)return{center:t.getCenter(),zoom:a};var o=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),a),r=this.project(t.getNorthEast(),a);return{center:this.unproject(s.add(r).divideBy(2).add(o),a),zoom:a}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=O(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!yt)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),a=this.project(t),o=this.getSize(),s=this._zoom;t=W(t),e=void 0===e?s:e;var r=Math.max(o.x,o.y),l=r*this.getZoomScale(s,e),c=a.distanceTo(n)||1,u=1.42,h=u*u;function d(t){var e=(l*l-r*r+(t?-1:1)*h*h*c*c)/(2*(t?l:r)*h*c),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0),g=Date.now(),v=(d(1)-m)/u,_=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),(function i(){var o=(Date.now()-g)/_,l=function(t){return 1-Math.pow(1-t,1.5)}(o)*v;o<=1?(this._flyToFrame=M(i,this),this._move(this.unproject(n.add(a.subtract(n).multiplyBy(function(t){return r*(f(m)*function(t){return p(t)/f(t)}(m+u*t)-p(m))/h}(l)/c)),s),this.getScaleZoom(r/function(t){return r*(f(m)/f(m+u*t))}(l),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}).call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=B(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,B(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=O(e.paddingBottomRight||e.padding||[0,0]),a=this.getCenter(),o=this.project(a),s=this.project(t),r=this.getPixelBounds(),l=r.getSize().divideBy(2),c=R([r.min.add(i),r.max.subtract(n)]);if(!c.contains(s)){this._enforcingBounds=!0;var u=o.subtract(s),h=O(s.x+u.x,s.y+u.y);(s.x<c.min.x||s.x>c.max.x)&&(h.x=o.x-u.x,0<u.x?h.x+=l.x-i.x:h.x-=l.x-n.x),(s.y<c.min.y||s.y>c.max.y)&&(h.y=o.y-u.y,0<u.y?h.y+=l.y-i.y:h.y-=l.y-n.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),a=e.divideBy(2).round(),s=n.divideBy(2).round(),r=a.subtract(s);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),n=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var a=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(a,n.maxZoom):a)}var o={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new F(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=B(t),i=O(i||[0,0]);var n=this.getZoom()||0,a=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),r=t.getSouthEast(),l=this.getSize().subtract(i),c=R(this.project(r,n),this.project(s,n)).getSize(),u=yt?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return n=this.getScaleZoom(p,n),u&&(n=Math.round(n/(u/100))*(u/100),n=e?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(a,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new N(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs,n=i.zoom(t*i.scale(e=void 0===e?this._zoom:e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(W(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(W(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(W(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(W(t),W(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(t)))},mouseEventToContainerPoint:function(t){return Fe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ne(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Le(e,"scroll",this._onScroll,this),this._containerId=r(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt,he(t,"leaflet-container"+(Tt?" leaflet-touch":"")+(Lt?" leaflet-retina":"")+(it?" leaflet-oldie":"")+(dt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ae(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){_e(this._mapPane,new E(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Ie:Le;e((this._targets[r(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),yt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=M((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],a="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((i=this._targets[r(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){s=!0;break}if(i&&i.listens(e,!0)){if(a&&!$e(o,t))break;if(n.push(i),a)break}if(o===this._container)break;o=o.parentNode}return n.length||s||a||!$e(o,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ce(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var a=i({},t);a.type="preclick",this._fireDOMEvent(a,a.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&Ne(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var r=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=r?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=r?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(e,s,!0),s.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return R([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),a=this.getSize().divideBy(2),o=new N(n.subtract(a),n.add(a)),s=this._getBoundsOffset(o,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new N(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=R(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),a=n.min.subtract(t.min),o=n.max.subtract(t.max);return new E(this._rebound(a.x,-o.x),this._rebound(a.y,-o.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=yt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=te,i=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),a=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(a)||(M((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),M((function(){this._moveEnd(!0)}),this))}});function Ye(t){return new Ke(t)}var Ke=I.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return he(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}});Ge.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=oe("div",e+"control-container",this._container);function n(n,a){t[n+a]=oe("div",e+n+" "+e+a,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xe=Ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in f(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ke.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Oe(e),Pe(e);var n=this._section=oe("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ot||Le(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var a=this._layersLink=oe("a",t+"-toggle",e);a.href="#",a.title="Layers",Tt?(Le(a,"click",Re),Le(a,"click",this.expand,this)):Le(a,"focus",this.expand,this),i||this.expand(),this._baseLayersList=oe("div",t+"-base",n),this._separator=oe("div",t+"-separator",n),this._overlaysList=oe("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;re(this._baseLayersList),re(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,a=0;for(i=0;i<this._layers.length;i++)this._addItem(n=this._layers[i]),e=e||n.overlay,t=t||!n.overlay,a+=n.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<a)?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+r(this),n),this._layerControlInputs.push(e),e.layerId=r(t.layer),Le(e,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+t.name;var o=document.createElement("div");return i.appendChild(o),o.appendChild(e),o.appendChild(a),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],a=[];this._handlingClick=!0;for(var o=i.length-1;0<=o;o--)e=this._getLayer((t=i[o]).layerId).layer,t.checked?n.push(e):t.checked||a.push(e);for(o=0;o<a.length;o++)this._map.hasLayer(a[o])&&this._map.removeLayer(a[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),a=i.length-1;0<=a;a--)e=this._getLayer((t=i[a]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qe=Ke.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=oe("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,a){var o=oe("a",i,n);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Oe(o),Le(o,"click",Re),Le(o,"click",a,this),Le(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||he(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||he(this._zoomInButton,e)}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qe,this.addControl(this.zoomControl))}));var Je=Ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=oe("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=oe("div",e,i)),t.imperial&&(this._iScale=oe("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,i,n,a=3.2808399*t;5280<a?(i=this._getRoundNum(e=a/5280),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(a),this._updateScale(this._iScale,n+" ft",n/a))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(10<=i?10:5<=i?5:3<=i?3:2<=i?2:1)}}),ti=Ke.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=oe("div","leaflet-control-attribution"),Oe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook((function(){this.options.attributionControl&&(new ti).addTo(this)})),Ke.Layers=Xe,Ke.Zoom=Qe,Ke.Scale=Je,Ke.Attribution=ti,Ye.layers=function(t,e,i){return new Xe(t,e,i)},Ye.zoom=function(t){return new Qe(t)},Ye.scale=function(t){return new Je(t)},Ye.attribution=function(t){return new ti(t)};var ei=I.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});ei.addTo=function(t,e){return t.addHandler(e,this),this};var ii,ni={Events:z},ai=Tt?"touchstart mousedown":"mousedown",oi={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},si={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ri=D.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){f(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Le(this._dragStartTarget,ai,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(),Ie(this._dragStartTarget,ai,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ue(this._element,"leaflet-zoom-anim")&&!(ri._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((ri._dragging=this)._preventOutline&&Ce(this._element),we(),Ut(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=Te(this._element);this._startPoint=new E(e.clientX,e.clientY),this._parentScale=Me(i),Le(document,si[t.type],this._onMove,this),Le(document,oi[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&1<t.touches.length)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new E(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ne(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ye(this._element).subtract(i),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=M(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_e(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),si)Ie(document,si[t],this._onMove,this),Ie(document,oi[t],this._onUp,this);ke(),qt(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ri._dragging=!1}});function li(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,a,o){var s,r,l,c=0;for(r=a+1;r<=o-1;r++)c<(l=pi(e[r],e[a],e[o],!0))&&(s=r,c=l);n<c&&(i[s]=1,t(e,i,n,a,s),t(e,i,n,s,o))}(t,n,e,0,i-1);var a,o=[];for(a=0;a<i;a++)n[a]&&o.push(t[a]);return o}(t=function(t,e){for(var i=[t[0]],n=1,a=0,o=t.length;n<o;n++)e<(l=(r=t[a]).x-(s=t[n]).x)*l+(c=r.y-s.y)*c&&(i.push(t[n]),a=n);var s,r,l,c;return a<o-1&&i.push(t[o-1]),i}(t,i),i)}function ci(t,e,i){return Math.sqrt(pi(t,e,i,!0))}function ui(t,e,i,n,a){var o,s,r,l=n?ii:di(t,i),c=di(e,i);for(ii=c;;){if(!(l|c))return[t,e];if(l&c)return!1;r=di(s=hi(t,e,o=l||c,i,a),i),o===l?(t=s,l=r):(e=s,c=r)}}function hi(t,e,i,n,a){var o,s,r=e.x-t.x,l=e.y-t.y,c=n.min,u=n.max;return 8&i?(o=t.x+r*(u.y-t.y)/l,s=u.y):4&i?(o=t.x+r*(c.y-t.y)/l,s=c.y):2&i?(o=u.x,s=t.y+l*(u.x-t.x)/r):1&i&&(o=c.x,s=t.y+l*(c.x-t.x)/r),new E(o,s,a)}function di(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function pi(t,e,i,n){var a,o=e.x,s=e.y,r=i.x-o,l=i.y-s,c=r*r+l*l;return 0<c&&(1<(a=((t.x-o)*r+(t.y-s)*l)/c)?(o=i.x,s=i.y):0<a&&(o+=r*a,s+=l*a)),r=t.x-o,l=t.y-s,n?r*r+l*l:new E(o,s)}function fi(t){return!_(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fi(t)}var gi=(Object.freeze||Object)({simplify:li,pointToSegmentDistance:ci,closestPointOnSegment:function(t,e,i){return pi(t,e,i)},clipSegment:ui,_getEdgeIntersection:hi,_getBitCode:di,_sqClosestPointOnSegment:pi,isFlat:fi,_flat:mi});function vi(t,e,i){var n,a,o,s,r,l,c,u,h,d=[1,4,2,8];for(a=0,c=t.length;a<c;a++)t[a]._code=di(t[a],e);for(s=0;s<4;s++){for(u=d[s],n=[],a=0,o=(c=t.length)-1;a<c;o=a++)l=t[o],(r=t[a])._code&u?l._code&u||((h=hi(l,r,u,e,i))._code=di(h,e),n.push(h)):(l._code&u&&((h=hi(l,r,u,e,i))._code=di(h,e),n.push(h)),n.push(r));t=n}return t}var _i,yi=(Object.freeze||Object)({clipPolygon:vi}),bi={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new N([-180,-90],[180,90])},wi={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,a=this.R_MINOR/i,o=Math.sqrt(1-a*a),s=o*Math.sin(n),r=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(r,1e-10)),new E(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,a=this.R_MINOR/n,o=Math.sqrt(1-a*a),s=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&1e-7<Math.abs(c);l++)e=o*Math.sin(r),e=Math.pow((1-e)/(1+e),o/2),r+=c=Math.PI/2-2*Math.atan(s*e)-r;return new j(r*i,t.x*i/n)}},ki=(Object.freeze||Object)({LonLat:bi,Mercator:wi,SphericalMercator:U}),Ci=i({},H,{code:"EPSG:3395",projection:wi,transformation:(_i=.5/(Math.PI*wi.R),G(_i,.5,-_i,.5))}),xi=i({},H,{code:"EPSG:4326",projection:bi,transformation:G(1/180,1,-1/180,.5)}),Ti=i({},Z,{projection:bi,transformation:G(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});Z.Earth=H,Z.EPSG3395=Ci,Z.EPSG3857=K,Z.EPSG900913=X,Z.EPSG4326=xi,Z.Simple=Ti;var Mi=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=r(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=r(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&r(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?_(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var a=this._zoomBoundLayers[n].options;t=void 0===a.minZoom?t:Math.min(t,a.minZoom),e=void 0===a.maxZoom?e:Math.max(e,a.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Si=Mi.extend({initialize:function(t,e){var i,n;if(f(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),Li=Si.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Si.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Si.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ai=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var a=O(n),o=O("shadow"===e&&i.shadowAnchor||i.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Lt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ii=Ai.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ii.imagePath||(Ii.imagePath=this._detectIconPath()),(this.options.imagePath||Ii.imagePath)+Ai.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ae(t,"background-image")||ae(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),zi=ei.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ri(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,o=ye(e._icon),s=i.getPixelBounds(),r=i.getPixelOrigin(),l=R(s.min._subtract(r).add(a),s.max._subtract(r).subtract(a));if(!l.contains(o)){var c=O((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),_e(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=M(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=ye(e._icon),a=e._map.layerPointToLatLng(n);i&&_e(i,n),e._latlng=a,t.latlng=a,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Di=Mi.extend({options:{icon:new Ii,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=W(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=W(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),he(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=t.icon.createShadow(this._shadow),o=!1;a!==this._shadow&&(this._removeShadow(),o=!0),a&&(he(a,e),a.alt=""),this._shadow=a,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){_e(this._icon,t),this._shadow&&_e(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ei=Mi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Pi=Ei.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=W(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=W(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ei.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new N(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Oi=Pi.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),f(this,e),this._latlng=W(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ei.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===H.distance){var a=Math.PI/180,o=this._mRadius/H.R/a,s=i.project([e+o,t]),r=i.project([e-o,t]),l=s.add(r).divideBy(2),c=i.unproject(l).lat,u=Math.acos((Math.cos(o*a)-Math.sin(e*a)*Math.sin(c*a))/(Math.cos(e*a)*Math.cos(c*a)))/a;!isNaN(u)&&0!==u||(u=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-i.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var h=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}}),Ni=Ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,a=null,o=pi,s=0,r=this._parts.length;s<r;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=o(t,e=l[c-1],i=l[c],!0);h<n&&(n=h,a=o(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,a,o,s,r=this._rings[0],l=r.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(n=t=0;t<l-1;t++)if(e<(n+=i=(a=r[t]).distanceTo(o=r[t+1])))return this._map.layerPointToLatLng([o.x-(s=(n-e)/i)*(o.x-a.x),o.y-s*(o.y-a.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=W(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return fi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=fi(t),n=0,a=t.length;n<a;n++)i?(e[n]=W(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new E(t,t);this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,i){var n,a,o=t.length;if(t[0]instanceof j){for(a=[],n=0;n<o;n++)a[n]=this._map.latLngToLayerPoint(t[n]),i.extend(a[n]);e.push(a)}else for(n=0;n<o;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,a,o,s,r,l=this._parts;for(n=e=0,a=this._rings.length;e<a;e++)for(i=0,o=(r=this._rings[e]).length;i<o-1;i++)(s=ui(r[i],r[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===r[i+1]&&i!==o-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=li(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,a,o,s,r,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,o=this._parts.length;i<o;i++)for(n=0,a=(s=(r=this._parts[i]).length)-1;n<s;a=n++)if((e||0!==n)&&ci(t,r[a],r[n])<=l)return!0;return!1}});Ni._flat=mi;var Ri=Ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,a,o,s,r,l=this._rings[0],c=l.length;if(!c)return null;for(o=s=r=0,t=0,e=c-1;t<c;e=t++)s+=((i=l[t]).x+(n=l[e]).x)*(a=i.y*n.x-n.y*i.x),r+=(i.y+n.y)*a,o+=3*a;return this._map.layerPointToLatLng(0===o?l[0]:[s/o,r/o])},_convertLatLngs:function(t){var e=Ni.prototype._convertLatLngs.call(this,t),i=e.length;return 2<=i&&e[0]instanceof j&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Ni.prototype._setLatLngs.call(this,t),fi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new E(e,e);if(t=new N(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,a=0,o=this._rings.length;a<o;a++)(n=vi(this._rings[a],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,a,o,s,r,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,r=this._parts.length;a<r;a++)for(o=0,s=(l=(e=this._parts[a]).length)-1;o<l;s=o++)(i=e[o]).y>t.y!=(n=e[s]).y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Ni.prototype._containsPoint.call(this,t,!0)}}),Fi=Li.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,a=_(t)?t:t.features;if(a){for(e=0,i=a.length;e<i;e++)((n=a[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Bi(t,o);return s?(s.feature=$i(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Bi(t,e){var i,n,a,o,s="Feature"===t.type?t.geometry:t,r=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||ji;if(!r&&!s)return null;switch(s.type){case"Point":return i=u(r),c?c(t,i):new Di(i);case"MultiPoint":for(a=0,o=r.length;a<o;a++)i=u(r[a]),l.push(c?c(t,i):new Di(i));return new Li(l);case"LineString":case"MultiLineString":return n=Wi(r,"LineString"===s.type?0:1,u),new Ni(n,e);case"Polygon":case"MultiPolygon":return n=Wi(r,"Polygon"===s.type?1:2,u),new Ri(n,e);case"GeometryCollection":for(a=0,o=s.geometries.length;a<o;a++){var h=Bi({geometry:s.geometries[a],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Li(l);default:throw new Error("Invalid GeoJSON object.")}}function ji(t){return new j(t[1],t[0],t[2])}function Wi(t,e,i){for(var n,a=[],o=0,s=t.length;o<s;o++)n=e?Wi(t[o],e-1,i):(i||ji)(t[o]),a.push(n);return a}function Vi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function Zi(t,e,i,n){for(var a=[],o=0,s=t.length;o<s;o++)a.push(e?Zi(t[o],e-1,i,n):Vi(t[o],n));return!e&&i&&a.push(a[0]),a}function Hi(t,e){return t.feature?i({},t.feature,{geometry:e}):$i(e)}function $i(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Ui={toGeoJSON:function(t){return Hi(this,{type:"Point",coordinates:Vi(this.getLatLng(),t)})}};function qi(t,e){return new Fi(t,e)}Di.include(Ui),Oi.include(Ui),Pi.include(Ui),Ni.include({toGeoJSON:function(t){var e=!fi(this._latlngs);return Hi(this,{type:(e?"Multi":"")+"LineString",coordinates:Zi(this._latlngs,e?1:0,!1,t)})}}),Ri.include({toGeoJSON:function(t){var e=!fi(this._latlngs),i=e&&!fi(this._latlngs[0]),n=Zi(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Hi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Si.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Hi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var a=e.toGeoJSON(t);if(i)n.push(a.geometry);else{var o=$i(a);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}})),i?Hi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Gi=qi,Yi=Mi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=B(e),f(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,i,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();_e(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ki=Yi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=o(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],a=0;a<i.length;a++)n.push(i[a].src);this._url=0<i.length?n:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var r=oe("source");r.src=this._url[s],e.appendChild(r)}}}}),Xi=Yi.extend({_initImage:function(){var t=this._image=this._url;he(t,"leaflet-image-layer"),this._zoomAnimated&&he(t,"leaflet-zoom-animated"),t.onselectstart=u,t.onmousemove=u}}),Qi=Mi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(o(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=W(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ce(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof Mi||(i=e,e=t),e instanceof Li)for(var n in t._layers){e=t._layers[n];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),i=this._getAnchor();this._zoomAnimated?_e(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}}),Ji=Qi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Qi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ei||this._source.on("preclick",Ee))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ei||this._source.off("preclick",Ee))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",i),Oe(i),Pe(this._contentNode),Le(i,"contextmenu",Ee),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=oe("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",Le(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=this.options.maxHeight,a="leaflet-popup-scrolled";n&&n<t.offsetHeight?(e.height=n+"px",he(t,a)):de(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();_e(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ae(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,a=new E(this._containerLeft,-i-this._containerBottom);a._add(ye(this._container));var o=t.layerPointToContainerPoint(a),s=O(this.options.autoPanPadding),r=O(this.options.autoPanPaddingTopLeft||s),l=O(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,h=0;o.x+n+l.x>c.x&&(u=o.x+n-c.x+l.x),o.x-u-r.x<0&&(u=o.x-r.x),o.y+i+l.y>c.y&&(h=o.y+i-c.y+l.y),o.y-h-r.y<0&&(h=o.y-r.y),(u||h)&&t.fire("autopanstart").panBy([u,h])}},_onCloseButtonClick:function(t){this._close(),Re(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(t,e,i){return t instanceof Ji||(t=new Ji(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Mi.include({bindPopup:function(t,e){return t instanceof Ji?(f(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new Ji(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Re(t),e instanceof Ei?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var tn=Qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Qi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return Tt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=oe("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),a=e.layerPointToContainerPoint(t),o=this.options.direction,s=i.offsetWidth,r=i.offsetHeight,l=O(this.options.offset),c=this._getAnchor();t="top"===o?t.add(O(-s/2+l.x,-r+l.y+c.y,!0)):"bottom"===o?t.subtract(O(s/2-l.x,-l.y,!0)):"center"===o?t.subtract(O(s/2+l.x,r/2-c.y+l.y,!0)):"right"===o||"auto"===o&&a.x<n.x?(o="right",t.add(O(l.x+c.x,c.y-r/2+l.y,!0))):(o="left",t.subtract(O(s+c.x-l.x,r/2-c.y-l.y,!0))),de(i,"leaflet-tooltip-right"),de(i,"leaflet-tooltip-left"),de(i,"leaflet-tooltip-top"),de(i,"leaflet-tooltip-bottom"),he(i,"leaflet-tooltip-"+o),_e(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ge.include({openTooltip:function(t,e,i){return t instanceof tn||(t=new tn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Mi.include({bindTooltip:function(t,e){return t instanceof tn?(f(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new tn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),Tt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){this._tooltip&&this._map&&this.openTooltip(t.layer||t.target,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var en=Ai.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(re(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=O(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ai.Default=Ii;var nn=Mi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),a=0,o=i.length;a<o;a++)e=i[a].style.zIndex,i[a]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it){me(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var a=this._tiles[n];if(a.current&&a.loaded){var o=Math.min(1,(t-a.loaded)/200);me(a.el,o),o<1?e=!0:(a.active?i=!0:this._onOpaqueTile(a),a.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(se(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],a=this._map;return n||((n=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=a.project(a.unproject(a.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,a.getCenter(),a.getZoom()),this._onCreateLevel(n)),this._level=n}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var a=Math.floor(t/2),o=Math.floor(e/2),s=i-1,r=new E(+a,+o);r.z=+s;var l=this._tileCoordsToKey(r),c=this._tiles[l];return c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n<s&&this._retainParent(a,o,s,n))},_retainChildren:function(t,e,i,n){for(var a=2*t;a<2*t+2;a++)for(var o=2*e;o<2*e+2;o++){var s=new E(a,o);s.z=i+1;var r=this._tileCoordsToKey(s),l=this._tiles[r];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(a,o,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var a=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom)&&(a=void 0),n&&!(this.options.updateWhenZooming&&a!==this._tileZoom)||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),a=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();yt?ve(t.el,a,n):_e(t.el,a)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),a=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*n);return new N(a.subtract(o),a.add(o))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(n),o=a.getCenter(),s=[],r=this.options.keepBuffer,l=new N(a.getBottomLeft().subtract([r,-r]),a.getTopRight().add([r,-r]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new E(u.x,u.y))||(this._tiles[c].current=!1)}if(1<Math.abs(i-this._tileZoom))this._setView(t,i);else{for(var h=a.min.y;h<=a.max.y;h++)for(var d=a.min.x;d<=a.max.x;d++){var p=new E(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),a=n.add(i);return[e.unproject(n,t.z),e.unproject(a,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new F(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new E(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,it&&this.options.opacity<1&&me(t,this.options.opacity),ot&&!st&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&M(o(this._tileReady,this,t,null,a)),_e(a,i),this._tiles[n]={el:a,coords:t,current:!0},e.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(me(i.el,0),S(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(he(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new E(this._wrapX?c(t.x,this._wrapX):t.x,this._wrapY?c(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),an=nn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Lt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ot||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Le(i,"load",o(this._tileOnLoad,this,e,i)),Le(i,"error",o(this._tileOnError,this,e,i)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Lt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return v(this._url,i(e,this.options))},_tileOnLoad:function(t,e){it?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return this.options.zoomReverse&&(t=this.options.maxZoom-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=b,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return lt||e.el.setAttribute("src",b),nn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==b))return nn.prototype._tileReady.call(this,t,e,i)}});function on(t,e){return new an(t,e)}var sn=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var a in e)a in this.options||(n[a]=e[a]);var o=(e=f(this,e)).detectRetina&&Lt?2:1,s=this.getTileSize();n.width=s.x*o,n.height=s.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,an.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=R(i.project(e[0]),i.project(e[1])),a=n.min,o=n.max,s=(1.3<=this._wmsVersion&&this._crs===xi?[a.y,a.x,o.y,o.x]:[a.x,a.y,o.x,o.y]).join(","),r=an.prototype.getTileUrl.call(this,t);return r+m(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});an.WMS=sn,on.wms=function(t,e){return new sn(t,e)};var rn=Mi.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=ye(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),r=a.multiplyBy(-i).add(n).add(a).subtract(s);yt?ve(this._container,r,i):_e(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ln=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Le(t,"mousemove",l(this._onMouseMove,32,this),this),Le(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,se(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){rn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Lt?2:1;_e(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Lt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[r(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[r(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),a=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;a.push(e)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,a,o,s=t._parts,r=s.length,l=this._ctx;if(r){for(l.beginPath(),i=0;i<r;i++){for(n=0,a=s[i].length;n<a;n++)l[n?"lineTo":"moveTo"]((o=s[i][n]).x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),a=(Math.max(Math.round(t._radiusY),1)||n)/n;1!=a&&(i.save(),i.scale(1,a)),i.beginPath(),i.arc(e.x,e.y/a,n,0,2*Math.PI,!1),1!=a&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),a=this._drawFirst;a;a=a.next)(e=a.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(Ze(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,a=this._drawFirst;a;a=a.next)(i=a.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(he(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&((i.prev=n)?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&((n.next=i)?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function cn(t){return At?new ln(t):null}var un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),hn={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=un("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=un("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[r(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,a=t._container;a.stroked=!!n.stroke,a.filled=!!n.fill,n.stroke?(e||(e=t._stroke=un("stroke")),a.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,e.dashStyle=n.dashArray?_(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):"",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(a.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=un("fill")),a.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(a.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ce(t._container)}},dn=zt?un:Q,pn=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){rn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),_e(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dn("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",a=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,a)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ce(t._path)}});function fn(t){return It||zt?new pn(t):null}zt&&pn.include(hn),Ge.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cn(t)||fn(t)}});var mn=Ri.extend({initialize:function(t,e){Ri.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pn.create=dn,pn.pointsToPath=J,Fi.geometryToLayer=Bi,Fi.coordsToLatLng=ji,Fi.coordsToLatLngs=Wi,Fi.latLngToCoords=Vi,Fi.latLngsToCoords=Zi,Fi.getFeature=Hi,Fi.asFeature=$i,Ge.mergeOptions({boxZoom:!0});var gn=ei.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Le(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),i=e.getSize();_e(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),qt(),ke(),Ie(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ge.addInitHook("addHandler","boxZoom",gn),Ge.mergeOptions({doubleClickZoom:!0});var vn=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,a=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(a):e.setZoomAround(t.containerPoint,a)}});Ge.addInitHook("addHandler","doubleClickZoom",vn),Ge.mergeOptions({dragging:!0,inertia:!st,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _n=ei.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ri(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,a=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(a+i)<Math.abs(o+i)?a:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),o=i.easeLinearity,s=a.multiplyBy(o/((this._lastTime-this._times[0])/1e3)),r=s.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,r),c=s.multiplyBy(l/r),u=l/(i.inertiaDeceleration*o),h=c.multiplyBy(-u/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),M((function(){e.panBy(h,{duration:u,easeLinearity:o,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ge.addInitHook("addHandler","dragging",_n),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yn=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Le(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},a=this.keyCodes;for(e=0,i=a.left.length;e<i;e++)n[a.left[e]]=[-1*t,0];for(e=0,i=a.right.length;e<i;e++)n[a.right[e]]=[t,0];for(e=0,i=a.down.length;e<i;e++)n[a.down[e]]=[0,t];for(e=0,i=a.up.length;e<i;e++)n[a.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},a=this.keyCodes;for(e=0,i=a.zoomIn.length;e<i;e++)n[a.zoomIn[e]]=t;for(e=0,i=a.zoomOut.length;e<i;e++)n[a.zoomOut[e]]=-t},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=O(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Re(t)}}});Ge.addInitHook("addHandler","keyboard",yn),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=ei.extend({addHooks:function(){Le(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=je(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),n),Re(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,a=i?Math.ceil(n/i)*i:n,o=t._limitZoom(e+(0<this._delta?a:-a))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});Ge.addInitHook("addHandler","scrollWheelZoom",bn),Ge.mergeOptions({tap:!0,tapTolerance:15});var wn=ei.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ne(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new E(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&he(i,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Le(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ie(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&de(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new E(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});Tt&&!xt&&Ge.addInitHook("addHandler","tap",wn),Ge.mergeOptions({touchZoom:Tt&&!st,bounceAtZoomLimits:!0});var kn=ei.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend",this._onTouchEnd,this),Ne(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),a=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(a,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&a<1||this._zoom>e.getMaxZoom()&&1<a)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==a)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1==a&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var r=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=M(r,this,!0),Ne(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Ie(document,"touchmove",this._onTouchMove),Ie(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ge.addInitHook("addHandler","touchZoom",kn),Ge.BoxZoom=gn,Ge.DoubleClickZoom=vn,Ge.Drag=_n,Ge.Keyboard=yn,Ge.ScrollWheelZoom=bn,Ge.Tap=wn,Ge.TouchZoom=kn,Object.freeze=e,t.version="1.5.1+build.2e3e0ffb",t.Control=Ke,t.control=Ye,t.Browser=Et,t.Evented=D,t.Mixin=ni,t.Util=A,t.Class=I,t.Handler=ei,t.extend=i,t.bind=o,t.stamp=r,t.setOptions=f,t.DomEvent=Ue,t.DomUtil=Se,t.PosAnimation=qe,t.Draggable=ri,t.LineUtil=gi,t.PolyUtil=yi,t.Point=E,t.point=O,t.Bounds=N,t.bounds=R,t.Transformation=q,t.transformation=G,t.Projection=ki,t.LatLng=j,t.latLng=W,t.LatLngBounds=F,t.latLngBounds=B,t.CRS=Z,t.GeoJSON=Fi,t.geoJSON=qi,t.geoJson=Gi,t.Layer=Mi,t.LayerGroup=Si,t.layerGroup=function(t,e){return new Si(t,e)},t.FeatureGroup=Li,t.featureGroup=function(t){return new Li(t)},t.ImageOverlay=Yi,t.imageOverlay=function(t,e,i){return new Yi(t,e,i)},t.VideoOverlay=Ki,t.videoOverlay=function(t,e,i){return new Ki(t,e,i)},t.SVGOverlay=Xi,t.svgOverlay=function(t,e,i){return new Xi(t,e,i)},t.DivOverlay=Qi,t.Popup=Ji,t.popup=function(t,e){return new Ji(t,e)},t.Tooltip=tn,t.tooltip=function(t,e){return new tn(t,e)},t.Icon=Ai,t.icon=function(t){return new Ai(t)},t.DivIcon=en,t.divIcon=function(t){return new en(t)},t.Marker=Di,t.marker=function(t,e){return new Di(t,e)},t.TileLayer=an,t.tileLayer=on,t.GridLayer=nn,t.gridLayer=function(t){return new nn(t)},t.SVG=pn,t.svg=fn,t.Renderer=rn,t.Canvas=ln,t.canvas=cn,t.Path=Ei,t.CircleMarker=Pi,t.circleMarker=function(t,e){return new Pi(t,e)},t.Circle=Oi,t.circle=function(t,e,i){return new Oi(t,e,i)},t.Polyline=Ni,t.polyline=function(t,e){return new Ni(t,e)},t.Polygon=Ri,t.polygon=function(t,e){return new Ri(t,e)},t.Rectangle=mn,t.rectangle=function(t,e){return new mn(t,e)},t.Map=Ge,t.map=function(t,e){return new Ge(t,e)};var Cn=window.L;t.noConflict=function(){return window.L=Cn,this},window.L=t})),$.fn.forMapsTabs=function(t){t=$.extend({},{titolo:"",menu:"MENU",tabChanged:function(){},open:function(){},close:function(){}},t),$(this).hasClass(".forMapsTabs")||$(this).addClass("forMapsTabs");var e,i,n=this;$(n).prepend('<h1><span class="forMapsTabsClose fa fa-caret-right" title="Chiudi"></span><span class="forMapsTabsTitle">'+t.titolo+"</span></h1>"),i=!1,e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0),i&&$(".forMapsTabsMenu>ul",n).addClass("forMapsTouch"),$(".forMapsTabsMenu",n).prepend('<div class="forMapsTabsArrow forMapsTabsArrowLeft"><span class="fas fa-chevron-left"></span></div>'),$(".forMapsTabsMenu",n).append('<div class="forMapsTabsArrow forMapsTabsArrowRight"><span class="fas fa-chevron-right"></span></div>'),$(".forMapsTabsArrowRight",n).on("click",(function(t){var e=$(".forMapsTabsMenu>ul",n);console.log(e.scrollLeft()),e.animate({scrollLeft:e.scrollLeft()+100},300)})),$(".forMapsTabsArrowLeft",n).on("click",(function(t){var e=$(".forMapsTabsMenu>ul",n);console.log(e.scrollLeft()),e.animate({scrollLeft:e.scrollLeft()-100},300)})),$('.forMapsTabsMenu>ul>li>a[href^="#"]',n).on("click",(function(e){var i,n,a;i=this.hash,n=$('[href="'+i+'"]'),a=$(i),n.addClass("forMapsTabsActive").parent().siblings().find("a").removeClass("forMapsTabsActive"),a.addClass("forMapsTabsActive").siblings().removeClass("forMapsTabsActive"),n.closest("ul").removeClass("forMapsTabsMenuOpen"),t.tabChanged.call(this),e.preventDefault()})),$(".forMapsTabsClose",n).on("click",(function(t){n.close(),t.preventDefault()})),n.open=function(){$(this).closest(".forMapsTabs").hasClass("forMapsTabsOpen")||$(this).closest(".forMapsTabs").addClass("forMapsTabsOpen"),t.open.call(this)},n.close=function(){$(this).closest(".forMapsTabs").removeClass("forMapsTabsOpen"),$(this).closest(".forMapsTabs").children("ul").first().removeClass("forMapsTabsMenuOpen"),t.close.call(this)},n.isOpen=function(){return n.hasClass("forMapsTabsOpen")},n.setTitle=function(t){$(this).find(".forMapsTabsTitle").html(t)}};var ForMaps=function(){var t={},e=[{Tipologia:"immagine",Denominazione:"Goccia rossa",Icona:"goccia_rossa.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Goccia gialla",Icona:"goccia_gialla.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Goccia verde",Icona:"goccia_verde.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Goccia fucsia",Icona:"goccia_fucsia.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Goccia blu",Icona:"goccia_blu.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Oggetto di stima 1",Icona:"d_1.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Oggetto di stima 2",Icona:"d_2.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Oggetto di stima 3",Icona:"d_3.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Oggetto di stima 4",Icona:"d_4.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Oggetto di stima 5",Icona:"d_5.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile A",Icona:"icona_1.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile B",Icona:"icona_2.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile C",Icona:"icona_3.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile D",Icona:"icona_4.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile E",Icona:"icona_5.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile F",Icona:"icona_6.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile G",Icona:"icona_7.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile H",Icona:"icona_8.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile I",Icona:"icona_9.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Comparabile J",Icona:"icona_10.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno edificabile rosso",Icona:"terreno_edificabile_rosso.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno edificabile giallo",Icona:"terreno_edificabile_giallo.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno edificabile verde",Icona:"terreno_edificabile_verde.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno edificabile fucsia",Icona:"terreno_edificabile_fucsia.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno edificabile blu",Icona:"terreno_edificabile_blu.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno agricolo rosso",Icona:"terreno_agricolo_rosso.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno agricolo giallo",Icona:"terreno_agricolo_giallo.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno agricolo verde",Icona:"terreno_agricolo_verde.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno agricolo fucsia",Icona:"terreno_agricolo_fucsia.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Terreno agricolo blu",Icona:"terreno_agricolo_blu.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Utente rosso",Icona:"utente_rosso.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Utente giallo",Icona:"utente_giallo.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Utente verde",Icona:"utente_verde.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Utente fucsia",Icona:"utente_fucsia.png",Trascinabile:!0},{Tipologia:"immagine",Denominazione:"Utente blu",Icona:"utente_blu.png",Trascinabile:!0},{Tipologia:"testo",Denominazione:"Etichetta rossa",Icona:"red",Trascinabile:!0},{Tipologia:"testo",Denominazione:"Etichetta gialla",Icona:"yellow",Trascinabile:!0},{Tipologia:"testo",Denominazione:"Etichetta verde",Icona:"green",Trascinabile:!0},{Tipologia:"testo",Denominazione:"Etichetta fucsia",Icona:"fucsia",Trascinabile:!0},{Tipologia:"testo",Denominazione:"Etichetta blu",Icona:"blue",Trascinabile:!0}],i=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}];function n(t,e){var n=this;e=$.extend({},{coordinate:"41.8856460823679, 12.4608743837683",zoom:6,marker:!1,help:!1,bottoniSalvataggio:!0,bottoneCondivisione:!0,bottoneVisualizzazioneControlli:!0,bottonePosizione:!0,linkForMaps:!1,experimental:!1},e),this.state={},this.id=this.guid(),this.help=e.help,this.experimental=e.experimental,this.bottoniSalvataggio=e.bottoniSalvataggio,this.bottoneCondivisione=e.bottoneCondivisione,this.bottoneVisualizzazioneControlli=e.bottoneVisualizzazioneControlli,this.bottonePosizione=e.bottonePosizione,this.linkForMaps=e.linkForMaps,this.overlayWMSZIndex=200,this.state.Markers=[],this.state.Ricerche=[],this.percorsoIcone="https://www.formaps.it/Images/markers/",this.map=L.map(t),this.addInfoWindow();var a=this.coordinatesFromString(e.coordinate);e.marker&&this.addMarker({latLng:a}),this.map.setView(a,e.zoom),this.map.on("baselayerchange",(function(t){n.state.activeBaseLayer=t.layer.options.id})),L.control.scale({imperial:!1}).addTo(this.map),this.map.zoomControl.setPosition("bottomleft"),this.bottonePosizione&&L.control.locate({position:"bottomleft",locateOptions:{enableHighAccuracy:!0},icon:"far fa-dot-circle",circleStyle:{color:"#db1915",fillColor:"#db1915"},markerStyle:{color:"#fff",fillColor:"#db1915"},compassStyle:{fillColor:"#db1915"},strings:{title:"Mostra la mia posizione",metersUnit:"metri",feetUnit:"piedi",popup:"Ti trovi entro {distance} {unit} da questo punto",outsideMapBoundsMsg:"Sembra che ti trovi al di fuori dei confini della mappa"},onLocationError:function(t){console.log("Errore geolocalizzazione",t.message)}}).addTo(this.map);var o=L.tileLayer("https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:19,attribution:'Map data &copy; <a href="https://www.google.it/">Google</a>',subdomains:["mt0","mt1","mt2","mt3"],id:"googleStreets"}).addTo(this.map),s=L.tileLayer("https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}&apistyle=s.t:2|s.e:l|p.v:off",{maxZoom:19,attribution:'Map data &copy; <a href="https://www.google.it/">Google</a>',subdomains:["mt0","mt1","mt2","mt3"],id:"googleStreets"}),r=L.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:19,attribution:'Map data &copy; <a href="https://www.google.it/">Google</a>',subdomains:["mt0","mt1","mt2","mt3"],id:"googleSat"}),l=L.tileLayer("https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:19,attribution:'Map data &copy; <a href="https://www.google.it/">Google</a>',subdomains:["mt0","mt1","mt2","mt3"],id:"googleHybrid"}),c=L.tileLayer("https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}&apistyle="+this.getEncodedMapStyles(i),{maxZoom:19,attribution:'Map data &copy; <a href="https://www.google.it/">Google</a>',subdomains:["mt0","mt1","mt2","mt3"],id:"googleGrey"}),u=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',id:"openStreetMap"}),h=L.tileLayer("https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});this.baseLayers={"Strade - Google":o,"Strade senza punti di interesse - Google":s,"Strade - Scala di grigi - Google":c,"Satellite - Google":r,"Ibrida - Google":l,"Strade - OpenStreetMap":u,"Strade - Scala di grigi - OpenStreetMap":h,"Mappa di base spenta":L.tileLayer("",{maxZoom:19,id:"nessuna"})},this.state.activeBaseLayer=this.baseLayers[Object.keys(this.baseLayers)[0]].options.id,L.control.layers(this.baseLayers,null,{position:"topleft"}).addTo(this.map)}n.prototype.getBanner=function(){return'<p class="forMapsBanner"><a href="https://www.stimatrix.it/Prodotti/SchedaProdotto/23?utm_campaign=VIS-Nuovi-Metodi20191008" title="Accedi all\'offerta speciale" target="_blank;"><img src="https://www.formaps.it/Images/Banner/2019-10-08-Stimatrix-VIS-Nuovi-Metodi.jpg" style="width:100%;max-width:100%;"></a></p>'},n.prototype.saveMapState=function(){var t=this.map,e={};e.Center=t.getCenter(),e.Zoom=t.getZoom(),e.ActiveBaseLayer=this.state.activeBaseLayer;var i=[];$.each(this.state.Markers,(function(t,e){if(null!=e){var n={};n.Etichetta=e.data.etichetta,n.Trascinabile=e.dragging.enabled(),n.Coordinate=e.getLatLng(),n.Heading=e.data.heading,n.Pitch=e.data.pitch,n.Icona=e.data.icona,n.IdRicerca=e.idRicerca,n.Denominazione=e.data.denominazione,n.Provenienza=e.data.provenienza,n.Prezzo=e.data.prezzo,n.Url=e.data.url,n.Superficie=e.data.superficie,n.NumeroLocali=e.data.numeroLocali,n.Note=e.data.note,n.Data=e.data.data,n.IdAnnuncio=e.data.idAnnuncio,n.ProvenienzaAnnuncio=e.data.provenienzaAnnuncio,i.push(n)}})),e.Markers=i;var n=[];$.each(this.state.Ricerche,(function(t,e){if(null!=e){var i={};i.Id=e.id,i.Parametro=e.parametro,n.push(i)}})),e.Ricerche=n;var a=[];return $.each(this.state.WMSOverlays,(function(t,e){a.push({NomeInterno:e.NomeInterno,Active:e.Active,Opacity:e.Opacity})})),e.WMSOverlays=a,this.ForMapsLivelliAmministrativi&&(e.ComuniEvidenziati=this.ForMapsLivelliAmministrativi.GetComuniEvidenziati()),this.ForMapsLivelliAmministrativi&&(e.TribunaleEvidenziato=this.ForMapsLivelliAmministrativi.GetTribunaleEvidenziato()),this.drawnItems&&(e.DrawnItems=this.drawnItems.toGeoJSON()),this.ForMapsElencoNazionale&&(e.ElencoNazionaleActive=this.ForMapsElencoNazionale.GetElencoNazionaleActive(),e.ElencoNazionaleHeatmapActive=this.ForMapsElencoNazionale.GetElencoNazionaleHeatmapActive()),e},n.prototype.loadMapState=function(t){var e=this,i=e.map;if(e.removeMarkers(),$.each(e.state.WMSOverlays,(function(t,i){e.accendiLayerWMS(i.NomeInterno,!1,.5)})),e.forMapsDraw?$.each(e.drawnItems.getLayers(),(function(t,i){e.forMapsDraw.LayerUnset(i)})):e.drawnItems&&e.drawnItems.clearLayers(),$.each(t.Markers,(function(t,i){e.addMarker({idIcona:i.Icona,draggable:null==i.Trascinabile||i.Trascinabile,etichetta:" "==i.Etichetta?"":i.Etichetta,denominazione:i.Denominazione,provenienza:i.Provenienza,prezzo:i.Prezzo?i.Prezzo:null,url:i.Url,superficie:i.Superficie?i.Superficie:null,numeroLocali:i.NumeroLocali,note:i.Note,data:i.Data?new Date(i.Data):null,latLng:i.Coordinate,idRicerca:i.IdRicerca,infoWindowOpened:!1,heading:null==i.Heading?0:i.Heading,pitch:null==i.Pitch?0:i.Pitch,idAnnuncio:i.IdAnnuncio,provenienzaAnnuncio:i.ProvenienzaAnnuncio})})),$.each(t.Ricerche,(function(t,i){e.aggiungiRicerca(i.Id,i.Parametro)})),t.WMSOverlays?$.each(t.WMSOverlays,(function(t,i){e.accendiLayerWMS(i.NomeInterno,i.Active,i.Opacity)})):$.each(e.state.WMSOverlays,(function(t,i){e.accendiLayerWMS(i.NomeInterno,!1,50)})),e.ForMapsLivelliAmministrativi)if(t.ComuniEvidenziati){var n=t.ComuniEvidenziati;e.ForMapsLivelliAmministrativi.EvidenziaComune(n.Comuni,n.Active,n.Opacity,!1,n.Negativo)}else e.ForMapsLivelliAmministrativi.EvidenziaComune("",!1,50,!1);if(e.ForMapsLivelliAmministrativi&&t.TribunaleEvidenziato){var a=t.TribunaleEvidenziato;e.ForMapsLivelliAmministrativi.EvidenziaTribunale(a.Tribunale,a.Active,a.Opacity,!1)}if(t.DrawnItems&&L.geoJSON(t.DrawnItems,{pointToLayer:function(t,e){if(t.properties.radius)return new L.Circle(e,t.properties.radius)},onEachFeature:function(t,i){i.addTo(e.drawnItems).showMeasurements(),e.forMapsDraw&&e.forMapsDraw.LayerSetup(i),i.setStyle({fillColor:t.properties.fillColor,color:t.properties.color})}}),e.ForMapsElencoNazionale&&t.ElencoNazionaleActive&&(e.ForMapsElencoNazionale.SetElencoNazionaleActive(t.ElencoNazionaleActive),e.ForMapsElencoNazionale.SetElencoNazionaleHeatmapActive(t.ElencoNazionaleHeatmapActive)),t.ActiveBaseLayer&&e.setBaseLayer(t.ActiveBaseLayer),t.Center)i.setView(t.Center,t.Zoom);else{var o=t.Bounds;i.flyToBounds(L.latLngBounds(L.latLng(o.south,o.west),L.latLng(o.north,o.east)))}},n.prototype.setBaseLayer=function(t){var e=this.map;$.each(this.baseLayers,(function(i,n){n.options.id==t?n.addTo(e):n.remove()}))},n.prototype.addSideBar=function(t,e,i,n,o){var s=this,r=this.map;if(null==s.SideBar){var l=document.createElement("div");if(l.id="forMapsSideBar"+s.id,l.className="sidebar collapsed",l.innerHTML='<div class="sidebar-tabs">                                    <ul role="tablist" class="forMapsFunctions">                                    </ul>                                </div>                                <div class="sidebar-content">                                </div>',$(r.getContainer()).parent().prepend(l),$(r.getContainer()).addClass("sidebar-map"),s.SideBar=$(l),s.SideBar.find(".sidebar-tabs").append('<ul class="forMapsInfo"></ul>'),s.bottoneCondivisione){var c=L.DomUtil.create("div");c.id="forMapsShareContainer"+t,c.className="forMapsShareContainer",c.innerHTML='<h1>Condividi</h1>                                            <div class="forMapsShareTextLink">                                                <input type="text" id="forMapsShareInput'+t+'" class="forMapsShareInput" readonly="readonly">                                                <button type="button" id="forMapsShareButton'+t+'" class="forMapsButton forMapsShareButton">Copia il link</button>                                            </div>                                            <div id="forMapsShareLinks'+t+'" class="forMapsShareLinks">                                                <a href="#" id="forMapsShareEmail'+t+'" title="Condividi la mappa via Email" target="_blank"><i class="fas fa-envelope"></i></a>                                                <a href="#" id="forMapsShareWA'+t+'" class="forMapsShareWA" title="Condividi la mappa con WhatsApp" target="_blank"><i class="fab fa-whatsapp-square"></i></a>                                                <a href="#" id="forMapsShareFB'+t+'" class="forMapsShareFB" title="Condividi la mappa su Facebook" target="_blank"><i class="fab fa-facebook-square"></i></a>                                                <a href="#" id="forMapsShareQR'+t+'" class="forMapsShareQR" title="Condividi la mappa tramite QR Code" target="_blank"><div></div></a>                                            </ul>',$(r.getContainer()).append(c),$("#forMapsShareButton"+t).on("click",(function(e){document.getElementById("forMapsShareInput"+t).select(),document.execCommand("copy"),alert("Link copiato correttamente negli appunti")})),$("#forMapsShareFB"+t).on("click",(function(t){t.preventDefault(),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent($(this).prop("href")),"facebook-share-dialog","width=626,height=436")}));var u=!1;$('<li class="shareTab"><a href="#" role="tab" title="Condividi la mappa" id="forMapsShare'+s.id+'"><span class="fas fa-share-alt"></span></a></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo")).on("click",(function(e){if(u)return!1;$("#forMapsShare"+s.id+">span").prop("class","fas fa-spinner fa-pulse"),u=!0;var i=JSON.stringify(s.saveMapState());$.ajax({url:"https://www.formaps.it/WS/SharedMap/SetMapState",method:"POST",data:{mapState:i},dataType:"jsonp",contentType:"application/x-www-form-urlencoded"}).done((function(e){var i="https://www.formaps.it/shared/map/"+e;$("#forMapsShareInput"+t).val(i),$("#forMapsShareEmail"+t).prop("href","mailto:?body="+i+"&subject=Mappa creata con STIMATRIX forMaps"),$("#forMapsShareWA"+t).prop("href","https://"+(s.mobileCheck()?"api":"web")+".whatsapp.com/send?text="+encodeURIComponent(i)),$("#forMapsShareFB"+t).prop("href",i),$("#forMapsShareQR"+t).prop("href",i),$("#forMapsShareQR"+t+">div").html("").qrcode({text:i,width:80,height:80}),lity("#forMapsShareContainer"+t),$("#forMapsShareContainer"+t).show(),$(document).on("lity:close",(function(e,i){$("#forMapsShareContainer"+t).hide()}))})).fail((function(t,e,i){console.log(t.status),alert("Si Ã¨ verificato un errore durante la condivisione, ritentare piÃ¹ tardi")})).always((function(){$("#forMapsShare"+s.id+">span").prop("class","fas fa-share-alt"),u=!1}))}))}if(s.bottoniSalvataggio&&($('<li class="saveTab"><a href="#" role="tab" title="Salva lo stato della mappa su file" id="forMapsSave'+s.id+'"><span class="far fa-save"></span></a></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo")).on("click",(function(t){var e=s.saveMapState(),i=new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"});a(i,"Riferimenti.fmaps")})),$('<li class="loadTab"><label for="forMapsLoadFile'+s.id+'" title="Carica lo stato della mappa da file" id="forMapsLoad'+s.id+'"><span class="far fa-folder-open"></span></label><input id="forMapsLoadFile'+s.id+'" type="file" style="display:none;"/></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo")),$("#forMapsLoadFile"+s.id).on("change",(function(t){try{if(t.target.files){var e=t.target.files,i=new FileReader;i.readAsText(e[0],"UTF-8"),i.onload=function(t){try{var e=JSON.parse(t.target.result);s.loadMapState(e)}catch(i){console.log(i),alert("Si Ã¨ verificato un errore durante il caricamento")}}}}catch(n){console.log(n),alert("Si Ã¨ verificato un errore durante il caricamento")}}))),s.bottoneVisualizzazioneControlli&&$('<li class="showHideTab"><a href="#" role="tab" title="Mostra/Nascondi i controlli su mappa" id="forMapsShowHide'+s.id+'"><span class="fa fa-eye"></span></a></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo")).on("click",(function(t){$("span",this).hasClass("fa-eye")?$("span",this).switchClass("fa-eye","fa-eye-slash"):$("span",this).switchClass("fa-eye-slash","fa-eye"),$(r.getContainer()).find(".leaflet-control-container").toggle()})),s.help){$('<li class="tourTab"><a href="#" role="tab" title="Scopri le funzionalitÃ  di forMaps" id="forMapsTour'+s.id+'"><span class="fa fa-info-circle"></span></a></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo"));var h=new Tour({orphan:!0,template:'<div class="popover tour">\t\t\t\t\t\t\t\t    <div class="arrow"></div>\t\t\t\t\t\t\t\t    <h3 class="popover-title"></h3>\t\t\t\t\t\t\t\t    <div class="popover-content"></div>\t\t\t\t\t\t\t\t    <div class="popover-navigation">\t\t\t\t\t\t\t\t\t    <button class="btn btn-default" data-role="prev">Â« Prec.</button>\t\t\t\t\t\t\t\t\t    <span data-role="separator">|</span>\t\t\t\t\t\t\t\t\t    <button class="btn btn-default" data-role="next">Succ. Â»</button> \t\t\t\t\t\t\t\t\t    <button class="btn btn-default" data-role="end" style="margin-left:10px;">Fine</button>\t\t\t\t\t\t\t\t    </div>\t\t\t\t\t\t\t\t</div>',steps:[{title:"Benvenuto su STIMATRIXÂ® forMaps",content:"Segui questo breve tour per scoprire le funzionalitÃ  di forMaps"},{element:".leaflet-control-layers",title:"Mappe di base",content:"Cambia lo stile della mappa di base con, ad esempio, la visione satellitare"},{element:".forMapsMarkerContainer",title:"Riferimenti su mappa",content:"Aggiungi sulla mappa riferimenti personalizzati che ti forniscono informazioni utili, a livello catastale e non solo"},{element:".sidebar",title:"Barra degli strumenti",content:"La barra laterale ti offre tutti gli strumenti necessari a creare la tua mappa personalizzata"},{element:".forMapsSearchTab",title:"Ricerca indirizzo",content:"Cerca un indirizzo"},{element:".catTab",title:"Catasto",content:"Cerca le particelle e aggiungi strati catastali come fogli, particelle, fabbricati e molto altro"},{element:".tavTab",title:"Catasto tavolare",content:"Cerca e visualizza su mappa le particelle catastali della regione Trentino Alto Adige"},{element:".omiTab",title:"Valori OMI",content:"Cerca e visualizza su mappa le zone OMI e i rispettivi valori"},{element:".ammTab",title:"Livelli amministrativi",content:"Aggiungi livelli amministrativi come confini comunali, provinciali, regionali e sezioni censuarie"},{element:".pfTab",title:"Punti fiduciali",content:"Cerca e visualizza i punti fiduciali"},{element:".ipvTab",title:"Elenco Nazionale Valutatori Immobiliari",content:"Visualizza su mappa i Valutatori Immobiliari iscritti all'Elenco Nazionale"},{element:".poiTab",title:"Ricerca punti di interesse",content:"Cerca e visualizza su mappa i punti di interesse di un'area circoscritta"},{element:".apTab",title:"Ricerca annunci immobiliari",content:"Cerca e visualizza su mappa gli annunci immobiliari di un'area circoscritta"},{element:".leaflet-pm-draw",title:"Disegna e misura su mappa",placement:"left",content:"Disegna poligoni su mappa e ottieni superficie e distanze"},{element:".leaflet-pm-edit",title:"Modifica ed elimina i disegni su mappa",placement:"left",content:"Modifica, sposta o elimina i poligoni disegnati in precedenza"},{element:".saveTab",title:"Salva la mappa",content:"Salva la mappa su file per riutilizzarla successivamente"},{element:".loadTab",title:"Carica la mappa",content:"Carica la mappa da un file salvato in precedenza"},{element:".showHideTab",title:"Nascondi i controlli",content:"Nascondi i controlli su mappa per una migliore consultazione"},{element:".tourTab",title:"Riscopri le funzionalitÃ ",content:"Se lo desideri, puoi visualizzare nuovamente questo tour di presentazione cliccando qui"}]});h.init(),h.start(),h.goTo(0),$(s.SideBar).on("click","#forMapsTour"+s.id,(function(t){t.preventDefault(),h.restart()}))}s.linkForMaps&&$('<li class="linkForMapsTab"><a href="https://www.formaps.it" role="tab" title="STIMATRIX forMaps" target="_blank"><img src="https://www.formaps.it/Images/logo.png" style="width:30px;margin-top:5px;"></a></li>').appendTo(s.SideBar.find(".sidebar-tabs ul.forMapsInfo"))}$(s.SideBar).find(".sidebar-tabs ul.forMapsFunctions").append('<li class="'+e+'Tab"><a href="#'+e+"Pane"+t+'" role="tab" title="'+i+'">'+n+"</a></li>"),$(s.SideBar).find(".sidebar-content").append('<div class="sidebar-pane '+e+'Pane" id="'+e+"Pane"+t+'"></div>');var d=$("#"+e+"Pane"+t);d.append('<h1 class="sidebar-header">                                    '+i+'                                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>                                </h1>');var p=$('<div class="sidebar-pane-content"></div>');p.append(o),d.append(p),s.SideBar.sidebar()},n.prototype.mapDataSetStyle=function(t){t.data.setStyle((function(t){return{title:t.getProperty("title")||null,fillColor:t.getProperty("fill"),fillOpacity:t.getProperty("fillOpacity"),strokeColor:t.getProperty("stroke"),strokeOpacity:t.getProperty("strokeOpacity"),strokeWeight:t.getProperty("strokeWidth")}}))},n.prototype.caricaWMS=function(t,e,i,n){this.state.WMSOverlays||(this.state.WMSOverlays={});var a=e.sfondo,o=e.urlBase,s=e.title,r=e.internalName,l=e.key,c=e.minZoomLevel,u=e.crs?e.crs:"4326",h=e.tileSize?e.tileSize:256,d=e.maxScaleDenominator,p=e.version,f=e.styles?e.styles:"",m=this.guid();return this.state.WMSOverlays[m]={Id:m,Layers:l,Titolo:s,NomeInterno:r,MaxScaleDenominator:d,MinZoom:c,Opacity:50,Active:!1,Category:n,Styles:f},this.state.WMSOverlays[m].Overlay=a?L.tileLayer(o,{minZoom:c,maxZoom:19,tileSize:h,opacity:.5,zIndex:++this.overlayWMSZIndex}):L.tileLayer.wms(o,{version:p,layers:l,crs:this.getCrs(u),format:"image/png",transparent:!0,minZoom:c,maxZoom:19,tileSize:h,opacity:.5,styles:f,zIndex:++this.overlayWMSZIndex}),this.aggiungiLivelloElenco(t,this.state.WMSOverlays[m],i),m},n.prototype.aggiungiLivelloElenco=function(t,e,i){var n=this;$(i).append('<li>                                <div class="wms_input">                                    <input type="checkbox" value="'+e.Id+'" class="wms_check" id="wms_check'+e.Id+'">                                </div>                                <div class="wms_label">                                    <label>'+e.Titolo+(e.MaxScaleDenominator?'<small class="wms_scale" id="wms_scale'+e.Id+'" title="Zoom al livello minimo di visualizzazione"><span class="fas fa-search-plus"></span> 1:'+parseFloat(e.MaxScaleDenominator).toLocaleString("it")+"</small>":"")+'</label>                                    <div class="wms_opacita_container"><div id="wms_range'+e.Id+'" class="wms_opacita"></div>                                    </div>                                </div>                            </li>'),$("#wms_range"+e.Id).slider({min:0,max:100,value:[50],slide:function(t,i){e.Opacity=i.value,n.state.WMSOverlays[e.Id].Overlay.setOpacity(i.value/100)},change:function(t,i){e.Opacity=i.value,n.state.WMSOverlays[e.Id].Overlay.setOpacity(i.value/100)}}),$("#wms_check"+e.Id).on("change",(function(){n.toggleLayerWMS(t,$(this).val(),this.checked)})),$("#wms_scale"+e.Id).click((function(){t.setZoom(e.MinZoom),n.toggleLayerWMS(t,e.Id,!0),$("#wms_check"+e.Id).prop("checked","checked")}))},n.prototype.accendiLayerWMS=function(t,e,i){$.each(this.state.WMSOverlays,(function(n,a){a.NomeInterno==t&&($("#wms_check"+a.Id).prop("checked",e).change(),i&&$("#wms_range"+a.Id).slider("value",i))}))},n.prototype.toggleLayerWMS=function(t,e,i){var n=this.state.WMSOverlays[e];n.Active=i,i?(n.Overlay.setOpacity($("#wms_range"+n.Id).slider("option","value")/100),n.Overlay.addTo(t)):n.Overlay.removeFrom(t)},n.prototype.getLayerWMS=function(t,e){return this.state.WMSOverlays[e]},n.prototype.addMarker=function(t){var e,i,n=this,a=n.map,o={idIcona:"goccia_rossa.png",draggable:null,etichetta:"",denominazione:"Riferimento",provenienza:"",prezzo:null,url:"",superficie:null,numeroLocali:"",note:"",data:null,latLng:L.latLng(41.8856460823679,12.4608743837683),idRicerca:null,infoWindowOpened:!0,heading:0,pitch:0,idAnnuncio:null,provenienzaAnnuncio:"immobiliare.it"},s=(t=$.extend({},o,t),n.getIcona(t.idIcona));switch(s.Tipologia){case"testo":e=L.divIcon({className:"markerLabel markerLabel-"+s.Icona,iconSize:null,html:t.etichetta});break;case"immagine":e=L.icon({iconUrl:n.percorsoIcone+s.Icona,iconSize:[47,57],iconAnchor:[23,55]}),""!=t.etichetta&&(i=L.tooltip({permanent:!0,direction:"top",offset:L.point(0,-58),className:"forMapsTooltip"}).setContent(t.etichetta))}var r=L.marker(t.latLng,{draggable:null!=t.draggable?t.draggable:s.Trascinabile,title:t.denominazione,icon:e,pmIgnore:!0}).addTo(a);return i&&r.bindTooltip(i),n.state.Markers.push(r),r.id=n.getRandomInt(),r.markerIndex=n.state.Markers.length-1,r.idRicerca=t.idRicerca,r.data={etichetta:t.etichetta,icona:s.Icona,denominazione:t.denominazione,provenienza:t.provenienza,prezzo:t.prezzo,url:t.url,superficie:t.superficie,numeroLocali:t.numeroLocali,note:t.note,data:t.data,heading:t.heading,pitch:t.pitch,indirizzoRicercato:t.idRicerca?t.denominazione:"-",idAnnuncio:t.idAnnuncio,provenienzaAnnuncio:t.provenienzaAnnuncio},r.on("dragend",(function(t){if(n.infoWindow.isOpen()){n.cleanArInfoWindowTabsLoaded(this),n.setDatiInfoWindow(this);var e=this;setTimeout((function(){n.mostraOmbra(e,!0)}),100)}})),r.on("click",(function(t){n.mostraOmbra(r,!0),n.infoWindow.isOpen()?n.infoWindow.marker!=this?(n.cleanArInfoWindowTabsLoaded(this),n.setDatiInfoWindow(this)):(n.closeInfoWindow(this),n.mostraOmbra(r,!1)):n.openInfoWindow(this)})),t.infoWindowOpened&&$(window).width()>992&&r.fire("click"),r.on("contextmenu",(function(t){})),r.id},n.prototype.getIconList=function(t){var i=this,n="";return e.forEach((function(e,a,o){var s="";e.Icona==t&&(s="selected"),n+='<li class="'+s+'" data-icona="'+e.Icona+'" title="'+e.Denominazione+'">'+("immagine"==e.Tipologia?'<img src="'+i.percorsoIcone+e.Icona+'" alt="">':'<div class="markerLabel markerLabel-'+e.Icona+'">ICO</div>')+"</li>"})),n},n.prototype.getIcona=function(t){return e.find((function(e){return e.Icona==t}))},n.prototype.mostraOmbra=function(t,e){var i=this;if(t){var n=i.getIcona(t.data.icona),a=t.options.icon;switch(n.Tipologia){case"immagine":e?($.each(i.state.Markers,(function(e,n){n!=t&&null!=n&&i.mostraOmbra(n,!1)})),a.options.shadowUrl=i.percorsoIcone+"highlight.png"):a.options.shadowUrl="",t.setIcon(a);break;case"testo":e?($.each(i.state.Markers,(function(e,n){n!=t&&null!=n&&i.mostraOmbra(n,!1)})),$(t.getElement()).addClass("markerLabelShadow")):$(t.getElement()).removeClass("markerLabelShadow")}}},n.prototype.editMarker=function(t,e){e=$.extend({},{denominazione:t.data.denominazione,provenienza:t.data.provenienza,prezzo:t.data.prezzo,url:t.data.url,data:t.data.data,superficie:t.data.superficie,numeroLocali:t.data.numeroLocali,note:t.data.note,etichetta:t.data.etichetta,idIcona:t.data.icona,trascinabile:t.draggable},e);var i=this.getIcona(e.idIcona),n=this.getIconaImage(i);if("testo"==i.Tipologia&&""==e.etichetta)alert("Questa tipologia di icona prevede l'inserimento di un'etichetta");else{switch(t.unbindTooltip(),i.Tipologia){case"immagine":a=L.icon({iconUrl:this.percorsoIcone+i.Icona,iconSize:[48,60],iconAnchor:[24,58]}),t.setIcon(a),""!=e.etichetta&&t.bindTooltip(e.etichetta,{permanent:!0,direction:"top",offset:L.point(0,-56),className:"forMapsTooltip"});break;case"testo":var a=L.divIcon({className:"markerLabel markerLabel-"+i.Icona,iconSize:null,html:e.etichetta});t.setIcon(a)}this.infoWindow.setTitle(this.getInfoWindowTitle(n,e.denominazione)),t.data.etichetta=e.etichetta,t.data.denominazione=e.denominazione,t.data.provenienza=e.provenienza,t.data.prezzo=e.prezzo,t.data.url=e.url,t.data.data=e.data,t.data.superficie=e.superficie,t.data.numeroLocali=e.numeroLocali,t.data.note=e.note,t._icon.title=e.denominazione,t.data.icona=i.Icona,this.mostraOmbra(t,!0),e.trascinabile?t.dragging.enable():t.dragging.disable()}},n.prototype.removeMarker=function(t){var e=this;if(null!=e.state.Markers[t]){var i=e.state.Markers[t].idRicerca;e.state.Markers[t].removeFrom(e.map),e.state.Markers[t]=null,e.infoWindow.marker=null,e.closeInfoWindow(),i&&0==$.map(e.state.Markers,(function(t,e){if(t&&t.idRicerca==i)return t})).length&&($("#"+i).remove(),$.each(e.state.Ricerche,(function(t,n){n&&n.id===i&&(e.state.Ricerche[t]=null)})))}},n.prototype.removeAllMarkers=function(t){confirm("Vuoi davvero rimuovere "+(t?'la ricerca "'+$("#"+t+" i").html()+'" e il rispettivo riferimento':"tutti i riferimenti")+" dalla mappa?")&&this.removeMarkers(t)},n.prototype.removeMarkers=function(t){var e=this;$.each(e.state.Markers,(function(i,n){n&&(t?n.idRicerca==t&&e.removeMarker(i):e.removeMarker(i))}))},n.prototype.aggiungiRicerca=function(t,e){var i=this;i.ForMapsSearch&&($.each(i.state.Markers,(function(t,e){})),$("#forMapsSideBar"+i.id+" .forMapsSearch_ResultsList").prepend('<div id="'+t+'" class="forMapsSearchResult"><i title="Visualizza il risultato sulla mappa">'+e+'</i><span class="far fa-trash-alt" id="'+t+'_delete" title="Rimuovi i riferimenti dalla mappa"></span></div>'),i.state.Ricerche.push({id:t,parametro:e}),$("#"+t+"_delete").on("click",(function(){i.removeAllMarkers(t)})),$("#"+t+" i").on("click",(function(){var e=i.getmarkerByIdRicerca(t);$(window).width()>992&&e.fire("click"),i.map.flyTo(e.getLatLng())})),$("#"+t).on("mouseover",(function(){})),$("#"+t).on("mouseout",(function(){})))},n.prototype.getmarkerByIdRicerca=function(t){var e;return $.each(this.state.Markers,(function(i,n){n&&n.idRicerca==t&&(e=n)})),e},n.prototype.markerBounce=function(t,e){t&&(e?t.bounce():t.stopBouncing())},n.prototype.addInfoWindow=function(){var t=this,e=t.id,i=t.map;if(null==t.infoWindow){var n=document.createElement("div");n.id="fmr_infowindow"+e,n.className="fmr_infowindow",n.innerHTML=t.getInfoWindowContent(),$(i.getContainer()).parent().prepend(n),t.infoWindow=$(n),$(".immobile_tabs").tabs({heightStyle:"auto"}),$(".valoriOmi_tabs").tabs(),$("#fmr_infowindow"+e+" .fmr_estrattoMappa_button"+e).button(),$("#fmr_infowindow"+e+" .fmr_estrattoMappa_button"+e).button("option","disabled",!0),$("form input[type=radio][name=fmr_datiCatastaliSTIMATRIXCityRadio"+e+"]").change((function(){$("form input[type=radio][name=fmr_datiCatastaliSTIMATRIXCityRadio"+e+"]").val([$(this).val()]),t.setDatiCatastaliSTIMATRIXCityUrl(t.infoWindow.marker,i.getZoom())})),$("#annunciImmobiliariRadius"+e).select2({minimumResultsForSearch:-1}),$(document).on("click","#fmr_forMcaBottoneInizia_"+e,(function(e){$(this).hide(),t.infoWindow.marker.data.forMca={},t.infoWindow.marker.data.forMca.comparabili=[],t.setForMcaInfoWindow(t.infoWindow.marker)})),$(document).on("click","#fmr_forMcaBottoneCalcola_"+e,(function(i){i.preventDefault();var n={},a=t.infoWindow.marker;a&&(n.Subject={Denominazione:a.data.denominazione,Provenienza:a.data.provenienza,Data:a.data.data,Prezzo:a.data.prezzo,Url:a.data.url,Superficie:a.data.superficie,NumeroLocali:a.data.numeroLocali,Note:a.data.note,IdAnnuncio:a.data.idAnnuncio,Coordinate:a.getLatLng()});var o=[];$.each($(".fmr_forMcaCheckbox:checked","#fmr_forMcaComparabili_"+e),(function(e,i){var n=$(this).val(),a=t.state.Markers.filter((function(t){return t&&t.id==n}))[0];o.push({Denominazione:a.data.denominazione,Provenienza:a.data.provenienza,Data:a.data.data,Prezzo:a.data.prezzo,Url:a.data.url,Superficie:a.data.superficie,NumeroLocali:a.data.numeroLocali,Note:a.data.note,IdAnnuncio:a.data.idAnnuncio,Coordinate:a.getLatLng()})})),n.Comparabili=o;var s=!0;0==n.Comparabili.length&&(confirm("Non hai selezionato comparabili per la valutazione.\nVuoi proseguire con solo l'immobile oggetto di stima?")||(s=!1)),s&&($("#fmr_forMcaDati_"+e).val(JSON.stringify(n)),$("#fmr_forMcaForm_"+e).submit(),console.log(n))})),$(document).on("click","#marker_remove_button"+e,(function(e){var i=$(this).data("markerindex");t.removeMarker(i)})),$("#fmr_editDenominazione"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_editProvenienza"+e).on("change",(function(e){s(t.infoWindow.marker)}));var a={scale:2,padFractionalZeros:!0,signed:!1,mask:Number,thousandsSeparator:"."},o={mask:Date,pattern:"d/`m/`Y",blocks:{d:{mask:IMask.MaskedRange,from:1,to:31,maxLength:2},m:{mask:IMask.MaskedRange,from:1,to:12,maxLength:2},Y:{mask:IMask.MaskedRange,from:1900,to:9999}},format:function(t){if(t instanceof Date){var e=t.getDate(),i=t.getMonth()+1;return e<10&&(e="0"+e),i<10&&(i="0"+i),[e,i,t.getFullYear()].join("/")}return""},parse:function(t){if(t){var e=t.split("/");return new Date(e[2],e[1]-1,e[0])}},autofix:!0};function s(i){var n=$("#fmr_editDenominazione"+e).val(),a=$("#fmr_editProvenienza"+e).val(),o=t.infoWindow.editPrezzoMask.typedValue,s=$("#fmr_editUrl"+e).val(),r=t.infoWindow.editDataMask.typedValue,l=t.infoWindow.editSuperficieMask.typedValue,c=$("#fmr_editNumeroLocali"+e).val(),u=$("#fmr_editNote"+e).val(),h=$("#fmr_editEtichetta"+e).val(),d=$("#forMapsIconList"+e+" li.selected").data("icona"),p=$("#fmr_etichettaTrascinabile"+e).prop("checked");t.editMarker(i,{denominazione:n,provenienza:a,etichetta:h,idIcona:d,trascinabile:p,prezzo:o,url:s,data:r,superficie:l,numeroLocali:c,note:u})}t.infoWindow.editPrezzoMask=IMask(document.getElementById("fmr_editPrezzo"+e),a),t.infoWindow.editDataMask=IMask(document.getElementById("fmr_editData"+e),o),t.infoWindow.editSuperficieMask=IMask(document.getElementById("fmr_editSuperficie"+e),a),$("#fmr_editPrezzo"+e).on("change keyup",(function(e){s(t.infoWindow.marker),t.setForMcaInfoWindow(t.infoWindow.marker)})),$("#fmr_editUrl"+e).on("change keyup",(function(e){s(t.infoWindow.marker),t.setEditUrlLink($(this).val())})),$("#fmr_EditUrlLink"+e).on("click",(function(t){"#"==$(this).prop("href")&&t.preventDefault()})),$("#fmr_editData"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_editSuperficie"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_editNumeroLocali"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_editNote"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_editEtichetta"+e).on("change keyup",(function(e){s(t.infoWindow.marker)})),$("#fmr_etichettaTrascinabile"+e).on("change",(function(e){s(t.infoWindow.marker)})),$("#forMapsIconList"+e).on("click","li",(function(i){$("#forMapsIconList"+e+" li").each((function(){$(this).removeClass("selected")})),$(this).addClass("selected"),s(t.infoWindow.marker)})),t.infoWindow.forMapsTabs({titolo:"Dettagli riferimento",tabChanged:function(){t.infoWindow.selectedTab=this.hash,t.setDatiInfoWindow(t.infoWindow.marker)},close:function(){t.infoWindow.streetViewArrow&&t.infoWindow.streetViewArrow.remove(),t.mostraOmbra(t.infoWindow.marker,!1)}})}t.evidenziaElemento()},n.prototype.openInfoWindow=function(t){this.infoWindow.open(),this.cleanArInfoWindowTabsLoaded(t),this.setDatiInfoWindow(t)},n.prototype.closeInfoWindow=function(){this.infoWindow.close(),this.infoWindow.marker=null},n.prototype.getInfoWindowTitle=function(t,e){return t+' <span class="dettagliRiferimento" title="Dettagli '+(""!=e?e:"riferimento")+'">Dettagli '+(""!=e?e:"riferimento")+"</span>"},n.prototype.cleanArInfoWindowTabsLoaded=function(e){$.each($(".forMapsTabsMenu>ul>li>a",this.infoWindow),(function(e,i){var n=$(i).attr("href").split("_")[0];t[n]=!1}))},n.prototype.getDatiCatastaliSTIMATRIXCity=function(t){var e=this.id;return'<div class="fmr_datiCatastaliSTIMATRIXCity">                    <h2>STIMATRIXCity<sup>&reg;</sup></h2>                    <div class="fmr_datiCatastaliSTIMATRIXCityContent">                        <div class="fmr_datiCatastaliSTIMATRIXCityErrore"></div>                        <form>                            <ul>                                <li><div><input type="radio" value="ESMCarrelloEstrattoMappa" id="ESMCarrelloEstrattoMappa_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'" checked="checked"><label for="ESMCarrelloEstrattoMappa_'+t+e+'">Estratto Mappa</label></div></li>                                <li><div><input type="radio" value="VISCarrelloVisuraTerreni" id="VISCarrelloVisuraTerreni_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="VISCarrelloVisuraTerreni_'+t+e+'">Visura Terreno</label></div></li>                                <li><div><input type="radio" value="VISCarrelloVisuraFabbricati" id="VISCarrelloVisuraFabbricati_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="VISCarrelloVisuraFabbricati_'+t+e+'">Visura Fabbricato</label></div></li>                                <li><div><input type="radio" value="ELPCarrelloElaboratoPlanimetrico" id="ELPCarrelloElaboratoPlanimetrico_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="ELPCarrelloElaboratoPlanimetrico_'+t+e+'">Elaborato planimetrico</label></div></li>                                <li><div><input type="radio" value="ELSCarrelloElencoSubalterni" id="ELSCarrelloElencoSubalterni_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="ELSCarrelloElencoSubalterni_'+t+e+'">Elenco subalterni</label></div></li>                                <li><div><input type="radio" value="RICCarrelloRicercaImmobiliTerreni" id="RICCarrelloRicercaImmobiliTerreni_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="RICCarrelloRicercaImmobiliTerreni_'+t+e+'">Ricerca compravendite terreni</label></div></li>                                <li><div><input type="radio" value="RICCarrelloRicercaImmobiliFabbircati" id="RICCarrelloRicercaImmobiliFabbricati_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="RICCarrelloRicercaImmobiliFabbricati_'+t+e+'">Ricerca compravendite fabbricati</label></div></li>                                <li><div><input type="radio" value="IUICarrelloIntestati-Terreni" id="IUICarrelloIntestati-Terreni_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="IUICarrelloIntestati-Terreni_'+t+e+'">Proprietari terreni</label></div></li>                                <li><div><input type="radio" value="IUICarrelloIntestati-Fabbricati" id="IUICarrelloIntestati-Fabbricati_'+t+e+'" name="fmr_datiCatastaliSTIMATRIXCityRadio'+e+'"><label for="IUICarrelloIntestati-Fabbricati_'+t+e+'">Proprietari fabbricati</label></div></li>                            </ul>                            <a href="#" title="" target="_blank" class="fmr_estrattoMappa_button'+e+' fmr_estrattoMappa_button">Richiedi</a>                        </form>                    </div>                </div>'},n.prototype.getInfoWindowContent=function(){var t=this.id,e='<nav class="forMapsTabsMenu">                                    <ul>                                        <li><a href="#immobile_'+t+'" class="forMapsTabsActive">Immobile</a></li>                                        <li><a href="#datiCatastali_'+t+'">Catasto</a></li>                                        <li><a href="#valoriOmi_'+t+'">OMI</a></li>                                        <li><a href="#datiComune_'+t+'">Comune</a></li>                                        <li><a href="#istat_'+t+'">Sezione censuaria</a></li>\t\t\t                            <li><a href="#posizione_'+t+'">Posizione</a></li>                                        <li><a href="#streetView_'+t+'">Street view</a></li>                                        <li><a href="#icona_'+t+'">Icona</a></li>                                        <li><a href="#condividi_'+t+'">Condividi</a></li>                                    </ul>                                </nav>                                <div class="forMapsTabsFooter">                                    <span id="marker_remove_button'+t+'" class="marker_remove_button far fa-trash-alt" data-markerindex="" title="Rimuovi il riferimento dalla mappa"></span>                                    <div><a href="https://www.formaps.it/" class="fmr_latitudineLongitudineLink" target="_blank" title="Condividi la posizione di questo riferimento"><span class="fas fa-map-marker-alt" style="margin-right:5px;"></span> <span class="fmr_latitudineLongitudine"></span></a></div>                                    <div class="indicazioni"><a class="fmr_indicazioniLink" href="https://www.google.com/maps/dir" target="_blank" title="Indicazioni stradali su Google Maps"><span class="fas fa-directions"></span></a></div>                                </div>';return e+='<div id="immobile_'+t+'" class="fmr_immobile forMapsTabsActive">                                <h2>Informazioni immobile</h2>                                <div class="immobile_tabs">\t\t                            <ul>\t\t\t                            <li><a href="#immobileInformazioni'+t+'">Immobile</a></li>\t\t\t                            <li><a href="#immobileCaratteristiche'+t+'">Caratteristiche</a></li>                                        <li><a href="#immobileNote'+t+'">Note</a></li>\t\t                            </ul>                                    <div id="immobileInformazioni'+t+'">                                        <ul>                                            <li><label>Denominazione</label><input type="text" value="" id="fmr_editDenominazione'+t+'" class="fmr_editDenominazione"></li>                                            <li>                                                <label>Provenienza</label>                                                <select id="fmr_editProvenienza'+t+'" class="fmr_editProvenienza">                                                    <option value="">Provenienza non definita</option>                                                    <option value="stima">Stima</option>                                                    <option value="compravendita">Compravendita</option>                                                    <option value="annuncioVendita">Annuncio in vendita</option>                                                    <option value="annuncioAsta">Annuncio in asta</option>                                                    <option value="annuncioAffitto">Annuncio in affitto</option>                                                </select>                                            </li>                                            <li><label>Prezzo (â¬)</label><input type="text" value="" id="fmr_editPrezzo'+t+'" class="fmr_editPrezzo"></li>                                            <li><label>Sito web</label><div class="forMapsInputLink"><input type="text" value="" id="fmr_editUrl'+t+'" class="fmr_editUrl"><a href="#" id="fmr_EditUrlLink'+t+'" title="Vai all\'indirizzo" target="_blank"><span class="fas fa-external-link-alt"></span></a></li>                                        </ul>                                    </div>                                    <div id="immobileCaratteristiche'+t+'">                                        <ul>                                            <li><label>Data</label><input type="text" value="" id="fmr_editData'+t+'" class="fmr_editData"></li>                                            <li><label>Superficie (mÂ²)</label><input type="text" value="" id="fmr_editSuperficie'+t+'" class="fmr_editSuperficie"></li>                                            <li><label>Numero locali</label><input type="text" value="" id="fmr_editNumeroLocali'+t+'" class="fmr_editNumeroLocali"></li>                                        </ul>                                    </div>                                    <div id="immobileNote'+t+'">                                        <textarea maxlength="500" style="width:100%;height:100%;" id="fmr_editNote'+t+'"></textarea>                                    </div>                                </div>                                \x3c!--<div id="fmr_forMca_'+t+'" class="fmr_forMca">                                    <h2>STIMATRIX forMCA</h2>                                    <div class="fmr_forMcaContent">                                        <p id="fmr_forMcaLabel_'+t+'" class="fmr_forMcaLabel"></p>                                        <button id="fmr_forMcaBottoneInizia_'+t+'" class="forMapsButton forMapsButtonSmall">Valuta questo immobile</button>                                        <div id="fmr_forMcaValutazione_'+t+'" class="fmr_forMcaValutazione">                                            <div id=fmr_forMcaComparabili_'+t+' class="fmr_forMcaComparabili"></div>                                            <form id="fmr_forMcaForm_'+t+'" action="/ws/Test" target="_blank" method="post">                                                <input type="hidden" id="fmr_forMcaDati_'+t+'" name="forMcaDati">                                                <button type="submit" id="fmr_forMcaBottoneCalcola_'+t+'" class="forMapsButton forMapsButtonLg">Calcola l\'MCA su forMCA.it</button>                                            </form>                                        </div>                                    </div>                                </div>--\x3e'+this.getDatiCatastaliSTIMATRIXCity("immobile")+"</div>",e+='<div id="datiCatastali_'+t+'" class="fmr_datiCatastali">                                <div class="fmr_datiCatastaliElenco">                                    <h2>Dati catastali</h2>                                    <div class="fmr_datiCatastaliLoading"></div>                                    <ul>                                        \x3c!--<li><label>Provincia</label><span class="fmr_provincia">-</span></li>--\x3e                                        <li><label>Provincia</label><span class="fmr_idProvincia">-</span></li>                                        <li><label>Comune</label><span class="fmr_comune">-</span></li>                                        <li><label>Codice catastale</label><span class="fmr_idComune">-</span></li>                                        <li><label>Sezione</label><span class="fmr_sezione">-</span></li>                                        <li><label>Foglio</label><span class="fmr_foglio">-</span></li>                                        <li><label>Allegato</label><span class="fmr_allegato">-</span></li>                                        <li><label>Particella</label><span class="fmr_particella">-</span></li>                                    </ul>                                    \x3c!--<button type="button" id="mostraParticella'+t+"\">Mostra l'ingombro della particella</button>--\x3e                                </div>"+this.getDatiCatastaliSTIMATRIXCity("datiCatastali")+"</div>",e+='<div id="valoriOmi_'+t+'" class="valoriOmi">                                <h2>Valori OMI 2018/2</h2>                                <ul>                                    <li><label>Comune</label><span class="fmr_zonaOMIComune">-</span></li>                                    <li><label>Zona OMI</label><span class="fmr_zonaOMI">-</span></li>                                </ul>                                <div class="valoriOmi_tabs">\t\t                            <ul>\t\t\t                            <li><a href="#valoriOmiValoriMercato'+t+'">Prezzo <small>(â¬/mq)</small></a></li>\t\t\t                            <li><a href="#valoriOmiValoriLocazione'+t+'">Reddito <small>(â¬/mq x mese)</small></a></li>                                        <li><a href="#valoriOmiSaggioAnnuo'+t+'">Saggio annuo <small>(i=R/P)</small></a></li>\t\t                            </ul>                                    <div id="valoriOmiValoriMercato'+t+'">                                        <table class=".valoriMercato">                                            <thead>                                                <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="valoriOmiValori">Min</th><th class="valoriOmiValori">Max</th></tr>                                            </thead>                                            <tbody></tbody>                                        </table>                                    </div>                                    <div id="valoriOmiValoriLocazione'+t+'">                                        <table class=".valoriLocazione">                                            <thead>                                                <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="valoriOmiValori">Min</th><th class="valoriOmiValori">Max</th></tr>                                            </thead>                                            <tbody></tbody>                                        </table>                                    </div>                                    <div id="valoriOmiSaggioAnnuo'+t+'">                                        <table class=".saggioAnnuo">                                            <thead>                                                <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="valoriOmiValori">Min</th><th class="valoriOmiValori">Max</th></tr>                                            </thead>                                            <tbody></tbody>                                        </table>                                    </div>                                </div>                            </div>',e+='<div id="datiComune_'+t+'" class="datiComune">                                <h2>Dati comune</h2>                                <ul>                                    <li><label>Denominazione</label><span class="fmr_denominazioneComune">-</span></li>                                    <li><label>Provincia</label><span class="fmr_provinciaComune">-</span></li>                                    <li><label>Codice catastale</label><span class="fmr_codiceCatastaleComune">-</span></li>                                    <li><label>Codice Istat</label><span class="fmr_codiceIstatComune">-</span></li>                                    <li><label>Popolazione</label><span class="fmr_popolazioneComune">-</span></li>                                    <li><label>Tribunale di competenza</label><span class="fmr_tribunaleCompetenza">-</span></li>                                </ul>                                <h2>Classificazione sismica al 2015</h2>                                <ul>                                    <li><label>Zona</label><span class="fmr_classificazioneSismica">-</span></li>                                </ul>                                <h2>Accordi Territoriali</h2>                                <table id="fmr_AccordiTerritoriali_risultati'+t+'" class="forMapsRicercaRisultati fmr_AccordiTerritoriali_risultati"><thead><tr><th>Data stipula</th><th>Comune ad alta intensitÃ  abitativa</th><th>Accordo Territoriale</th></tr></thead><tbody></tbody></table>                                <h2>Evoluzione demografica</h2>                                <span class="fmr_evoluzioneDemograficaComune"></span>                            </div>',e+='<div id="istat_'+t+'" class="fmr_istat">                                <h2>Dati Istat censimento 2011</h2>                                <ul id="datiIstat'+t+'"></ul>                            </div>',e+='<div id="posizione_'+t+'">                                <h2>Indirizzo</h2><ul>                                    <li><label>Ricercato</label><span class="fmr_indirizzoRicercato">-</span></li>                                    <li><label>Individuato</label><span class="fmr_indirizzoAttuale">-</span></li>                                </ul>                                <h2>Coordinate</h2>                                <ul>                                    <li><label>Latitudine</label><span class="fmr_latitudine">-</span></li>                                    <li><label>Longitudine</label><span class="fmr_longitudine">-</span></li>                                </ul>                                <h2>Indicazioni stradali</h2>                                <ul>                                    <li><label>Google Maps</label><a class="fmr_indicazioniLink" href="https://www.google.com/maps/dir" target="_blank" title="Indicazioni stradali su Google Maps"><span class="fas fa-directions"></span> Ottieni le indicazioni su Google Maps</a></li>                                </ul>                            </div>',e+='<div id="streetView_'+t+'">                                <div id="streetViewPano_'+t+'" style="height:100%;"></div>                                <div id="streetViewNonDisponibile_'+t+'" style="display:none;text-align:center;padding:5px;border:1px solid red;background-color:rgba(255,0,0,.1);color:red;"><p>Street view non disponibile per questa posizione.</p><p>Prova a spostare il riferimento piÃ¹ vicino ad una strada.</p></div>                            </div>',(e+='<div id="icona_'+t+'" class="fmr_iconaRiferimento">                                <h2>Icona riferimento</h2>                                <ul>                                    <li><label>Etichetta</label><input type="text" value="" id="fmr_editEtichetta'+t+'" class="fmr_editEtichetta"></li>                                    <li><label>Trascinabile</label><input type="checkbox" id="fmr_etichettaTrascinabile'+t+'" class="fmr_etichettaTrascinabile"></li>                                    <li>                                        <label>Stile icona</label><ul id="forMapsIconList'+t+'" class="forMapsIconList">'+this.getIconList()+'</ul></li>                                </ul>                                \x3c!--<button id="marker_save_button'+t+'" data-markerindex="">Salva</button>--\x3e                            </div>')+'<div id="condividi_'+t+'">                                <h2>Condividi la posizione</h2>                                <ul>                                    <li><label>Email</label><a id="fmr_shareByEmail'+t+'" href="#" title="Condividi la posizione del riferimento via Email" target="_blank"> <i class="far fa-envelope"></i> Condividi via email</a></li>                                    <li><label>WhatsApp</label><a id="fmr_shareByWhatsApp'+t+'" href="#" title="Condividi la posizione del riferimento con WhatsApp" target="_blank"> <i class="fab fa-whatsapp"></i> Condividi con WhatsApp</a></li>                                    <li><label>Link</label><a id="fmr_shareByLink'+t+'" href="#" title="Condividi la posizione del riferimento tramite url" target="_blank"> <i class="fas fa-link"></i> Condividi tramite url</a></li>                                    <li><label>QR code</label><div id="fmr_shareByQR'+t+'" style="width:150px;"></div></li>                                </ul>                            </div>'},n.prototype.setDatiInfoWindow=function(e){var i=this.id;this.infoWindow.marker=e;var n=this.getIcona(e.data.icona),a=this.getIconaImage(n);this.infoWindow.setTitle(this.getInfoWindowTitle(a,e.data.denominazione));var o=this.infoWindow.selectedTab?this.infoWindow.selectedTab.split("_")[0]:"#immobile",s=e.getLatLng().lat,r=e.getLatLng().lng;if($("#fmr_infowindow"+i+" .fmr_latitudineLongitudine").html(s+", "+r),$("#fmr_infowindow"+i+" .fmr_latitudineLongitudineLink").prop("href","https://www.formaps.it/?mappa.coordinate="+s+","+r),$("#fmr_infowindow"+i+" .fmr_indicazioniLink").prop("href","https://www.google.com/maps/dir/?api=1&destination="+s+","+r),$("#forMapsIconList"+i).html(this.getIconList(e.data.icona)),$("#fmr_editDenominazione"+i).val(e.data.denominazione),$("#fmr_editProvenienza"+i).val(e.data.provenienza),this.infoWindow.editPrezzoMask.typedValue=e.data.prezzo?e.data.prezzo:null,$("#fmr_editUrl"+i).val(e.data.url),this.setEditUrlLink(e.data.url),this.infoWindow.editDataMask.typedValue=e.data.data?e.data.data:null,this.infoWindow.editSuperficieMask.typedValue=e.data.superficie?e.data.superficie:null,$("#fmr_editNumeroLocali"+i).val(e.data.numeroLocali),$("#fmr_editNote"+i).val(e.data.note),$("#fmr_editEtichetta"+i).val(e.data.etichetta),$("#fmr_etichettaTrascinabile"+i).prop("checked",e.dragging.enabled()),$("#marker_remove_button"+i).data("markerindex",e.markerIndex),this.infoWindow.streetViewArrow&&this.infoWindow.streetViewArrow.remove(),!t[o])switch(o){case"#immobile":this.setDatiCatastaliInfoWindow(e),this.setForMcaInfoWindow(e);break;case"#datiCatastali":this.setDatiCatastaliInfoWindow(e);break;case"#valoriOmi":this.setValoriOmiInfoWindow(s,r);break;case"#datiComune":this.setDatiComuneInfoWindow(s,r);break;case"#istat":this.setDatiIstatInfoWindow(s,r);break;case"#posizione":this.getMarkerCurrentAddress(e),$("#fmr_infowindow"+i+" .fmr_indirizzoRicercato").html(e.data.indirizzoRicercato),$("#fmr_infowindow"+i+" .fmr_latitudine").html(s),$("#fmr_infowindow"+i+" .fmr_longitudine").html(r);break;case"#streetView":this.setStreetViewInfoWindow(e);break;case"#icona":this.setArInfoWindowTabsLoadedTrue("#icona");break;case"#condividi":$("#fmr_shareByEmail"+i).prop("href","mailto:?body=https://www.formaps.it?mappa.coordinate="+s+","+r+"&subject=Mappa creata con STIMATRIX forMaps"),$("#fmr_shareByWhatsApp"+i).prop("href","https://"+(this.mobileCheck()?"api":"web")+".whatsapp.com/send?text="+encodeURIComponent("https://www.formaps.it/?mappa.coordinate="+s+","+r)),$("#fmr_shareByLink"+i).prop("href","https://www.formaps.it/?mappa.coordinate="+s+","+r),$("#fmr_shareByQR"+i).html("").qrcode({text:"https://www.formaps.it/?mappa.coordinate="+s+","+r,width:128,height:128})}},n.prototype.setArInfoWindowTabsLoadedTrue=function(e){t[e]=!0},n.prototype.setDatiComuneInfoWindow=function(t,e){var i=this,n=i.id,a="https://www.formaps.it/WS/Comuni/GetDatiComune?latitudine="+t+"&longitudine="+e;$("#fmr_infowindow"+n+" .fmr_denominazioneComune").html("-"),$("#fmr_infowindow"+n+" .fmr_provinciaComune").html("-"),$("#fmr_infowindow"+n+" .fmr_codiceIstatComune").html("-"),$("#fmr_infowindow"+n+" .fmr_codiceCatastaleComune").html("-"),$("#fmr_infowindow"+n+" .fmr_popolazioneComune").html("-"),$("#fmr_infowindow"+n+" .fmr_classificazioneSismica").html("-"),$("#fmr_infowindow"+n+" .fmr_tribunaleCompetenza").html("-"),$("#fmr_infowindow"+n+" .fmr_evoluzioneDemograficaComune").html("Non disponibile"),$("tbody","#fmr_AccordiTerritoriali_risultati"+n).html('<td colspan="3" style="text-align:center">Non disponibili</td>'),$.ajax({url:a,dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){if($("#fmr_infowindow"+n+" .fmr_denominazioneComune").html(null!=t.Denominazione?t.Denominazione:"-"),$("#fmr_infowindow"+n+" .fmr_provinciaComune").html(null!=t.Provincia?t.Provincia:"-"),$("#fmr_infowindow"+n+" .fmr_codiceIstatComune").html(null!=t.CodiceIstat?t.CodiceIstat:"-"),$("#fmr_infowindow"+n+" .fmr_codiceCatastaleComune").html(null!=t.CodiceCatastale?t.CodiceCatastale:"-"),$("#fmr_infowindow"+n+" .fmr_popolazioneComune").html(null!=t.Popolazione?t.Popolazione:"-"),$("#fmr_infowindow"+n+" .fmr_classificazioneSismica").html(null!=t.ClassificazioneSismica?t.ClassificazioneSismica:"-"),$("#fmr_infowindow"+n+" .fmr_tribunaleCompetenza").html(null!=t.TribunaleCompetenza?t.TribunaleCompetenza:"-"),$("#fmr_infowindow"+n+" .fmr_evoluzioneDemograficaComune").html(null!=t.EvoluzioneDemograficaImgUrl?'<a href="'+t.EvoluzioneDemograficaUrl+'" title="Visualizza la sezione dedicata su Wikipedia" target="_blank"><img class="datiComune_EvoluzioneDemografica" src="'+t.EvoluzioneDemograficaImgUrl+'" alt="Evoluzione demografica" /></a>':"Non disponibile"),t.AccordiTerritoriali&&t.AccordiTerritoriali.length>0){var e=[];$.each(t.AccordiTerritoriali,(function(t,i){e.push("<tr>                                                <td>"+i.DataStipula+"</td>                                                <td>"+(i.Cipe?'<span class="fas fa-check"></span>':"")+'</td>                                                <td><a href="https://www.formaps.it/ws/AccordiTerritoriali/DownloadAccordoTerritoriale/'+i.Id+'" title="Scarica l\'accordo territoriale" target="_blank">'+i.Titolo+"</a></td>                                            </tr>")})),$("tbody","#fmr_AccordiTerritoriali_risultati"+n).html(e.join(""))}i.setArInfoWindowTabsLoadedTrue("#datiComune")})).fail((function(t,e,i){console.log(i)}))},n.prototype.getDatiCatastali=function(t,e,i,n){var a=this;null==i&&(i=!1);var o="https://wms.cartografia.agenziaentrate.gov.it/inspire/ajax/ajax.php?op=getDatiOggetto&lon="+e+"&lat="+t+"&callback=?";i&&(o="https://wcf.stimatrixcity.it/daticatastali.svc/daticatastaliget/?latitudine="+t+"&longitudine="+e);var s={};$.ajax({url:o,dataType:"jsonp",contentType:"application/json",context:this,success:function(o){var r,l,c,u,h,d,p,f=o.TIPOLOGIA;s.tipologia=f,i||"PARTICELLA"==f?(i?(r=o.IdProvincia,l=o.Comune,c=o.IdComune,u=o.Sezione,h=o.Foglio,d=o.Allegato,p=o.Particella):(r=o.SIGLA_PROV,l=o.DENOM.split(" (")[0],c=o.COD_COMUNE,u=o.SEZIONE,h=o.FOGLIO,d=o.ALLEGATO&&"null"!=o.ALLEGATO?o.ALLEGATO:"",p=o.NUM_PART)," "==u&&(u=""),s.result="ok",s.idProvincia=r,s.comune=l,s.idComune=c,s.sezione=u,s.foglio=h,s.allegato=d,s.particella=p,$.ajax({url:"https://www.formaps.it/WS/DatiCatastali/SetParticella?IdComune="+c+"&Comune="+l+"&Sezione="+u+"&Foglio="+h+"&Particella="+p+"&Centroide="+t+","+e+"&GeoJson=",dataType:"jsonp",contentType:"application/json"}).done((function(t){})),n(s)):null==f?a.getDatiCatastali(t,e,!0,n):(s.result="Non &egrave; stato possibile recuperare i dati dal database dell'Agenzia delle Entrate. Il riferimento &egrave; stato posizionato su: "+("undefined"==f?"NON ACCATASTATO":f),n(s))},error:function(o,r,l){i?(s.result="Non &egrave; stato possibile recuperare i dati dal database dell'Agenzia delle Entrate. Riposiziona il riferimento o riprova pi&ugrave; tardi.",n(s)):a.getDatiCatastali(t,e,!0,n)}})},n.prototype.setDatiCatastaliInfoWindow=function(t,e){var i=this,n=i.id,a=i.map,o=t.getLatLng().lat,s=t.getLatLng().lng;$("#fmr_infowindow"+n+" .fmr_idProvincia").html("-"),$("#fmr_infowindow"+n+" .fmr_comune").html("-"),$("#fmr_infowindow"+n+" .fmr_idComune").html("-"),$("#fmr_infowindow"+n+" .fmr_sezione").html("-"),$("#fmr_infowindow"+n+" .fmr_foglio").html("-"),$("#fmr_infowindow"+n+" .fmr_allegato").html("-"),$("#fmr_infowindow"+n+" .fmr_particella").html("-"),$("#fmr_infowindow"+n+" .fmr_datiCatastaliLoading").html('<span class="fas fa-spinner fa-pulse"></span> Caricamento dati dal database dell\'Agenzia delle Entrate.'),i.getDatiCatastali(o,s,!1,(function(e){"ok"==e.result?($("#fmr_infowindow"+n+" .fmr_idProvincia").html(e.idProvincia),$("#fmr_infowindow"+n+" .fmr_comune").html(e.comune),$("#fmr_infowindow"+n+" .fmr_idComune").html(e.idComune),$("#fmr_infowindow"+n+" .fmr_sezione").html(e.sezione),$("#fmr_infowindow"+n+" .fmr_foglio").html(e.foglio),$("#fmr_infowindow"+n+" .fmr_allegato").html(e.allegato),$("#fmr_infowindow"+n+" .fmr_particella").html(e.particella),$("#fmr_infowindow"+n+" .fmr_datiCatastaliLoading").html(""),i.setArInfoWindowTabsLoadedTrue("#datiCatastali")):$("#fmr_infowindow"+n+" .fmr_datiCatastaliLoading").html(e.result),t.data.datiCatastali=e,i.setDatiCatastaliSTIMATRIXCityUrl(t,a.getZoom())}))},n.prototype.setDatiCatastaliSTIMATRIXCityUrl=function(t,e){var i=this.id,n=t.getLatLng().lat,a=t.getLatLng().lng,o=t.data.datiCatastali,s=o.result,r=$("input[type=radio][name=fmr_datiCatastaliSTIMATRIXCityRadio"+i+"]:checked").val().split("-")[0],l=$("input[type=radio][name=fmr_datiCatastaliSTIMATRIXCityRadio"+i+"]:checked").val().split("-")[1];l=l||"";var c=o.idComune,u=o.sezione,h=o.foglio,d=o.particella;"ok"==s?($(".fmr_datiCatastaliSTIMATRIXCityErrore").html(""),$(".fmr_estrattoMappa_button"+i).button("option","disabled",!1),$(".fmr_estrattoMappa_button"+i).prop("href","https://ipv.stimatrixcity.it/Link/"+r+"?idTipoCatasto="+l+"&comuneCodiceCatastale="+c+"&sezioneCensuaria="+u+"&foglio="+h+"&particella="+d+"&sorgente=FORMAPS&latitudine="+n+"&longitudine="+a+"&zoom="+e),$(".fmr_estrattoMappa_button"+i).prop("title","Richiedi un estratto di mappa")):($(".fmr_datiCatastaliSTIMATRIXCityErrore").html("<p>Dati catastali necessari all'operazione non disponibili:<br>"+s),$(".fmr_estrattoMappa_button"+i).button("option","disabled",!0),$(".fmr_estrattoMappa_button"+i).prop("href","#"),$(".fmr_estrattoMappa_button"+i).prop("title","Dati insufficienti per ottenere un estratto di mappa. Sposta il riferimento o riprova in un altro momento."))},n.prototype.setValoriOmiInfoWindow=function(t,e){var i=this,n=i.id,a="https://www.formaps.it/WS/ValoriOmi/GetValoriOmi?latitudine="+t+"&longitudine="+e;$("#fmr_infowindow"+n+" .fmr_zonaOMIComune").html('<span class="fas fa-spinner fa-pulse"></span>'),$("#fmr_infowindow"+n+" .fmr_zonaOMI").html('<span class="fas fa-spinner fa-pulse"></span>');var o=$("#valoriOmiValoriMercato"+n+" table tbody"),s=$("#valoriOmiValoriLocazione"+n+" table tbody"),r=$("#valoriOmiSaggioAnnuo"+n+" table tbody");o.html(""),s.html(""),r.html(""),$.ajax({url:a,dataType:"jsonp",contentType:"application/json",success:function(t){t.length>0?($("#fmr_infowindow"+n+" .fmr_zonaOMIComune").html(t[0].ZonaOMIComune),$("#fmr_infowindow"+n+" .fmr_zonaOMI").html(t[0].ZonaOMI),$.each(t,(function(t,e){var i=e.ValoreOmiMin,n=e.ValoreOmiMax,a=e.ValoreLocazioneMin,l=e.ValoreLocazioneMax;o.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="valoriOmiValori">'+(i>0?i.formatta(0,",","."):"-")+'</td><td class="valoriOmiValori">'+(n>0?n.formatta(0,",","."):"-")+"</td></tr>"),s.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="valoriOmiValori">'+(a>0?a.formatta(1,",","."):"-")+'</td><td class="valoriOmiValori">'+(l>0?l.formatta(1,",","."):"-")+"</td></tr>");var c="-";i>0&&a>0&&(c=(12*a/i*100).formatta(2,",",".")+"%");var u="-";n>0&&l>0&&(u=(12*l/n*100).formatta(2,",",".")+"%"),r.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="valoriOmiValori">'+c+'</td><td class="valoriOmiValori">'+u+"</td></tr>")}))):(o.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>'),s.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>'),s.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>')),i.setArInfoWindowTabsLoadedTrue("#valoriOmi")}})},n.prototype.setDatiIstatInfoWindow=function(t,e){var i=this,n=i.id,a="https://www.formaps.it/WS/Istat/GetDatiIstat?latitudine="+t+"&longitudine="+e;$("#datiIstat"+n).html(""),$.ajax({url:a,dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){$.each(t,(function(t,e){$("#datiIstat"+n).append("<li><label>"+e.Etichetta+"</label><span>"+e.Valore+"</span></li>")})),i.setArInfoWindowTabsLoadedTrue("#istat")})).fail((function(t,e,i){console.log(i)}))},n.prototype.setStreetViewInfoWindow=function(){var t=this,e=t.id,i=t.map,n=L.icon({iconUrl:"https://www.formaps.it/Images/markers/arrow.png",iconSize:[25,25],iconAnchor:[12,12],className:"streetViewArrow"}),a=t.infoWindow.marker.data.heading?t.infoWindow.marker.data.heading:0,o=t.infoWindow.marker.data.pitch?t.infoWindow.marker.data.pitch:0,s=new google.maps.StreetViewService,r=new google.maps.LatLng(t.infoWindow.marker.getLatLng().lat,t.infoWindow.marker.getLatLng().lng);if(s.getPanoramaByLocation(r,50,(function(t,i){i===google.maps.StreetViewStatus.OK?($("#streetViewPano_"+e).show(),$("#streetViewNonDisponibile_"+e).hide()):($("#streetViewPano_"+e).hide(),$("#streetViewNonDisponibile_"+e).show())})),t.infoWindow.streetView)t.infoWindow.streetViewSyncActive=!1,t.infoWindow.streetView.setPosition(new google.maps.LatLng(t.infoWindow.marker.getLatLng().lat,t.infoWindow.marker.getLatLng().lng)),t.infoWindow.streetView.setPov({heading:a,pitch:o}),t.infoWindow.streetViewArrow.setLatLng(t.infoWindow.marker.getLatLng()).addTo(i),t.infoWindow.streetViewSyncCheck.prop("checked")&&(t.infoWindow.streetViewSyncActive=!0);else{t.infoWindow.streetView=new google.maps.StreetViewPanorama(document.getElementById("streetViewPano_"+e),{position:{lat:t.infoWindow.marker.getLatLng().lat,lng:t.infoWindow.marker.getLatLng().lng},pov:{heading:a,pitch:o},controlSize:30,clickToGo:!0,scrollwheel:!0,motionTrackingControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},fullscreenControl:!0}),t.infoWindow.streetView.addListener("position_changed",(function(){t.infoWindow.streetViewSyncActive&&(t.infoWindow.marker.setLatLng(L.latLng(t.infoWindow.streetView.getPosition().lat(),t.infoWindow.streetView.getPosition().lng())),t.infoWindow.streetViewArrow.setLatLng(t.infoWindow.marker.getLatLng()))}));var l=document.createElement("div");l.classList="streetViewSync",l.innerHTML='<input type="checkbox" id="streetViewSyncCheck_'+t.id+'">Sincronizza la posizione del riferimento',t.infoWindow.streetView.controls[google.maps.ControlPosition.LEFT_TOP].push(l),t.infoWindow.streetViewSyncCheck=$("input",l),t.infoWindow.streetViewSyncActive=t.infoWindow.streetViewSyncCheck.prop("checked"),t.infoWindow.streetViewSyncCheck.on("change",(function(){$(this).prop("checked")&&(t.infoWindow.marker.setLatLng(L.latLng(t.infoWindow.streetView.getPosition().lat(),t.infoWindow.streetView.getPosition().lng())),t.infoWindow.streetViewArrow.setLatLng(t.infoWindow.marker.getLatLng())),t.infoWindow.streetViewSyncActive=$(this).prop("checked")})),t.infoWindow.streetViewArrow=L.marker(t.infoWindow.marker.getLatLng(),{icon:n,interactive:!1,draggable:!1,riseOnHover:!1,rotationOrigin:"center center"}).addTo(i)}t.infoWindow.marker.on("drag",(function(e){t.infoWindow.streetViewArrow.setLatLng(t.infoWindow.marker.getLatLng())})),t.infoWindow.streetView.addListener("pov_changed",(function(){t.infoWindow.streetViewArrow.setRotationAngle(t.infoWindow.streetView.getPov().heading),t.infoWindow.marker.data.heading=t.infoWindow.streetView.getPov().heading,t.infoWindow.marker.data.pitch=t.infoWindow.streetView.getPov().pitch}))},n.prototype.setForMcaInfoWindow=function(t){var e=this,i=e.id;if($("#fmr_forMcaBottoneInizia_"+i).hide(),$("#fmr_forMcaValutazione_"+i).hide(),t.data.prezzo)$("#fmr_forMcaLabel_"+i).html('Questo immobile dispone di un <a href="#" class="evidenziaElemento" data-id-elemento="fmr_editPrezzo'+i+'" title="Visualizza il prezzo nella casella apposita">Prezzo (â¬)</a> e <strong>puÃ² essere utilizzato come comparabile</strong> di un altro immobile.');else if(t.data.forMca){$("#fmr_forMcaLabel_"+i).html("Seleziona i comparabili tra gli altri riferimenti valorizzati presenti in mappa:"),$("#fmr_forMcaValutazione_"+i).css("display","flex"),$("#fmr_forMcaComparabili_"+i).html("");var n=e.state.Markers.filter((function(t){return t&&t.data.prezzo}));n.length>0?($("#fmr_forMcaComparabili_"+i).append('<ul class="fmr_forMcaComparabiliList"></ul>'),$.each(n,(function(n,a){if(a!=t&&a.data.prezzo){var o=e.getIcona(a.data.icona),s=e.getIconaImage(o),r=!1;e.infoWindow.marker.data.forMca&&e.infoWindow.marker.data.forMca.comparabili&&(r=e.infoWindow.marker.data.forMca.comparabili.some((function(t){return t==a.id}))),$("#fmr_forMcaComparabili_"+i+" ul").append('<li>                                                                                    <label data-id="'+a.id+'">                                                                                        <div class="fmr_forMcaComparabiliHeader">'+(a.data.data?"<span>"+a.data.data.toLocaleDateString()+"</span>":"")+'<span class="fmr_forMcaComparabiliPrezzo">â¬ '+a.data.prezzo.formatta(2,",",".")+'</span>                                                                                        </div>                                                                                        <div class="fmr_forMcaComparabiliIcona">'+s+'</div>                                                                                        <div class="fmr_forMcaComparabiliDescrizione">                                                                                            <div>'+a.data.denominazione+"</div>                                                                                            <span>"+(a.data.superficie?a.data.superficie.formatta(2,",",".")+" m&sup2;":"")+(a.data.numeroLocali?" | "+a.data.numeroLocali+" locali":"")+("annuncioVendita"==a.data.provenienza&&a.data.superficie?" | â¬ "+(a.data.prezzo/a.data.superficie).formatta(2,",",".")+" / m&sup2; ":"")+(a.data.url?' | <a href="'+a.data.url+'" title="Vai alla pagina dedicata" target="_blank"><span class="fas fa-external-link-alt"></span></a>':"")+'</span>                                                                                        </div>                                                                                        <div class="fmr_forMcaCheckboxContainer">                                                                                            <input type="checkbox" id="fmr_forMcaCheckbox'+a.id+'" class="fmr_forMcaCheckbox" value="'+a.id+'"'+(r?' checked="checked"':"")+">                                                                                        </div>                                                                                    </label>                                                                                </li>"),$("#fmr_forMcaCheckbox"+a.id).on("change",(function(){var t=$(this).val();this.checked?e.infoWindow.marker.data.forMca.comparabili.push(t):e.infoWindow.marker.data.forMca.comparabili=e.infoWindow.marker.data.forMca.comparabili.filter((function(e){return e!==t}))})),$("#fmr_forMcaComparabili_"+i+" ul>li>label").on("mouseover",(function(){var t=$(this).data("id");$.each(e.state.Markers,(function(e,i){i&&(i.id==t?$(i._icon).addClass("blinking"):$(i._icon).removeClass("blinking"))}))})),$("#fmr_forMcaComparabili_"+i+" ul>li>label").on("mouseout",(function(){$.each(e.state.Markers,(function(t,e){e&&$(e._icon).removeClass("blinking")}))}))}}))):($("#fmr_forMcaLabel_"+i).html("Comparabili non disponibili."),$("#fmr_forMcaComparabili_"+i).append('<p>Utilizza la <a href="#" title="Ricerca annunci" id="apToolTip'+i+'">funzione di ricerca Asking Price (AP)</a> e converti gli annunci individuati in <strong>riferimenti</strong> per poterli utilizzare come <strong>comparabili</strong>.</p>                                                                    <p>In alternativa, aggiungi <strong>riferimenti</strong> sulla mappa tramite <a href="#" title="Aggiungi riferimenti" id="riferimentiToolTip'+i+"\">l'apposito strumento</a> e assegna loro un <strong>Prezzo (â¬)</strong>.</p>"),$("#riferimentiToolTip"+i).on("click",(function(t){t.preventDefault();var e=new Tour({orphan:!1,template:'<div class="popover tour">\t\t\t\t\t\t\t\t        <div class="arrow"></div>\t\t\t\t\t\t\t\t        <h3 class="popover-title"></h3>\t\t\t\t\t\t\t\t        <div class="popover-content"></div>\t\t\t\t\t\t\t\t        <div class="popover-navigation">\t\t\t\t\t\t\t\t\t        <button class="btn btn-default" data-role="end">Chiudi</button>\t\t\t\t\t\t\t\t        </div>\t\t\t\t\t\t\t\t    </div>',steps:[{element:".forMapsMarkerContainer>a:first-child",title:"Riferimenti su mappa",content:"Aggiungi sulla mappa un riferimento. Una volta specificato il Prezzo (â¬) nella sezione Immobile, potrÃ  essere utilizzato come comparabile in forMCA."}]});e.init(),e.restart()})),$("#apToolTip"+i).on("click",(function(t){t.preventDefault();var e=new Tour({orphan:!1,template:'<div class="popover tour">\t\t\t\t\t\t\t\t        <div class="arrow"></div>\t\t\t\t\t\t\t\t        <h3 class="popover-title"></h3>\t\t\t\t\t\t\t\t        <div class="popover-content"></div>\t\t\t\t\t\t\t\t        <div class="popover-navigation">\t\t\t\t\t\t\t\t\t        <button class="btn btn-default" data-role="end">Chiudi</button>\t\t\t\t\t\t\t\t        </div>\t\t\t\t\t\t\t\t    </div>',steps:[{element:".apTab",title:"Ricerca annunci immobiliari",content:"Cerca e visualizza su mappa gli annunci immobiliari e convertili in riferimenti utilizzabili come comparabili in forMCA"}]});e.init(),e.restart()})))}else $("#fmr_forMcaLabel_"+i).html('<strong>Valuta questo immobile</strong>, oppure assegnagli un <em>Prezzo (â¬)</em> <a href="#" class="evidenziaElemento" data-id-elemento="fmr_editPrezzo'+i+'" title="Inserisci il prezzo nella casella evidenziata">nella casella apposita</a> per utilizzarlo come comparabile di un altro immobile.'),$("#fmr_forMcaBottoneInizia_"+i).show();e.evidenziaElemento()},n.prototype.getMarkerCurrentAddress=function(t){var e=this,i=e.id,n=t.getLatLng().lat,a=t.getLatLng().lng;$.getJSON("https://nominatim.openstreetmap.org/reverse?format=json&lat="+n+"&lon="+a+"&zoom=18&addressdetails=0",(function(t){var e="Nessun risultato";t.display_name&&(e=t.display_name),$("#fmr_infowindow"+i+" .fmr_indirizzoAttuale").html(e)})).always((function(){e.setArInfoWindowTabsLoadedTrue(4)}))},n.prototype.getIconaImage=function(t){return"immagine"==t.Tipologia?'<img src="'+this.percorsoIcone+t.Icona+'" alt="'+t.Denominazione+'" class="iconaTitolo">':'<span class="iconaTitolo markerLabel markerLabel-'+t.Icona+'" alt="'+t.Denominazione+'">ICO</span>'},n.prototype.getLinkAnnuncio=function(t,e){var i="";if(t)switch(e){case"immobiliare.it":i="https://www.immobiliare.it/"+t+"-immobile.html"}return i},n.prototype.setEditUrlLink=function(t){$("#fmr_EditUrlLink"+this.id).prop("href",t||"#")},n.prototype.getParentDomain=function(){var t="";return window.location!=window.parent.location&&(t=new URL(document.referrer).host),t},n.prototype.coordinatesFromString=function(t){var e=t.split(/\s*,\s*/),i=41.8856460823679,n=12.4608743837683;return 2==e.length&&(i=parseFloat(e[0]),n=parseFloat(e[1])),new L.latLng(i,n)},n.prototype.boundsFromString=function(t){var e=t.split(/\s*,\s*/),i=this.coordinatesFromString(e[0]+","+e[1]),n=this.coordinatesFromString(e[2]+","+e[3]);return L.latLngBounds(i,n)},n.prototype.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n.prototype.guid=function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()},n.prototype.getCrs=function(t){var e;switch(t){case"3857":e=L.CRS.EPSG3857;break;case"4326":e=L.CRS.EPSG4326;break;case"4258":e=new L.Proj.CRS("EPSG:4258","+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs",{resolutions:[8192,4096,2048,1024,512,256,128]});break;case"25832":e=new L.Proj.CRS("EPSG:25832","+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:[8192,4096,2048,1024,512,256,128]});break;case"32632":e=new L.Proj.CRS("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs",{resolutions:[8192,4096,2048,1024,512,256,128]});break;default:e=L.CRS.EPSG4326}return e},n.prototype.getRandomInt=function(){return Math.floor(Math.random()*(1e6-1))+1},n.prototype.pad=function(t,e){return("000000000"+t).substr(-e)},n.prototype.mobileCheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},n.prototype.getEncodedMapStyles=function(t){for(var e="",i={all:"0",administrative:"1","administrative.country":"17","administrative.land_parcel":"21","administrative.locality":"19","administrative.neighborhood":"20","administrative.province":"18",landscape:"5","landscape.man_made":"81","landscape.natural":"82",poi:"2","poi.attraction":"37","poi.business":"33","poi.government":"34","poi.medical":"36","poi.park":"40","poi.place_of_worship":"38","poi.school":"35","poi.sports_complex":"39",road:"3","road.arterial":"50","road.highway":"49","road.local":"51",transit:"4","transit.line":"65","transit.station":"66",water:"6"},n={all:"a",geometry:"g","geometry.fill":"g.f","geometry.stroke":"g.s",labels:"l","labels.icon":"l.i","labels.text":"l.t","labels.text.fill":"l.t.f","labels.text.stroke":"l.t.s"},a={color:"p.c",gamma:"p.g",hue:"p.h",invert_lightness:"p.il",lightness:"p.l",saturation:"p.s",visibility:"p.v",weight:"p.w"},o=0;o<t.length;o++){if(t[o].featureType&&(e+="s.t:"+i[t[o].featureType]+"|"),t[o].elementType&&(n[t[o].elementType]||console.log("style element transcription unkown:"+t[o].elementType),e+="s.e:"+n[t[o].elementType]+"|"),t[o].stylers)for(var s=0;s<t[o].stylers.length;s++){var r=t[o].stylers[s];for(var l in r)"color"==l&&(7==r[l].length?r[l]="#ff"+r[l].slice(1):9!=r[l].length&&console.log("malformed color:"+r[l])),e+=a[l]+":"+r[l]+"|"}e=e.slice(0,e.length-1),e+=","}return encodeURIComponent(e.slice(0,e.length-1))},n.prototype.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},n.prototype.evidenziaElemento=function(){$(".evidenziaElemento").on("click",(function(t){"#"==$(this).prop("href")&&t.preventDefault()})),$(".evidenziaElemento").hover((function(t){var e=$(this).data("idElemento");$("#"+e).addClass("elementoEvidenziato")}),(function(t){var e=$(this).data("idElemento");$("#"+e).removeClass("elementoEvidenziato")}))};var a=a||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,o=t.webkitRequestFileSystem,s=t.requestFileSystem||o||t.mozRequestFileSystem,r=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=0,c=function(e){var n=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?n():setTimeout(n,10)},u=function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var a=t["on"+e[n]];if("function"==typeof a)try{a.call(t,i||t)}catch(o){r(o)}}},h=function(r,h){var d,p,f,m,g=this,v=r.type,_=!1,y=function(){u(g,"writestart progress write writeend".split(" "))},b=function(){!_&&d||(d=i().createObjectURL(r)),p?p.location.href=d:null==t.open(d,"_blank")&&"undefined"!=typeof safari&&(t.location.href=d),g.readyState=g.DONE,y(),c(d)},w=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};if(g.readyState=g.INIT,h||(h="download"),a)return d=i().createObjectURL(r),n.href=d,n.download=h,f=n,(m=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent(m),g.readyState=g.DONE,y(),void c(d);t.chrome&&v&&"application/octet-stream"!==v&&(r=(r.slice||r.webkitSlice).call(r,0,r.size,"application/octet-stream"),_=!0),o&&"download"!==h&&(h+=".download"),("application/octet-stream"===v||o)&&(p=t),s?s(t.TEMPORARY,l+=r.size,w((function(t){t.root.getDirectory("saved",k,w((function(t){var e=function(){t.getFile(h,k,w((function(t){t.createWriter(w((function(e){e.onwriteend=function(e){p.location.href=t.toURL(),g.readyState=g.DONE,u(g,"writeend",e),c(t)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach((function(t){e["on"+t]=g["on"+t]})),e.write(r),g.abort=function(){e.abort(),g.readyState=g.DONE},g.readyState=g.WRITING})),b)})),b)};t.getFile(h,{create:!1},w((function(t){t.remove(),e()})),w((function(t){t.code===t.NOT_FOUND_ERR?e():b()})))})),b)})),b):b()},d=h.prototype;return d.abort=function(){this.readyState=this.DONE,u(this,"abort")},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,e){return new h(t,e)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);return"undefined"!=typeof module&&null!==module?module.exports=a:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],(function(){return a})),n}();"object"==typeof module&&(module.exports=ForMaps);var circleToGeoJSON=L.Circle.prototype.toGeoJSON;L.Circle.include({toGeoJSON:function(){var t=circleToGeoJSON.call(this);return t.properties={point_type:"circle",radius:this.getRadius(),color:this.options.color,fillColor:this.options.fillColor},t}});var polylineToGeoJSON=L.Polyline.prototype.toGeoJSON;L.Polyline.include({toGeoJSON:function(){var t=polylineToGeoJSON.call(this);return t.properties={color:this.options.color,fillColor:this.options.fillColor},t}});var polygonToGeoJSON=L.Polygon.prototype.toGeoJSON;L.Polygon.include({toGeoJSON:function(){var t=polygonToGeoJSON.call(this);return t.properties={color:this.options.color,fillColor:this.options.fillColor},t}}),Boolean.prototype.toYesNo=function(){return this.valueOf()?"SÃ¬":"No"},Number.prototype.formatta=function(t,e,i){var n=this,a=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?".":e,i=null==i?",":i,n<0?"-":""),o=parseInt(n=Math.abs(+n||0).toFixed(t))+"",s=(s=o.length)>3?s%3:0;return a+(s?o.substr(0,s)+i:"")+o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?e+Math.abs(n-o).toFixed(t).slice(2):"")},Date.prototype.formatoFile=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),i=this.getDate().toString(),n=this.getHours().toString(),a=this.getMinutes().toString(),o=this.getSeconds().toString();return t+"-"+(e[1]?e:"0"+e[0])+"-"+(i[1]?i:"0"+i[0])+"_"+n+"-"+a+"-"+o},$.fn.sidebar=function(t){var e=this,i=e.find("ul.sidebar-tabs, .sidebar-tabs > ul"),n=e.children(".sidebar-content").first();function a(){var t=0;$.each(i,(function(e,i){t+=$(this).height()})),e.height()<t?i.css("position","static"):i.css("position","absolute")}return i.children("li").children('a[href^="#"]').unbind(),i.children("li").children('a[href^="#"]').on("click",(function(t){t.preventDefault();var i=$(this).closest("li");i.hasClass("active")?e.close():i.hasClass("disabled")||this.hash.length>1&&e.open(this.hash.slice(1),i)})),e.find(".sidebar-close").on("click",(function(){e.close()})),e.open=function(t,a){void 0===a&&(a=i.find('li > a[href="#'+t+'"]').parent()),n.children(".sidebar-pane.active").removeClass("active"),n.children("#"+t).addClass("active"),i.children("li.active").removeClass("active"),a.addClass("active"),e.trigger("content",{id:t}),e.hasClass("collapsed")?(e.trigger("opening",a),e.removeClass("collapsed")):e.trigger("tabChanged",a)},e.close=function(){i.children("li.active").removeClass("active"),e.hasClass("collapsed")||(e.trigger("closing"),e.addClass("collapsed"))},this.forMapsResize(a),a(),e},function(t){var e,i,n=document.attachEvent,a=!1,o=t.fn.forMapsResize;if(t.fn.forMapsResize=function(t){return this.each((function(){this==window?o.call(jQuery(this),t):addResizeListener(this,t)}))},t.fn.forMapsRemoveResize=function(t){return this.each((function(){removeResizeListener(this,t)}))},!n){var s=(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return i(t)}),r=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return e(t)});function l(t){var e=t.__resizeTriggers__,i=e.firstElementChild,n=e.lastElementChild,a=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=i.offsetWidth+1+"px",a.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight}function c(t){var e=this;l(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(i){i.call(e,t)})))}))}var u=!1,h="",d="animationstart",p="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(u=!0),!1===u)for(var g=0;g<p.length;g++)if(void 0!==m.style[p[g]+"AnimationName"]){h="-"+p[g].toLowerCase()+"-",d=f[g],u=!0;break}var v="resizeanim",_="@"+h+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",y=h+"animation: 1ms "+v+"; "}window.addResizeListener=function(t,e){n?t.attachEvent("onresize",e):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),function(){if(!a){var t=(_||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i),a=!0}}(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),l(t),t.addEventListener("scroll",c,!0),d&&t.__resizeTriggers__.addEventListener(d,(function(e){e.animationName==v&&l(t)}))),t.__resizeListeners__.push(e))},window.removeResizeListener=function(t,e){n?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",c),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(jQuery),function(t){t.fn.extend({forMapsMarker:function(e){return e=t.extend({},{position:"topleft",markerImage:"https://www.formaps.it/Images/markers/goccia_rossa.png"},e),this.each((function(){var t=this.getRandomInt();this.forMapsMarker=new ForMapsMarkerControl(this,t,e)}))}}),ForMapsMarkerControl=function(e,i,n){var a,o,s,r,l=e.map,c=!1,u=t(l.getContainer()),h=document.createElement("img");h.className="forMapsMarker-image",h.src=n.markerImage,u.append(h);var d=L.Control.extend({options:{position:n.position},onAdd:function(){(a=L.DomUtil.create("div","forMapsMarkerContainer leaflet-bar leaflet-control leaflet-control-custom")).id="forMapsMarker"+i,(o=L.DomUtil.create("a")).href="#",o.title="Aggiungi riferimenti alla mappa",o.style.backgroundImage="url("+n.markerImage+")",o.className="forMapsMarker-buttonLink",(s=L.DomUtil.create("a")).href="#",s.title="Visualizza una lista dei riferimenti aggiunti alla mappa",s.innerHTML='<span class="fas fa-list"></span>',s.className="forMapsMarker-buttonLink",(r=L.DomUtil.create("a")).href="#",r.title="Rimuovi tutti i riferimenti dalla mappa",r.innerHTML='<span class="far fa-trash-alt"></span>',r.className="forMapsMarker-buttonLink";var u=L.DomUtil.create("div");return u.id="markersListContainer"+i,u.className="markersListContainer",u.innerHTML='<table id="markersListTable'+i+'" class="markersListTable display" style="width:100%;"></table>',a.appendChild(o),a.appendChild(s),a.appendChild(r),a.appendChild(u),o.onclick=function(t){t.preventDefault(),L.DomEvent.stopPropagation(t),c?g():m(t)},s.onclick=function(n){var a=[];t.each(e.state.Markers,(function(t,i){if(null!=i){var n=[];n.push(e.getIconaImage(e.getIcona(i.data.icona))),n.push(i.data.denominazione),n.push(i.getLatLng()),n.push(i.id),a.push(n)}})),jQuery.extend(jQuery.fn.dataTableExt.oSort,{"alt-string-pre":function(t){return t.match(/alt="(.*?)"/)[1].toLowerCase()},"alt-string-asc":function(t,e){return t<e?-1:t>e?1:0},"alt-string-desc":function(t,e){return t<e?1:t>e?-1:0}}),t("#markersListTable"+i).DataTable({destroy:!0,scrollY:"200px",scrollCollapse:!0,data:a,autoWidth:!1,order:[[1,"asc"]],columns:[{title:"Icona",width:"15px",type:"alt-string",className:"text-center"},{title:"Denominazione"},{title:"Coordinate",visible:!1}],paging:!1,language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Italian.json"},createdRow:function(i,n,a){t(i).attr("title","Clicca per andare alla posizione del riferimento "+n[1]),t(i).on("click",(function(){o.close(),l.flyTo(n[2],17),t.each(e.state.Markers,(function(t,e){null!=e&&e.id==n[3]&&e.fire("click")}))}))}});var o=lity("#markersListContainer"+i);t("#markersListContainer"+i).show(),t(document).on("lity:close",(function(e,n){t("#markersListContainer"+i).hide()}))},r.onclick=function(t){t.preventDefault(),L.DomEvent.stopPropagation(t),e.removeAllMarkers()},a}}),p=function(t){v(t.originalEvent.clientX,t.originalEvent.clientY)},f=function(t){e.addMarker({latLng:t.latlng}),g()},m=function(t){c=!0,o.classList.add("active"),u.css("cursor","crosshair"),l.addEventListener("click",f),u.on("keyup",g),L.Browser.mobile||(v(t.clientX,t.clientY),h.style.display="block",l.addEventListener("mousemove",p))},g=function(t){null!=t&&27!=t.keyCode||(c=!1,o.classList.remove("active"),u.css("cursor",""),l.removeEventListener("click",f),h.style.display="none",L.Browser.mobile||l.removeEventListener("mousemove",p))};function v(t,e){h.style.left=t-h.width/2+"px",h.style.top=e-h.height+"px"}l.addControl(new d)}}(jQuery),function(t){t.fn.extend({forMapsSearch:function(e){return e=t.extend({},{},e),this.each((function(){var t=this.getRandomInt();this.ForMapsSearch=new ForMapsSearchControl(this,t,e)}))}}),ForMapsSearchControl=function(e,i,n){var a=e.map,o=document.createElement("div");o.id="forMapsSearch_Container"+i,o.className="forMapsSearch_Container";var s=document.createElement("div");s.id="forMapsSearch_Controls"+i,s.className="forMapsSearch_Controls",t(o).append(e.getBanner()),t(o).append(s);var r=document.createElement("input");r.id="forMapsSearch_Input"+i,r.className="forMapsSearch_Input",r.type="search",r.placeholder="Inserisci un indirizzo o delle coordinate e premi invio",t(s).append(r);var l=document.createElement("div");l.id="forMapsSearch_searchButton"+i,l.className="forMapsSearch_searchButton",t(l).html('<span class="fas fa-search fa-fw"></span>'),t(r).after(l);var c=document.createElement("ul");c.id="forMapsSearch_Results"+i,c.className="forMapsSearch_Results",t(o).append(c);var u=document.createElement("div");function h(e){if(t(c).is(":visible")){if(t(c).find("li.selected").length>0){var i,n=t(c).find("li.selected").first();(i=e?t(n).next("li"):t(n).prev("li")).length>0&&(t(n).removeClass("selected"),t(i).addClass("selected"))}else e&&t("li",c).first().addClass("selected");t(r).val(t(c).find("li.selected").first().html())}}function d(t,i){var n,o;i?(n=e.coordinatesFromString(t),o=t):(n=e.coordinatesFromString(t.data("lat")+","+t.data("lng")),o=t.html());var s="ricerca"+e.getRandomInt();e.addMarker({denominazione:o,latLng:n,idRicerca:s}),e.aggiungiRicerca(s,o),e.SideBar.close(),a.flyTo(n,17),f()}function p(){var e=t(r).val();if(e){var i=new RegExp(/^\s*-?\d+\.\d+\,\s?-?\d+\.\d+\s*$/).test(e);t(c).find("li.selected").length>0?d(t(c).find("li.selected").first(),!1):(t(c).html(""),t("span",l).removeClass("fa-search").addClass("fa-times"),i?d(e,!0):t.getJSON("https://www.formaps.it/WS/Geocode/GetCoordinatesFromAddress?address="+e+"&callback=?",(function(e){if(result=e,result.Response.View.length>0){var i=result.Response.View[0].Result;i.length>0?t.each(i,(function(e,i){t(c).append('<li data-lat="'+i.Location.DisplayPosition.Latitude+'" data-lng="'+i.Location.DisplayPosition.Longitude+'">'+i.Location.Address.Label+"</li>")})):t(c).append("<li>Nessun risultato</li>")}else t(c).append("<li>Nessun risultato</li>");t(c).show()})))}else alert("Inserisci un indirizzo o delle coordinate per proseguire")}function f(){t("span",l).removeClass("fa-times").addClass("fa-search"),t(c).hide(),t(c).html(""),t(r).val("")}u.id="forMapsSearch_ResultsList"+i,u.className="forMapsSearch_ResultsList",t(o).append(u),e.addSideBar(i,"forMapsSearch","Ricerca per indirizzo",'<span class="fa fa-search"></span>',o),e.SideBar.on("opening",(function(){t("#forMapsSearch_Input"+i).focus(),t("#forMapsSearch_Input"+i).val("")})),t(r).on("keyup",(function(e){switch(e.keyCode||e.which){case 13:p();break;case 27:f();break;case 40:h(!0);break;case 38:h(!1);break;default:t(c).find("li.selected").removeClass("selected")}})),t(c).on("click","li",(function(e){t(this).data("lat")&&t(this).data("lng")&&d(t(this),!1)})),t(l).on("click",(function(e){t("span",this).hasClass("fa-times")?f():p()}))}}(jQuery),function(t){var e="",i=[{crs:"4326",key:"sfondo",tileSize:256,title:"Sfondo",internalName:"sfondo",urlBase:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAZAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQICAgICAgICAgICAwMDAwMDAwMDAwEBAQEBAQECAQECAgIBAgIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD/8AAEQgAAQABAwERAAIRAQMRAf/EAEoAAQAAAAAAAAAAAAAAAAAAAAoBAQAAAAAAAAAAAAAAAAAAAAAQAQAAAAAAAAAAAAAAAAAAAAARAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AH8A/9k=",version:"1.3.0",minZoomLevel:1,maxScaleDenominator:"",sfondo:!0},{crs:"4258",key:"acque",tileSize:1024,title:"Acque",internalName:"acque",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:12,maxScaleDenominator:"200000"},{crs:"4258",key:"strade",tileSize:1024,title:"Strade",internalName:"strade",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:12,maxScaleDenominator:"200000"},{crs:"4258",key:"CP.CadastralParcel",tileSize:1024,title:"Particelle",internalName:"particelle",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:17,maxScaleDenominator:"5000"},{crs:"4258",key:"fabbricati",tileSize:1024,title:"Fabbricati",internalName:"fabbricati",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:17,maxScaleDenominator:"5000"},{crs:"4258",key:"CP.CadastralZoning",tileSize:1024,title:"Fogli",internalName:"fogli",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:14,maxScaleDenominator:"200000"},{crs:"4258",key:"codice_plla",tileSize:1024,title:"Numero particella",internalName:"numeroParticella",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:18,maxScaleDenominator:"2000"},{crs:"4258",key:"simbolo_graffa",tileSize:1024,title:"Simbolo Graffa",internalName:"simboloGraffa",urlBase:"https://wms.cartografia.agenziaentrate.gov.it/inspire/wms/ows01.php?",version:"1.1.1",minZoomLevel:18,maxScaleDenominator:"2000"}];t.fn.extend({forMapsCatasto:function(e){return e=t.extend({},{experimental:!1,urlBase:"https://www.formaps.it/WS/DatiCatastali/"},e),this.each((function(){var t=this.getRandomInt();this.ForMapsCatasto=new ForMapsCatastoControl(this,t,e)}))}}),ForMapsCatastoControl=function(n,a,o){var s=n.map,r=t(document.createElement("div")).html('<div id="forMapsCatasto_container'+a+'" class="forMapsCatasto_container">'+n.getBanner()+'<p style="padding:5px;border:1px solid red; background-color:rgba(255,0,0,.1);color:red;">A causa di lavori di manutenzione da parte dell\'Agenzia delle Entrate, i servizi di visualizzazione dei <strong>Livelli catastali</strong> e di <strong>Ricerca particelle</strong> potrebbero subire dei malfunzionamenti.</p>                                                                    <h2>Livelli catastali</h2>                                                                    <p>Livelli forniti tramite il servizio di <a href="http://www.agenziaentrate.gov.it/wps/content/Nsilib/Nsi/Schede/FabbricatiTerreni/Consultazione+cartografia+catastale/Servizio+Consultazione+cartografia/?page=schedefabbricatieterreni" title="Vai al sito dell\'Agenzia delle Entrate" target="_blank">Consultazione cartografia catastale - WMS</a> dell\'Agenzia delle Entrate.<br>La licenza di utilizzo dei livelli forniti dall\'Agenzia delle Entrate vieta l\'uso commerciale e la produzione di opere derivate. Utilizzando il servizio dichiari di aver compreso tali limitazioni d\'uso.</p>                                                                    <ul id="forMapsCatasto_ul'+a+'" class="wms_container"></ul>                                                                    <p>Salva un\'immagine basata sui livelli catastali attivi (la disponibilit&#224; potrebbe dipendere dal livello di zoom applicato alla mappa)</p>                                                                    <button id="forMapsCatasto_estratto'+a+'" type="button" style="margin-bottom:20px;">Salva immagine</button>                                                                    <div id="forMapsCatasto_ricercaFogliParticelle'+a+'" class="forMapsCatasto_ricercaFogliParticelle">                                                                        <h2>Ricerca particelle'+(o.experimental?'<button id="forMapsCatasto_ricercaVocale'+a+'" type="button" style="float:right;"><span class="fas fa-microphone"></span></button>':"")+'</h2>                                                                        \x3c!--<p style="color:red;margin-bottom:30px;">Servizio temporaneamente sospeso</p>--\x3e                                                                        <p>Provincia catastale</p>                                                                        <div id="forMapsCatasto_provinceCatastali'+a+'" class="forMapsCatasto_ricercaParticelleSelect"></div>                                                                        <p>Comune catastale</p>                                                                        <div id="forMapsCatasto_comuniCatastali'+a+'" class="forMapsCatasto_ricercaParticelleSelect"></div>                                                                        <div id="forMapsCatasto_FogliParticelle'+a+'" class="forMapsCatasto_FogliParticelle">                                                                            <p>Foglio catasto terreni</p>                                                                            <input type="text" id="forMapsCatasto_fogliCatastali'+a+'" class="forMapsCatasto_ricercaParticelleInput" disabled="disabled" placeholder="Specifica il foglio">                                                                            <p>Particella</p>                                                                            <input type="text" id="forMapsCatasto_particelleCatastali'+a+'" class="forMapsCatasto_ricercaParticelleInput" disabled="disabled" placeholder="Specifica la particella">                                                                            <div id="forMapsCatasto_captchaContainer'+a+'" class="forMapsCatasto_captchaContainer">                                                                                <p>Per proseguire, inserisci il testo che visualizzi nell\'immagine</p>                                                                                <div id="forMapsCatasto_captcha'+a+'" class="forMapsCatasto_captcha">                                                                                    <div class="forMapsCatasto_captchaImmagine">                                                                                        <img src="" alt="Codice di verifica" id="forMapsCatasto_codiceVerifica'+a+'" style="max-width:100px;">                                                                                        <a href="#" title="Ricarica l\'immagine" id="forMapsCatasto_codiceVerificaReload'+a+'">Ricarica l\'immagine</a>                                                                                    </div>                                                                                    <div class="forMapsCatasto_captchaConferma">                                                                                        <input type="text" id="forMapsCatasto_codiceVerificaInput'+a+'" class="forMapsCatasto_codiceVerificaInput">                                                                                        <button id="forMapsCatasto_codiceVerificaConferma'+a+'">Conferma</button>                                                                                    </div>                                                                                </div>                                                                            </div>                                                                            <div class="forMapsCatasto_cercaParticellaContainer">                                                                                <button id="forMapsCatasto_cercaParticella'+a+'" type="button" style="vertical-align:middle;">Cerca</button>                                                                                <span id="forMapsCatasto_cercaParticellaLoading'+a+'" class="fas fa-spinner fa-pulse" style="display:none;"></span>                                                                            </div>                                                                        </div>                                                                    </div>                                                                    <h2>Quadro unione</h2>                                                                    <p>Salva il quadro unione dei fogli catastali di un comune ottenuto tramite il servizio di <a href="http://www.agenziaentrate.gov.it/wps/content/Nsilib/Nsi/Schede/FabbricatiTerreni/Consultazione+cartografia+catastale/Servizio+Consultazione+cartografia/?page=schedefabbricatieterreni" title="Vai al sito dell\'Agenzia delle Entrate" target="_blank">Consultazione cartografia catastale - WMS</a> dell\'Agenzia delle Entrate.<br>La licenza di utilizzo dei livelli forniti dall\'Agenzia delle Entrate vieta l\'uso commerciale e la produzione di opere derivate. Utilizzando il servizio dichiari di aver compreso tali limitazioni d\'uso.</p>                                                                    \x3c!--<div id="forMapsCatasto_quadro_province'+a+'" class="remoteSelect"></div>--\x3e                                                                    <div id="forMapsCatasto_quadro_comuni'+a+'" class="remoteSelect"></div>                                                                    <button id="forMapsCatasto_quadro'+a+'" type="button">Salva il quadro unione</button>                                                                </div>');function l(){c()}function c(){t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!0),t("#forMapsCatasto_codiceVerificaInput"+a).val(""),t("#forMapsCatasto_captchaContainer"+a).show();var e=new Date;t("#forMapsCatasto_codiceVerifica"+a).prop("src",o.urlBase+"GetCaptcha?"+e.getTime())}function u(){!function(i,r,c,u){t("#forMapsCatasto_cercaParticellaLoading"+a).show(),t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!0);var h="",d="",p="";c&&(h="Foglio "+(t.isNumeric(c)?c:t("#forMapsCatasto_fogliCatastali"+a).val()),p=o.urlBase+"GetFoglio?idProvincia="+i+"&idComune="+r+"&foglio="+c+"&etichettaFoglio="+h+"&token="+e),c&&u&&(d="Particella "+(t.isNumeric(u)?u:t("#forMapsCatasto_particelleCatastali"+a).val()),p=o.urlBase+"GetParticella?idProvincia="+i+"&idComune="+r+"&foglio="+c+"&particella="+u+"&etichettaParticella="+d+"&token="+e),p?t.ajax({url:p,dataType:"jsonp",contentType:"application/json"}).done((function(e){if(t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!1),"ok"==e.Result){var i=e.Comune+" - Foglio "+e.Foglio+(e.Particella?" - Particella "+e.Particella:""),o=n.coordinatesFromString(e.Centroide);if(e.GeoJson){var r=L.geoJSON(e.GeoJson,{style:function(t){return{color:t.properties.fill,stroke:t.properties.stroke,strokeWidth:t.properties.strokeWidth,strokeOpacity:t.properties.strokeOpacity,fill:t.properties.fill,fillOpacity:t.properties.fillOpacity}}});u||r.addTo(s);var c=r.getLayers()[0].feature;if(c){r.on("click",(function(t){confirm("Vuoi davvero eliminare "+i+" dalla mappa?")&&this.remove()}));var h=c.properties.centroide?c.properties.centroide:e.Centroide,d="https://wcf.stimatrixcity.it/daticatastali.svc/daticatastaliget/?latitudine="+h.split(",")[0]+"&longitudine="+h.split(",")[1];!function(t,e){s.flyToBounds(t.getBounds())}(r),t.ajax({url:d,dataType:"jsonp",contentType:"application/json",context:this,success:function(t){t.Particella!=c.properties.numero&&(u?n.pad(t.Particella,5):t.Foglio)!=c.properties.numero&&(u&&r.addTo(s),alert("Attenzione! Il riferimento Ã¨ stato posizionato sul centroide "+(u?"della ":"del ")+c.properties.etichetta+" che ricade perÃ² "+(u?"sulla Particella "+t.Particella:"sul Foglio "+t.Foglio)))},error:function(t,e,i){}})}}var p="catRicerca"+n.getRandomInt();n.aggiungiRicerca(p,i,1),n.addMarker({idIcona:"red",draggable:!1,etichetta:e.Particella?"Fg."+e.Foglio+"/Pt."+(t.isNumeric(e.Particella)&&"."!=e.Particella.substring(0,1)?Number(e.Particella):e.Particella):"Fg."+e.Foglio,denominazione:i,latLng:o,idRicerca:p}),u?(t.each(n.state.WMSOverlays,(function(t,e){switch(e.NomeInterno){case"particelle":f=e.Id,v=e.Active;break;case"numeroParticella":m=e.Id,_=e.Active;break;case"simboloGraffa":g=e.Id,y=e.Active}})),0!=v&&0!=_&&0!=y||confirm("Vuoi visualizzare anche i livelli catastali relativi alle Particelle?\nPuoi sempre disabilitarli successivamente nella sezione CAT.")&&(0==v&&t("#wms_check"+f).click(),0==_&&t("#wms_check"+m).click(),0==y&&t("#wms_check"+g).click())):t.each(n.state.WMSOverlays,(function(e,i){"fogli"==i.NomeInterno&&(t("#wms_check"+i.Id).prop("checked")||confirm("Vuoi visualizzare anche i livelli catastali relativi ai Fogli?\nPuoi sempre disabilitarli successivamente nella sezione CAT.")&&t("#wms_check"+i.Id).click())})),e.GeoJson||s.flyTo(o,17)}else switch(e.Result){case"NCR":case"ERRX - tk expired":l();break;case"[]":alert("Nessun risultato per i parametri specificati. Prova a modificare i parametri di ricerca e ritenta");break;case"ERRX-2":default:alert("Si Ã¨ verificato un errore durante l'elaborazione, riprova successivamente"),l()}var f,m,g,v,_,y})).fail((function(t,e,i){l()})).always((function(){t("#forMapsCatasto_cercaParticellaLoading"+a).hide()})):(alert("Selezionare almeno un foglio o una particella"),t("#forMapsCatasto_cercaParticellaLoading"+a).hide(),t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!1))}(t("#forMapsCatasto_provinceCatastali"+a).val(),t("#forMapsCatasto_comuniCatastali"+a).val(),t("#forMapsCatasto_fogliCatastali"+a).val(),t("#forMapsCatasto_particelleCatastali"+a).val())}function h(){var e=t("#forMapsCatasto_fogliCatastali"+a);t("#forMapsCatasto_cercaParticella"+a).text("Cerca"),e.val(""),e.prop("disabled",!0),function(){var e=t("#forMapsCatasto_particelleCatastali"+a);e.val(""),""==t("#forMapsCatasto_fogliCatastali"+a).val()?(e.prop("disabled",!0),t("#forMapsCatasto_cercaParticella"+a).text("Cerca")):t("#forMapsCatasto_cercaParticella"+a).text("Cerca foglio")}()}return n.addSideBar(a,"cat","Catasto ordinario","CAT",r),t("#forMapsCatasto_quadro_comuni"+a).select2({placeholder:"Seleziona il comune",width:"100%",minimumInputLength:2,allowClear:!0,ajax:{url:"https://www.formaps.it/ws/Comuni/ListaComuni?includiSoppressi=false&tavolare=false&codCatastale=true",dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.Items}}}}),t.each(i,(function(t,e){n.caricaWMS(s,e,"#forMapsCatasto_ul"+a,"cat")})),t("#forMapsCatasto_estratto"+a).button().click((function(){var e=s.getBounds(),i=[];if(t.each(n.state.WMSOverlays,(function(t,e){"cat"==e.Category&&e.Active&&i.push(e.Layers)})),i.length>0){var a=o.urlBase+"SalvaMappa?zoom="+s.getZoom()+"&width="+s.getContainer().offsetWidth+"&height="+s.getContainer().offsetHeight+"&south="+e.getSouth()+"&west="+e.getWest()+"&north="+e.getNorth()+"&east="+e.getEast()+"&layers="+i;window.location=a}else alert("Ã necessario selezionare almeno un livello catastale per proseguire!")})),t("#forMapsCatasto_quadro"+a).button().click((function(){var e=t("#forMapsCatasto_quadro_comuni"+a).val();if(""!=e){var i=o.urlBase+"SalvaQuadrounionePdf/"+e,n=t('<span class="loading fas fa-spinner fa-pulse" style="margin-left:5px;"></span>');t(this).append(n),t.ajax({url:i,context:t(this),dataType:"jsonp",contentType:"application/json",success:function(t){"ok"==t.status?window.location=t.url:alert("Non Ã¨ stato possibile recuperare il quadro unione, riprovare piÃ¹ tardi.")}}).always((function(){t(".loading",this).remove()}))}else alert("Ã necessario specificare un comune prima di proseguire")})),t("#forMapsCatasto_provinceCatastali"+a).select2({placeholder:"Seleziona la provincia",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:o.urlBase+"GetProvinceCatastali",dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){var i,n;""!=t(this).val()?(n=t("#forMapsCatasto_provinceCatastali"+a).val(),t("#forMapsCatasto_comuniCatastali"+a).select2({placeholder:"Seleziona il comune",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:o.urlBase+"GetComuniCatastali?idProvincia="+n,dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){""!=t(this).val()?(t("#forMapsCatasto_fogliCatastali"+a).prop("disabled",!1),t("#forMapsCatasto_particelleCatastali"+a).prop("disabled",!1)):h()})),t("#forMapsCatasto_comuniCatastali"+a).select2("enable",!0)):((i=t("#forMapsCatasto_comuniCatastali"+a)).select2("val",""),i.select2("enable",!1),h())})),t("#forMapsCatasto_fogliCatastali"+a).on("keyup",(function(e){var i=t("#forMapsCatasto_particelleCatastali"+a),n=t("#forMapsCatasto_cercaParticella"+a);""!=t(this).val()?""==i.val()?n.html("Cerca foglio"):n.html("Cerca particella"):n.html("Cerca"),t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!1),t("#forMapsCatasto_captchaContainer"+a).hide()})),t("#forMapsCatasto_particelleCatastali"+a).on("keyup",(function(e){var i=t("#forMapsCatasto_fogliCatastali"+a),n=t("#forMapsCatasto_cercaParticella"+a);""!=t(this).val()?n.html("Cerca particella"):""==i.val()?n.html("Cerca"):n.html("Cerca foglio"),t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!1),t("#forMapsCatasto_captchaContainer"+a).hide()})),t("#forMapsCatasto_codiceVerificaConferma"+a).button().click((function(){t("#forMapsCatasto_comuniCatastali"+a).val()?t("#forMapsCatasto_codiceVerificaInput"+a).val()?t.ajax({url:o.urlBase+"GetToken/"+t("#forMapsCatasto_codiceVerificaInput"+a).val(),contentType:"application/json",dataType:"jsonp",context:t(this)}).done((function(i){var n=JSON.parse(i);1==n.result?(e=n.token,t("#forMapsCatasto_captchaContainer"+a).hide(),u(),t("#forMapsCatasto_cercaParticella"+a).prop("disabled",!1)):(c(),alert("Inserire il nuovo codice per proseguire"))})).fail((function(t,e,i){})).always((function(){})):alert("Inserisci il testo contenuto nell'immagine per proseguire"):alert("Seleziona un comune per proseguire")})),t("#forMapsCatasto_codiceVerificaReload"+a).click((function(t){t.preventDefault(),c()})),t("#forMapsCatasto_cercaParticella"+a).button().click((function(){u()})),{AccendiLayerWMS:function(e,i,a){t.each(n.state.WMSOverlays,(function(n,o){o.NomeInterno==e&&(t("#wms_check"+o.Id).prop("checked",i).change(),a&&t("#wms_range"+o.Id).slider("value",a))}))}}}}(jQuery),function(t){var e=[{crs:"4326",key:"Provincia Trento Particelle Catastali",tileSize:256,title:"Provincia Trento",internalName:"provinciaTrentoParticelleCatastali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Cartografia_Catastale_Trentino_Alto_Adige/wms?",version:"1.3.0",minZoomLevel:15,maxScaleDenominator:"25000"},{crs:"4326",key:"Provincia Bolzano Particelle Catastali",tileSize:256,title:"Provincia Bolzano",internalName:"provinciaBolzanoParticelleCatastali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Cartografia_Catastale_Trentino_Alto_Adige/wms?",version:"1.3.0",minZoomLevel:15,maxScaleDenominator:"25000"}];t.fn.extend({forMapsTavolare:function(i){return i=t.extend({},{urlComuni:"https://wcf.stimatrixcity.it/daticatastali.svc/elencocomuniget",urlParticelle:"https://wcf.stimatrixcity.it/daticatastali.svc/elencoparticelleget",marker:null},i),this.each((function(){!function(i,n,a){var o=i.map,s=i.getBanner()+'<div id="wmsCatastoTavolare_container'+n+'" class="wmsCatastoTavolare_container">                                    <h2>Livelli particelle catasto tavolare</h2>                                    <ul id="wmsCatastoTavolare_ul'+n+'" class="wms_container"></ul>                                </div>',r='<div id="ricercaParticelle_container'+n+'" class="ricercaParticelle_container">                                    <h2>Ricerca particelle</h2>                                    <label for="rp_comuni" class="rp_labelComuni">Comune catastale: </label>\t\t\t\t\t                <select id="rp_comuni'+n+'" class="remoteSelect">\t\t\t\t\t\t                <option value="">Seleziona un comune</option>\t\t\t\t\t                </select>\t\t\t\t\t                <label for="rp_particella" class="rp_labelParticella">Particella: </label>\t\t\t\t\t                <input type="text" id="rp_particella'+n+'">\t\t\t\t\t                <button type="button" id="rp_aggiungiParticella'+n+'">Visualizza particella in mappa</button>                                </div>',l=t(document.createElement("div")).html('<div id="tavolare_container'+n+'" class="tavolare_container">'+s+r+"</div>");function c(e){e.length>0?t.each(e,(function(t,e){var n=e.Particella,a=e.Titolo,s=L.latLng(e.Latitudine,e.Longitudine);idRicerca="tavRicerca"+i.getRandomInt(),i.aggiungiRicerca(idRicerca,"Particella "+a,1),i.addMarker({idIcona:"red",draggable:!1,etichetta:n,denominazione:"Particella "+a,latLng:s,idRicerca:idRicerca}),o.flyTo(s,15)})):alert("Nessun risultato disponibile")}i.addSideBar(n,"tav","Catasto tavolare","TAV",l),t("#ricercaParticelle_container"+n+" button").button(),t.each(e,(function(t,e){i.caricaWMS(o,e,"#wmsCatastoTavolare_ul"+n)})),1==t("#rp_comuni"+n+" option").length&&t.getJSON(a.urlComuni+"?callback=?",(function(e){var i=[];t.each(e,(function(t,e){var n="";e.CatastoTavolare&&(n=' class="tavolare"'),i.push('<option value="'+e.Id+'"'+n+">"+e.Denominazione+"</option>")})),t("#rp_comuni"+n).append(i.join("")).select2()})),t("#rp_aggiungiParticella"+n).click((function(){var e="";if(""==t("#rp_comuni"+n).val()&&(e+="Selezionare un comune\n"),""==t("#rp_particella"+n).val()&&(e+="Specificare una particella\n"),""==e){var i=a.urlParticelle+"?comune="+t("#rp_comuni"+n).val()+"&foglio=&particella="+t("#rp_particella"+n).val()+"&callback=?";t.getJSON(i,c)}else alert(e)}))}(this,this.getRandomInt(),i)}))}})}(jQuery),function(t){var e=[{crs:"4326",key:"ZoneOMIFasce",tileSize:512,title:"Fasce",internalName:"zoneOmiFasce",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Zone_OMI_Italia/wms?",version:"1.3.0",minZoomLevel:12,maxScaleDenominator:"250000"},{crs:"4326",key:"ZoneOMIConfini",tileSize:512,title:"Zone",internalName:"zoneOmiConfini",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Zone_OMI_Italia/wms?",version:"1.3.0",minZoomLevel:12,maxScaleDenominator:"250000"},{crs:"4326",key:"ZoneOMIEtichette",tileSize:512,title:"Codici identificativi",internalName:"zoneOmiEtichette",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Zone_OMI_Italia/wms?",version:"1.3.0",minZoomLevel:12,maxScaleDenominator:"250000"}];t.fn.extend({forMapsOmi:function(e){return e=t.extend({},{baseUrl:"https://www.formaps.it/WS/ValoriOmi/"},e),this.each((function(){var t=this.getRandomInt();this.ForMapsOmi=new ForMapsOmiControl(this,t,e)}))}}),ForMapsOmiControl=function(i,n,a){var o=i.map,s=t(document.createElement("div")).html('<div id="omi_container'+n+'" class="omi_container">'+i.getBanner()+'<div id="wmsOmi_container'+n+'" class="wmsOmi_container">                                                                        <h2>Livelli zone OMI 2018/2</h2>                                                                        <ul id="wmsOmi_ul'+n+'" class="wms_container"></ul>                                                                    </div>                                                                    <div id="ricercaOmi_container'+n+'" class="ricercaOmi_container">                                                                        <h2>Ricerca valori OMI 2018/2</h2>                                                                        <p>Provincia catastale</p>                                                                        <div id="ricercaOmi_provinceCatastali'+n+'" class="ricercaOmi_select"></div>                                                                        <p>Comune catastale</p>                                                                        <div id="ricercaOmi_comuniCatastali'+n+'" class="ricercaOmi_select"></div>                                                                        <p>Zona OMI</p>                                                                        <div id="ricercaOmi_zoneOmi'+n+'" class="ricercaOmi_select"></div>                                                                        <p>Destinazione</p>                                                                        <div id="ricercaOmi_destinazioni'+n+'" class="ricercaOmi_select"></div>                                                                        <p>Categoria catastale/Tipologia edilizia</p>                                                                        <div id="ricercaOmi_tipologieEdilizie'+n+'" class="ricercaOmi_select"></div>                                                                        <div class="ricercaOmi_button">                                                                            <button id="ricercaOmi_cercaOmi'+n+'" type="button">Cerca</button>                                                                            <div class="ricercaOmi_individuaZonaContainer">                                                                                <input id="ricercaOmi_individuaZona'+n+'" type="checkbox">                                                                                <label for="ricercaOmi_individuaZona'+n+'">Individua la zona OMI sulla mappa</label>                                                                            </div>                                                                        </div>                                                                        <div id="ricercaOmiRisultati'+n+'" class="ricercaOmiRisultati">                                                                            <h3>Risultati</h3>                                                                            <div class="ricercaOmiRisultati_tabs">\t\t                                                                        <ul>\t\t\t                                                                        <li><a href="#risultatiOmiValoriMercato'+n+'">Prezzo <small>(â¬/mq)</small></a></li>\t\t\t                                                                        <li><a href="#risultatiOmiValoriLocazione'+n+'">Reddito <small>(â¬/mq x mese)</small></a></li>                                                                                    <li><a href="#risultatiOmiSaggioAnnuo'+n+'">Saggio annuo <small>(i=R/P)</small></a></li>\t\t                                                                        </ul>                                                                                <div id="risultatiOmiValoriMercato'+n+'">                                                                                    <table class="valoriMercato forMapsRicercaRisultati">                                                                                        <thead>                                                                                            <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="ricercaOmiRisultatiValori">Min</th><th class="ricercaOmiRisultatiValori">Max</th></tr>                                                                                        </thead>                                                                                        <tbody></tbody>                                                                                    </table>                                                                                </div>                                                                                <div id="risultatiOmiValoriLocazione'+n+'">                                                                                    <table class="valoriLocazione forMapsRicercaRisultati">                                                                                        <thead>                                                                                            <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="ricercaOmiRisultatiValori">Min</th><th class="ricercaOmiRisultatiValori">Max</th></tr>                                                                                        </thead>                                                                                        <tbody></tbody>                                                                                    </table>                                                                                </div>                                                                                <div id="risultatiOmiSaggioAnnuo'+n+'">                                                                                    <table class="saggioAnnuo forMapsRicercaRisultati">                                                                                        <thead>                                                                                            <tr><th style="width:40%">Tipologia edilizia</th><th style="width:30%">Stato</th><th class="ricercaOmiRisultatiValori">Min</th><th class="ricercaOmiRisultatiValori">Max</th></tr>                                                                                        </thead>                                                                                        <tbody></tbody>                                                                                    </table>                                                                                </div>                                                                            </div>                                                                        </div>                                                                    </div>                                                                </div>');function r(){var e=t("#ricercaOmi_zoneOmi"+n);e.select2("val",""),e.select2("enable",!1),l()}function l(){var e=t("#ricercaOmi_destinazioni"+n);e.select2("val",""),e.select2("enable",!1),c()}function c(){var e=t("#ricercaOmi_tipologieEdilizie"+n);e.select2("val",""),e.select2("enable",!1)}return i.addSideBar(n,"omi","Valori OMI","OMI",s),t(".ricercaOmiRisultati_tabs").tabs(),t.each(e,(function(t,e){i.caricaWMS(o,e,"#wmsOmi_ul"+n)})),t("#ricercaOmi_provinceCatastali"+n).select2({placeholder:"Seleziona la provincia",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:a.baseUrl+"GetProvince",dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#ricercaOmi_comuniCatastali"+n);i.data("select2")?i.select2("val","",!0):t("#ricercaOmi_comuniCatastali"+n).select2({placeholder:"Seleziona il comune",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:function(){return a.baseUrl+"GetComuni?idProvincia="+t("#ricercaOmi_provinceCatastali"+n).val()},dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#ricercaOmi_zoneOmi"+n);i.data("select2")?i.select2("val","",!0):t("#ricercaOmi_zoneOmi"+n).select2({placeholder:"Seleziona la zona OMI",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:function(){return a.baseUrl+"GetZoneOmi?idComune="+t("#ricercaOmi_comuniCatastali"+n).val()},dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#ricercaOmi_destinazioni"+n);i.data("select2")?i.select2("val","",!0):t("#ricercaOmi_destinazioni"+n).select2({placeholder:"Seleziona la destinazione",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:a.baseUrl+"GetDestinazioni",dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#ricercaOmi_tipologieEdilizie"+n);i.data("select2")?i.select2("val","",!0):t("#ricercaOmi_tipologieEdilizie"+n).select2({placeholder:"Seleziona la tipologia edilizia",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:function(){return a.baseUrl+"GetTipologieEdilizie?destinazione="+t("#ricercaOmi_destinazioni"+n).val()},dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}),i.select2("enable",!0)}else c()})),i.select2("enable",!0)}else l()})),i.select2("enable",!0)}else r()})),i.select2("enable",!0)}else(o=t("#ricercaOmi_comuniCatastali"+n)).select2("val",""),o.select2("enable",!1),r();var o})),t("#ricercaOmi_cercaOmi"+n).button().click((function(){var e;e=t("#ricercaOmiRisultati"+n),t("#ricercaOmiRisultati"+n+" table tbody").html(""),e.hide();var s=t("#ricercaOmi_comuniCatastali"+n).val(),r=t("#ricercaOmi_zoneOmi"+n).val(),l=t("#ricercaOmi_destinazioni"+n).val(),c=t("#ricercaOmi_tipologieEdilizie"+n).val(),u=a.baseUrl+"GetValoriOmi?idComune="+s+"&linkZona="+r+"&destinazione="+l+"&tipologiaEdilizia="+c;r?(t("#ricercaOmi_individuaZona"+n).prop("checked")&&t.ajax({url:a.baseUrl+"GetZonaOmi?linkZona="+r,dataType:"jsonp",contentType:"application/json",success:function(e){!function(){var e,n;t.each(i.state.WMSOverlays,(function(t,i){switch(i.NomeInterno){case"zoneOmiConfini":e=i.Id;break;case"zoneOmiEtichette":n=i.Id}}));var a=t("#wms_check"+e).prop("checked"),o=t("#wms_check"+n).prop("checked");0!=a&&0!=o||confirm("Vuoi visualizzare anche i livelli relativi alle zone OMI?\nPuoi sempre disabilitarlo successivamente nella sezione OMI.")&&(0==a&&t("#wms_check"+e).click(),0==o&&t("#wms_check"+n).click())}();var n=[],a=L.latLng(e.LatitudineMin,e.LongitudineMin);n.push(a);var s=L.latLng(e.LatitudineMax,e.LongitudineMax);n.push(s),o.fitBounds(n)}}),t.ajax({url:u,dataType:"jsonp",contentType:"application/json",success:function(e){var i=t("#risultatiOmiValoriMercato"+n+" table tbody"),a=t("#risultatiOmiValoriLocazione"+n+" table tbody"),o=t("#risultatiOmiSaggioAnnuo"+n+" table tbody");e.length>0?t.each(e,(function(t,e){var n=e.ValoreOmiMin,s=e.ValoreOmiMax,r=e.ValoreLocazioneMin,l=e.ValoreLocazioneMax;i.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="ricercaOmiRisultatiValori">'+(n>0?n.formatta(0,",","."):"-")+'</td><td class="ricercaOmiRisultatiValori">'+(s>0?s.formatta(0,",","."):"-")+"</td></tr>"),a.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="ricercaOmiRisultatiValori">'+(r>0?r.formatta(1,",","."):"-")+'</td><td class="ricercaOmiRisultatiValori">'+(l>0?l.formatta(1,",","."):"-")+"</td></tr>");var c="-";n>0&&r>0&&(c=(12*r/n*100).formatta(2,",",".")+"%");var u="-";s>0&&l>0&&(u=(12*l/s*100).formatta(2,",",".")+"%"),o.append("<tr><td>"+e.TipologiaEdilizia+"</td><td>"+e.Stato+'</td><td class="ricercaOmiRisultatiValori">'+c+'</td><td class="ricercaOmiRisultatiValori">'+u+"</td></tr>")})):(i.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>'),a.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>'),a.append('<tr><td colspan="4" style="text-align:center">Nessun risultato</td></tr>')),t("#ricercaOmiRisultati"+n).show()}})):alert("Selezionare almeno una zona OMI")})),{AccendiLayerWMS:function(e,i,n){t.each(overlayWMSOmi,(function(a,o){o.NomeInterno==e&&(t("#wmsOmi_check"+o.Id).prop("checked",i).change(),n&&t("#wmsOmi_range"+o.Id).slider("value",n))}))}}}}(jQuery),function(t){var e,i=[{crs:"3857",key:"Limiti amministrativi regionali",tileSize:512,title:"Limiti regionali",internalName:"limitiRegionali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000"},{crs:"3857",key:"Limiti amministrativi provinciali",tileSize:1024,title:"Limiti provinciali",internalName:"limitiProvinciali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000"},{crs:"3857",key:"Limiti amministrativi comunali",tileSize:1024,title:"Limiti comunali",internalName:"limitiComunali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000"},{crs:"4326",key:"Sezioni censuarie 2011",tileSize:512,title:"Sezioni censuarie 2011",internalName:"sezioniCensuarie2011",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Istat_Italia/wms?",version:"1.3.0",minZoomLevel:15,maxScaleDenominator:"25000"}];t.fn.extend({forMapsLivelliAmministrativi:function(e){return e=t.extend({},{sideBar:!1},e),this.each((function(){var t=this.getRandomInt();this.ForMapsLivelliAmministrativi=new ForMapsLivelliAmministrativiControl(this,t,e)}))}}),ForMapsLivelliAmministrativiControl=function(n,a,o){var s=n.map,r=t(document.createElement("div")).html('<div id="forMapsLivelliAmministrativi_container'+a+'" class="forMapsLivelliAmministrativi_container">'+n.getBanner()+'<h2>Livelli amministrativi</h2>                                                                    <ul id="forMapsLivelliAmministrativi_ul'+a+'" class="wms_container"></ul>                                                                    <div class="forMapsAccordiTerritoriali">                                                                        <h2>Accordi Territoriali</h2>                                                                        <ul id="forMapsAccordiTerritoriali_ul'+a+'" class="wms_container forMapsAccordiTerritoriali_ul"></ul>                                                                        <div id="forMapsAccordiTerritoriali_comuni'+a+'" class="remoteSelect"></div>                                                                        <table id="forMapsAccordiTerritoriali_risultati'+a+'" class="forMapsAccordiTerritoriali_risultati forMapsRicercaRisultati"><thead><tr><th>Data stipula</th><th>Comune ad alta intensitÃ  abitativa</th><th>Accordo Territoriale</th></tr></thead><tbody></tbody></table>                                                                    </div>                                                                    <div class="forMapsUfficiGiudiziari">                                                                        <h2>Territori di competenza dei tribunali</h2>                                                                        <div id="forMapsUfficiGiudiziari_tribunali'+a+'" class="remoteSelect"></div>                                                                        <ul id="forMapsUfficiGiudiziari_ul'+a+'" class="wms_container forMapsUfficiGiudiziari_ul"></ul>                                                                    </div>                                                                    <h2>Evidenzia comuni su mappa</h2>                                                                    <div style="display:flex;">                                                                        <div id="forMapsLivelliAmministrativi_comuni'+a+'" class="remoteSelect"></div>                                                                        <div class="forMapsLivelliAmministrativi_negativo_container"><input type="checkbox" id="forMapsLivelliAmministrativi_negativo'+a+'" checked="checked" value="true"><label for="forMapsLivelliAmministrativi_negativo'+a+'">Negativo</label></div>                                                                    </div>                                                                    <ul id="forMapsLivelliAmministrativi_evidenziaComuni'+a+'" class="wms_container"></ul>                                                                </div>');n.addSideBar(a,"amm","Livelli amministrativi","AMM",r),t.each([{crs:"3857",key:"Comuni Alta Intensita Abitativa",tileSize:1024,title:"Comuni ad alta intensitÃ  abitativa",internalName:"comuniAltaIntensitaAbitativa",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000"},{crs:"3857",key:"Accordi Territoriali",tileSize:1024,title:"Accordi Territoriali disponibili",internalName:"accordiTerritorialiSunia",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000",styles:"sunia"}],(function(t,e){n.caricaWMS(s,e,"#forMapsAccordiTerritoriali_ul"+a)})),t("#forMapsAccordiTerritoriali_comuni"+a).select2({placeholder:"Seleziona un comune per ottenere l'accordo territoriale",width:"100%",minimumInputLength:3,allowClear:!0,ajax:{url:"https://www.formaps.it/ws/AccordiTerritoriali/GetComuni",dataType:"jsonp",contentType:"application/json",quietMillis:1e3,data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){t.ajax({url:"https://www.formaps.it/ws/AccordiTerritoriali/GetAccordiTerritorialiAjax/"+t(this).val(),dataType:"jsonp",contentType:"application/json",context:this,success:function(e){var i=[];t.each(e,(function(t,e){i.push("<tr>                                                <td>"+e.DataStipula+"</td>                                                <td>"+(e.Cipe?'<span class="fas fa-check"></span>':"")+'</td>                                                <td><a href="https://www.formaps.it/ws/AccordiTerritoriali/DownloadAccordoTerritoriale/'+e.Id+'" title="Scarica l\'accordo territoriale" target="_blank">'+e.Titolo+"</a></td>                                            </tr>")})),t("tbody","#forMapsAccordiTerritoriali_risultati"+a).html(i.join("")),t("#forMapsAccordiTerritoriali_risultati"+a).show()},error:function(t,e,i){console.log(i)}})}));var l={crs:"3857",key:"Tribunali",tileSize:512,title:"Competenza territoriale tribunale",internalName:"tribunali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:6,maxScaleDenominator:"10000000"},c=l.urlBase;idWmsTribunali=n.caricaWMS(s,l,"#forMapsUfficiGiudiziari_ul"+a);var u=n.getLayerWMS(s,idWmsTribunali),h=t("#wms_check"+idWmsTribunali),d=t("#forMapsUfficiGiudiziari_tribunali"+a);d.select2({placeholder:"Seleziona un tribunale per visualizzarne il territorio di competenza",width:"100%",allowClear:!0,ajax:{url:"https://www.formaps.it/ws/UfficiGiudiziari/GetTribunali",dataType:"jsonp",contentType:"application/json",quietMillis:1e3,data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){var i=t(this).select2("data"),o=i;if(h.prop("checked",o?"checked":""),o)if(t("#forMapsUfficiGiudiziari_ul"+a).show(),u.UrlBase=c+"idUfficioGiudiziario="+t(this).val()+"&",u.Overlay.setUrl(u.UrlBase),i.bbox){var r=i.bbox.split(","),l=n.coordinatesFromString(r[0]+","+r[1]),d=n.coordinatesFromString(r[2]+","+r[3]),p=L.latLngBounds(l,d);s.flyToBounds(p)}else alert("Competenza territoriale non disponibile.\nIl tribunale potrebbe non essere piÃ¹ attivo.");else t("#forMapsUfficiGiudiziari_ul"+a).hide();n.toggleLayerWMS(s,idWmsTribunali,!!o)})),t.each(i,(function(t,e){n.caricaWMS(s,e,"#forMapsLivelliAmministrativi_ul"+a)}));var p={crs:"3857",key:"Comune evidenziato",tileSize:512,title:"Comuni evidenziati",internalName:"comuniEvidenziati",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Limiti_Amministrativi_Italia_3857/wms?",version:"1.3.0",minZoomLevel:7,maxScaleDenominator:"5000000",styles:"negativo"},f=p.urlBase;e=n.caricaWMS(s,p,"#forMapsLivelliAmministrativi_evidenziaComuni"+a);var m=n.getLayerWMS(s,e),g=t("#wms_check"+e),v=t("#forMapsLivelliAmministrativi_comuni"+a);function _(i,a){if(i.length>0){g.prop("disabled",""),n.toggleLayerWMS(s,e,g.prop("checked"));var o=[];if(t.each(i,(function(t,e){o.push(parseInt(e.id))})),m.UrlBase=f+"comuni="+o.join(",")+"&",m.Overlay.setUrl(m.UrlBase),a){var r=new L.LatLngBounds;t.each(i,(function(t,e){if(e.BBox){var i=n.boundsFromString(e.BBox);r.extend(i)}})),s.flyToBounds(r)}}else n.toggleLayerWMS(s,e,!1),g.prop("disabled","disabled"),g.prop("checked",""),m.UrlBase=f,m.Overlay.setUrl(m.UrlBase)}return g.prop("checked",""),g.prop("disabled","disabled"),v.select2({placeholder:"Seleziona il comune",minimumInputLength:3,allowClear:!0,multiple:!0,ajax:{url:"https://www.formaps.it/WS/Comuni/ListaComuni?bbox=true",dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t,page:e,pageLimit:10}},results:function(t,e){return{results:t.Items,more:10*e<t.Total}}}}).on("change",(function(e){var i=t(this).select2("data");g.prop("checked",i.length>0?"checked":""),_(i,!0)})),t("#forMapsLivelliAmministrativi_negativo"+a).on("change",(function(e){var i="positivo";t(this).prop("checked")&&(i="negativo"),m.Overlay.setParams({styles:i})})),{EvidenziaComune:function(i,n,o,s,r){null==s&&(s=!0),null==r&&(r=!0),t("#forMapsLivelliAmministrativi_negativo"+a).prop("checked",r).trigger("change"),i.length>0?(g.prop("checked",n?"checked":""),o&&t("#wms_range"+e).slider("value",o),"object"==typeof i?i.length>0&&(v.select2("data",i),_(i,s)):t.ajax({url:"https://www.formaps.it/WS/Comuni/ListaComuni?term="+i,context:t(this),dataType:"jsonp",contentType:"application/json",success:function(t){t.Items.length>0&&(v.select2("data",t.Items),_(t.Items,s))}})):v.select2("data",[]).trigger("change")},EvidenziaTribunale:function(e,i,n,a){null==a&&(a=!0),e?(h.prop("checked",i?"checked":""),n&&t("#wms_range"+idWmsTribunali).slider("value",n),d.select2("data",e).trigger("change")):d.select2("data","").trigger("change")},GetComuniEvidenziati:function(){return{Active:t("#wms_check"+e).prop("checked"),Opacity:t("#wms_range"+e).slider("value"),Comuni:v.select2("data"),Negativo:t("#forMapsLivelliAmministrativi_negativo"+a).prop("checked")}},GetTribunaleEvidenziato:function(){return{Active:t("#wms_check"+idWmsTribunali).prop("checked"),Opacity:t("#wms_range"+idWmsTribunali).slider("value"),Tribunale:d.select2("data")}}}}}(jQuery),function(t){var e={children:[{crs:"4326",key:"Punti fiduciali",tileSize:1024,title:"Punti fiduciali",internalName:"puntiFiduciali",urlBase:"https://wms.stimatrixcity.it/cgi-bin/STI_Punti_Fiduciali_Italia/wms?",version:"1.3.0",minZoomLevel:15,maxScaleDenominator:"25000"}]};function i(i,n,a){var o=i.map,s="pf_container"+n,r=t(document.createElement("div")).html('<div class="pf_container" id="'+s+'" class="pf_container">'+i.getBanner()+'<div id="wmsPuntiFiduciali_container'+n+'" class="wmsPuntiFiduciali_container">                                                                        <h2>Livello punti fiduciali</h2>                                                                        <ul id="wmsPuntiFiduciali_ul'+n+'" class="wms_container"></ul>                                                                    </div>                                                                    <div id="ricercaPuntiFiduciali_container'+n+'" class="ricercaPuntiFiduciali_container">                                                                        <h2>Ricerca punti fiduciali</h2>                                                                        <p>Comune</p>                                                                        <div class="ricercaPf_select" id="pf_comuneCodiceNazionale'+n+'"></div>                                                                        <p>Foglio</p>                                                                        <div class="ricercaPf_select" id="pf_foglio'+n+'"></div>                                                                        <p>Punto fiduciale</p>                                                                        <div class="ricercaPf_select" id="pf_puntoFiduciale'+n+'"></div>                                                                        <button type="button" id="pf_puntoFiducialeBtn'+n+'">Aggiungi a mappa</button>                                                                    </div>                                                                </div>');function l(){var e=t("#pf_puntoFiduciale"+n);e.select2("val",""),e.select2("enable",!1)}t("#wmsPuntiFiduciali_container"+n),i.addSideBar(n,"pf","Punti fiduciali","PF",r),t("#"+s+" button").button(),t.each(e.children,(function(t,e){i.caricaWMS(o,e,"#wmsPuntiFiduciali_ul"+n)})),t("#pf_comuneCodiceNazionale"+n).select2({placeholder:"Seleziona il comune",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:a.urlComuniLista,dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#pf_foglio"+n);i.data("select2")?i.select2("val","",!0):t("#pf_foglio"+n).select2({placeholder:"Seleziona il foglio",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:function(){return a.urlWebService+"/GetFogli?idComune="+t("#pf_comuneCodiceNazionale"+n).val()},dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}).on("change",(function(e){if(""!=t(this).val()){var i=t("#pf_puntoFiduciale"+n);i.data("select2")?i.select2("val","",!0):t("#pf_puntoFiduciale"+n).select2({placeholder:"Seleziona il punto fiduciale",width:"100%",minimumInputLength:0,allowClear:!0,ajax:{url:function(){var e=t("#pf_comuneCodiceNazionale"+n).val(),i=t("#pf_foglio"+n).val().split("|");return a.urlWebService+"/GetPuntiFiduciali?idComune="+e+"&foglio="+i[0]+"&sezione="+i[1]},dataType:"jsonp",contentType:"application/json",data:function(t,e){return{term:t}},results:function(t,e){return{results:t.items}}}}),i.select2("enable",!0)}else l()})),i.select2("enable",!0)}else(o=t("#pf_foglio"+n)).select2("val",""),o.select2("enable",!1),l();var o})),t("#pf_puntoFiducialeBtn"+n).on("click",(function(e){if(""!=t("#pf_puntoFiduciale"+n).val()){var a=t("#pf_puntoFiduciale"+n).val().split("|");s=a[3],r=L.latLng(a[0],a[1]),idRicerca="pfRicerca"+i.getRandomInt(),i.aggiungiRicerca(idRicerca,"Punto fiduciale "+t.trim(s),1),i.addMarker({idIcona:"green",draggable:!1,etichetta:s,denominazione:"Punto fiduciale "+t.trim(s),latLng:r,idRicerca:idRicerca}),o.flyTo(r,15)}else alert("Ã necessario specificare un punto fiduciale per proseguire con l'operazione");var s,r}))}t.fn.extend({forMapsPuntiFiduciali:function(e){return e=t.extend({},{urlWebService:"https://www.formaps.it/WS/PuntiFiduciali",urlComuniLista:"https://www.formaps.it/WS/Comuni/ListaComuniStimatrixCity"},e),this.each((function(){new i(this,this.getRandomInt(),e)}))}})}(jQuery),function(t){var e=[],i=[{title:"Scuole",internalName:"scuole",icon:"school.png",features:[{title:"UniversitÃ ",internalName:"universita",icon:"",type:"amenity",key:"university"},{title:"Istituto",internalName:"istituto",icon:"",type:"amenity",key:"colleges"},{title:"Asilo",internalName:"asilo",icon:"",type:"amenity",key:"kindergarten"},{title:"Scuola",internalName:"scuola",icon:"",type:"amenity",key:"school"},{title:"Scuola di musica",internalName:"scuolaDiMusica",icon:"",type:"amenity",key:"music_school"},{title:"Biblioteca",internalName:"biblioteca",icon:"",type:"amenity",key:"library"}]},{title:"Luoghi di ristoro",internalName:"luoghiDiRistoro",icon:"restaurant.png",features:[{title:"Ristorante",internalName:"ristorante",icon:"",type:"amenity",key:"restaurant"},{title:"Bar",internalName:"bar",icon:"",type:"amenity",key:"bar"},{title:"CaffÃ¨",internalName:"caffe",icon:"",type:"amenity",key:"cafe"},{title:"Gelateria",internalName:"gelateria",icon:"",type:"amenity",key:"ice_cream"},{title:"Fast food",internalName:"fastFood",icon:"",type:"amenity",key:"fast_food"},{title:"Pub",internalName:"pub",icon:"",type:"amenity",key:"pub"}]},{title:"Banche",internalName:"banche",icon:"bank.png",features:[{title:"Banca",internalName:"banca",icon:"",type:"amenity",key:"bank"},{title:"Bancomat",internalName:"bancomat",icon:"",type:"amenity",key:"atm"}]},{title:"Salute",internalName:"salute",icon:"medicine.png",features:[{title:"Clinica",internalName:"clinica",icon:"",type:"amenity",key:"clinic"},{title:"Dentista",internalName:"dentista",icon:"",type:"amenity",key:"dentist"},{title:"Dentista",internalName:"dentista",icon:"",type:"amenity",key:"dentist"},{title:"Ambulatorio medico",internalName:"ambulatorioMedico",icon:"",type:"amenity",key:"doctors"},{title:"Ospedale",internalName:"ospedale",icon:"",type:"amenity",key:"hospital"},{title:"Farmacia",internalName:"farmacia",icon:"",type:"amenity",key:"pharmacy"},{title:"Veterinario",internalName:"veterinario",icon:"",type:"amenity",key:"veterinary"}]},{title:"Svago e cultura",internalName:"svagoCultura",icon:"theater.png",features:[{title:"Teatro",internalName:"teatro",icon:"",type:"amenity",key:"theatre"},{title:"Cinema",internalName:"cinema",icon:"",type:"amenity",key:"cinema"},{title:"Centro sociale",internalName:"centroSociale",icon:"",type:"amenity",key:"social_centre"},{title:"Centro comunitario",internalName:"centroComunitario",icon:"",type:"amenity",key:"community_centre"},{title:"Polo artistico",internalName:"poloArtistico",icon:"",type:"amenity",key:"arts_centre"},{title:"Planetario",internalName:"planetario",icon:"",type:"amenity",key:"planetarium"},{title:"Discoteca",internalName:"discoteca",icon:"",type:"amenity",key:"nightclub"},{title:"Balera",internalName:"balera",icon:"",type:"leisure",key:"dance"}]},{title:"Centri commerciali",internalName:"centriCommerciali",icon:"supermarket.png",features:[{title:"Mercato",internalName:"mercato",icon:"",type:"amenity",key:"marketplace"},{title:"Supermercato",internalName:"supermercato",icon:"",type:"shop",key:"supermarket"}]},{title:"Trasporti",internalName:"trasporti",icon:"busstop.png",features:[{title:"Fermata autobus",internalName:"fermataAutobus",icon:"",type:"highway",key:"bus_stop"},{title:"Stazione",internalName:"stazione",icon:"",type:"public_transport",key:"station"},{title:"Stazione dei treni",internalName:"stazioneTreni",icon:"",type:"building",key:"train_station"}]},{title:"All'aperto",internalName:"allAperto",icon:"tree.png",features:[{title:"Parco",internalName:"parco",icon:"",type:"leisure",key:"park"},{title:"Giardino",internalName:"giardino",icon:"",type:"leisure",key:"garden"},{title:"Parco giochi",internalName:"parcoGiochi",icon:"",type:"leisure",key:"playground"},{title:"Lido",internalName:"lido",icon:"",type:"leisure",key:"beach_resort"}]}];t.fn.extend({forMapsPoi:function(e){return e=t.extend({},{},e),this.each((function(){var t=this.getRandomInt();this.ForMapsPoi=new ForMapsPoiControl(this,t,e)}))}}),ForMapsPoiControl=function(n,a,o){var s,r,l,c=n.map,u=t(document.createElement("div")).html('<div id="poi_container'+a+'" class="poi_container">'+n.getBanner()+'<h2>Ricerca punti di interesse (POI)</h2>                                                                    <p>I punti di interesse sono forniti tramite il servizio <a href="http://www.overpass-api.de/" title="Maggiori informazioni" target="_blank">Overpass API</a> basato sui dati "Â© OpenStreetMap contributors" distribuiti con licenza <a href="https://opendatacommons.org/licenses/odbl/" title="Maggiori informazioni" target="_blank">Open Data Commons Open Database License (ODbL)</a> dalla <a href="https://www.openstreetmap.org/copyright" title="Maggiori informazioni" target="_blank">OpenStreetMap Foundation (OSMF)</a>.</p>                                                                    <ul id="ricercaPoi_ul'+a+'" class="ricercaPoi"></ul>                                                                    <div id="poiCircle'+a+'" class="poiCircle">                                                                        <select id="poiCircleRadius'+a+'" class="poiCircleRadius">                                                                            <option value="250">Cerca nel raggio di 250 m</option>                                                                            <option value="400">Cerca nel raggio di 400 m (5 min. a piedi)</option>                                                                            <option value="500">Cerca nel raggio di 500 m</option>                                                                            <option value="800">Cerca nel raggio di 800 m (10 min. a piedi)</option>                                                                            <option value="1000">Cerca nel raggio di 1000 m</option>                                                                            <option value="1500">Cerca nel raggio di 1500 m</option>                                                                            <option value="2000">Cerca nel raggio di 2000 m</option>                                                                        </select>                                                                        <button id="poiCircleButton'+a+'" class="poiCircleButton" title="Riposiziona l\'area di ricerca al centro della mappa"><span class="fas fa-crosshairs"></span></button>                                                                    </div>                                                                    <button id="ricerca_poi'+a+'" type="button" style="margin-bottom:20px;">Cerca</button>                                                                    <button id="resettaRicerca_poi'+a+'" class="resettaRicerca_poi" type="button" style="margin-bottom:20px;">Resetta la ricerca</button>                                                                    <div id="ricercaPoiRisultati'+a+'" class="ricercaPoiRisultati">                                                                        <h3>Risultati</h3>                                                                    </div>                                                                </div>');function h(){var t,e=!1;return t=r.getBounds(),c.getBounds().intersects(t)?e=!0:confirm("L'area di ricerca POI non Ã¨ visibile sulla mappa attuale, desideri riposizionarla al centro della mappa?")&&(l.setLatLng(c.getCenter()),c.flyToBounds(r.getBounds()),e=!0),e}function d(){var i=t("#ricercaPoiRisultati"+a);t("ul",i).remove(),i.hide(),e.length>0&&(t.each(e,(function(t,i){i&&(e[t].remove(),e[t]=null)})),c.poiAggiunti=e)}n.addSideBar(a,"poi","Ricerca punti di interesse","POI",u),t.each(i,(function(e,i){t("#ricercaPoi_ul"+a).append('<li><input type="checkbox" id="checkCategoriaPoi_'+i.internalName+'" value="'+i.internalName+'" name="checkCategoriaPoi'+a+'"> '+i.title+"</li>")})),t("#poiCircleButton"+a).button().click((function(){l.setLatLng(c.getCenter())})),t("#resettaRicerca_poi"+a).button().click((function(){d()})),t("#ricerca_poi"+a).button().click((function(){d(),h();var o=[];t("input[name=checkCategoriaPoi"+a+"]:checked").each((function(){o.push(t(this).val())})),o.length>0?(t("#ricercaPoiRisultati"+a).show(),t("#ricercaPoiRisultati"+a).append("<ul/>"),t("#resettaRicerca_poi"+a).hide(),function i(o,s,l){var u=o[l];if(s.includes(u.internalName)){if(0==t("#ricercaPoiRisultatiCategoryLi_"+u.internalName).length){var h=t("<li/>").appendTo("#ricercaPoiRisultati"+a+">ul");h.attr("id","ricercaPoiRisultatiCategoryLi_"+u.internalName);var d=t('<input type="checkbox" id="ricercaPoiRisultatiCheck_'+u.internalName+'" value="'+u.internalName+"_"+a+'" checked="checked">').appendTo(h);h.append('<label><img src="'+n.percorsoIcone+"poi/"+u.icon+'" alt="'+u.title+'"> '+u.title+'</label><span id="ricercaPoiRisultatiCount_'+u.internalName+'" class="ricercaPoiRisultatiCount"><span class="loading fas fa-spinner fa-pulse"></span><span>'),d.on("click change",(function(){var i=t(this).val(),n=this.checked;t.each(e,(function(t,e){e&&e.options.searchKey==i&&(n?e.addTo(c):e.remove())}))}))}var p=[];t.each(u.features,(function(t,e){p.push('node["'+e.type+'" = "'+e.key+'"](around:'+r.getRadius()+","+r.getLatLng().lat+","+r.getLatLng().lng+');way["'+e.type+'" = "'+e.key+'"](around:'+r.getRadius()+","+r.getLatLng().lat+","+r.getLatLng().lng+');relation["'+e.type+'" = "'+e.key+'"](around:'+r.getRadius()+","+r.getLatLng().lat+","+r.getLatLng().lng+");")}));var f=p.join("");t.ajax({url:"https://overpass-api.de/api/interpreter?data=[out:json];("+f+");out center;",contentType:"application/json",context:t(this)}).done((function(r){var d=0;t.each(r.elements,(function(t,i){var o,s;"node"==i.type?(o=i.lat,s=i.lon):"way"!=i.type&&"relation"!=i.type||(o=i.center.lat,s=i.center.lon);var r=L.latLng(o,s);if(i.tags.name){d++;var l=L.marker(r,{icon:L.icon({iconUrl:n.percorsoIcone+"poi/"+u.icon,iconSize:[32,37],iconAnchor:[16,35]}),pmIgnore:!0,title:i.tags.name,searchKey:u.internalName+"_"+a}).bindPopup(i.tags.name,{offset:L.point(0,-25)}).addTo(c);e.push(l)}})),t(".loading",h).remove(),t("#ricercaPoiRisultati"+a+" #ricercaPoiRisultatiCount_"+u.internalName).html(d),l<o.length-1&&i(o,s,++l)})).fail((function(t,e,n){console.log(n),l<o.length-1&&i(o,s,l)})).always((function(){}))}else l<o.length-1&&i(o,s,++l)}(i,o,0),c.poiAggiunti=e,t("#resettaRicerca_poi"+a).show()):alert("Selezionare almeno una categoria di ricerca")})),t("#poiCircleRadius"+a).select2({minimumResultsForSearch:-1}),t("#poiCircleRadius"+a).on("change",(function(){r.setRadius(parseInt(this.value)),h()&&c.flyToBounds(r.getBounds())})),n.SideBar.on("tabChanged opening",(function(e,i){var n,o;t(i).hasClass("poiTab")?t(".sidebar-content").addClass("transparent"):t(".sidebar-content").removeClass("transparent"),s?t(i).hasClass("poiTab")?(s.addTo(c),h()):s.remove():t(i).hasClass("poiTab")&&(n=parseInt(t("#poiCircleRadius"+a).val()),o=L.divIcon({className:"poiCircleMarkerIcon",iconSize:L.point(30,30)}),(l=L.marker(c.getCenter(),{icon:o,draggable:!0,pmIgnore:!0})).on("drag move",(function(){r.setLatLng(this.getLatLng())})),r=L.circle(l.getLatLng(),{radius:n,color:"#FF0000",opacity:.5,weight:2,fillColor:"#FF0000",fillOpacity:.05,interactive:!1,pmIgnore:!0}),s=L.layerGroup([l,r]).addTo(c),c.flyToBounds(r.getBounds()))})),n.SideBar.on("closing",(function(){s&&s.remove()}))}}(jQuery);var annuncioImmobiliareStimatrixResult="";!function(t){var e=L.markerClusterGroup(),i=[],n=[];t.fn.extend({forMapsAnnunci:function(e){return e=t.extend({},{conversioneAnnunci:!0,conversioneAnnunciTipo:"riferimento",urlImmaginiXXL:!1,agenzia:!1,urlBase:"https://www.formaps.it/WS/AnnunciImmobiliari/"},e),this.each((function(){var t=this.getRandomInt();this.ForMapsAnnunci=new ForMapsAnnunciControl(this,t,e)}))}}),ForMapsAnnunciControl=function(a,o,s){var r,l,c,u=a.map,h=t(document.createElement("div")).html('<div id="annunci_container'+o+'" class="annunci_container">'+a.getBanner()+'<h2>Ricerca annunci immobiliari</h2>                                                                    <div id="annunciCategorie'+o+'" class="remoteSelect"></div>                                                                    <div id="annunciTipologie'+o+'" class="remoteSelect"></div>                                                                    <div id="annunciSottoTipologie'+o+'" class="remoteSelect"></div>                                                                    <div id="annunciStati'+o+'" class="remoteSelect"></div>                                                                    <div class="forMapsInputRangeContainer">                                                                        <div class="forMapsInputRange"><span class="prefix">da</span><input id="annunciPrezzoMinimo'+o+'" type="text" /><span class="suffix">â¬</span></div>                                                                        <div class="forMapsInputRange"><span class="prefix">a</span><input id="annunciPrezzoMassimo'+o+'" type="text" /><span class="suffix">â¬</span></div>                                                                    </div >                                                                    <div class="forMapsInputRangeContainer">                                                                        <div class="forMapsInputRange"><span class="prefix">da</span><input id="annunciSuperficieMinima'+o+'" type="text" /><span class="suffix">m&sup2;</span></div>                                                                        <div class="forMapsInputRange"><span class="prefix">a</span><input id="annunciSuperficieMassima'+o+'" type="text" /><span class="suffix">m&sup2;</span></div>                                                                    </div >                                                                    <div class="forMapsInputRangeContainer">                                                                        <div class="forMapsInputRange"><span class="prefix">da</span><input id="annunciLocaliMinimo'+o+'" type="text" /><span class="suffix">locali</span></div>                                                                        <div class="forMapsInputRange"><span class="prefix">a</span><input id="annunciLocaliMassimo'+o+'" type="text" /><span class="suffix">locali</span></div>                                                                    </div >                                                                    <div id="annunciCircle'+o+'" class="annunciCircle">                                                                        <select id="annunciCircleRadius'+o+'" class="annunciCircleRadius">                                                                            <option value="100">Nel raggio di 100 m</option>                                                                            <option value="250">Nel raggio di 250 m</option>                                                                            <option value="500">Nel raggio di 500 m</option>                                                                            <option value="1000">Nel raggio di 1000 m</option>                                                                        </select>                                                                        <button id="annunciCircleButton'+o+'" class="annunciCircleButton" title="Riposiziona l\'area di ricerca al centro della mappa"><span class="fas fa-crosshairs"></span></button>                                                                    </div>                                                                    <div class="forMapsInputRangeContainer annunciContratto">                                                                        <div>                                                                            <input type="radio" id="annunciVendita'+o+'" name="idContratto'+o+'" value="1" checked="checked"/><label for="annunciVendita'+o+'">In vendita</label>                                                                            <input type="radio" id="annunciAsta'+o+'" name="idContratto'+o+'" value="3"/><label for="annunciAsta'+o+'">In asta</label>                                                                            <input type="radio" id="annunciAffitto'+o+'" name="idContratto'+o+'" value="2"/><label for="annunciAffitto'+o+'">In affitto</label>                                                                        </div>                                                                        <div>                                                                            <input type="checkbox" id="annunciSoloPrivati'+o+'"/><label for="annunciSoloPrivati'+o+'">Solo privati</label>                                                                        </div>                                                                    </div>                                                                    <div class="annunciRicerca">                                                                        <button id="ricerca_annunci'+o+'" type="button">Cerca</button>                                                                        <button id="resettaRicerca_annunci'+o+'" class="resettaRicerca_annunci" type="button">Resetta <span class="hidden-mobile">la ricerca</span></button>                                                                        <input type="checkbox" id="annunciSovrascriviRisultati'+o+'" checked="checked"/><label for="annunciSovrascriviRisultati'+o+'">Sovrascrivi i risultati</label>                                                                    </div>                                                                    <div id="ricercaAnnunciRisultati'+o+'" class="ricercaAnnunciRisultati">                                                                        <h3>Risultati</h3>                                                                    </div>                                                                    <div id="annunciImmobiliariListContainer'+o+'" class="annunciImmobiliariListContainer">                                                                        <table id="annunciImmobiliariListTable'+o+'" class="annunciImmobiliariListTable display"></table>                                                                    </div>                                                                </div>');a.addSideBar(o,"ap","Asking Price","AP",h);var d={scale:0,mask:Number,min:0,thousandsSeparator:"."},p=IMask(document.getElementById("annunciPrezzoMinimo"+o),d),f=IMask(document.getElementById("annunciPrezzoMassimo"+o),d),m=IMask(document.getElementById("annunciSuperficieMinima"+o),d),g=IMask(document.getElementById("annunciSuperficieMassima"+o),d),v=IMask(document.getElementById("annunciLocaliMinimo"+o),d),_=IMask(document.getElementById("annunciLocaliMassimo"+o),d);function y(e){var i=t("#annunciCategorie"+o);e&&e.items.length>0?i.select2({placeholder:"Seleziona una categoria",width:"100%",minimumResultsForSearch:-1,data:e.items}).on("change",(function(e){T(),b("");var i=t(this).val();i?(k(""),1==i?t("#annunciStati"+o).select2("enable",!0):t("#annunciStati"+o).select2("enable",!1),t.ajax({url:s.urlBase+"GetAnnunciImmobiliariTipologie/"+i,dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){b(t)})).fail((function(t,e,i){b("")}))):b("")})).select2("val","1").trigger("change"):(i.select2("val",""),i.select2("destroy"),b(""))}function b(e){var i=t("#annunciTipologie"+o);e&&e.items.length>0?i.select2({placeholder:"Tutte le tipologie",width:"100%",allowClear:!0,data:e.items}).on("change",(function(e){T(),w("");var i=t(this).val();i?t.ajax({url:s.urlBase+"GetAnnunciImmobiliariSottoTipologie/"+i,dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){w(t)})).fail((function(t,e,i){w("")})):w("")})).select2("val","2"==t("#annunciCategorie"+o).val()?"63":"").trigger("change").show():(i.select2("val",""),i.select2("destroy"),w(""))}function w(e){var i=t("#annunciSottoTipologie"+o);e&&e.items.length>0?(i.select2({placeholder:"Tutte le sottotipologie",width:"100%",allowClear:!0,data:e.items}),i.show()):(i.select2("val",""),i.select2("destroy"))}function k(e){var i=t("#annunciStati"+o);e&&e.items.length>0?i.select2({placeholder:"Qualsiasi stato",width:"100%",minimumResultsForSearch:-1,data:e.items,allowClear:!0}).on("change",(function(t){})):i.select2("val","")}function C(){var n=t("#ricercaAnnunciRisultati"+o);t("div",n).remove(),n.hide(),i.length=0,e.clearLayers()}function x(){var t,e=!1;return t=l.getBounds(),u.getBounds().intersects(t)?e=!0:confirm("L'area di ricerca Annunci immobiliari non Ã¨ visibile sulla mappa attuale, desideri riposizionarla al centro della mappa?")&&(c.setLatLng(u.getCenter()),u.flyToBounds(l.getBounds()),e=!0),e}function T(){var e=[100,250,500,1e3],i=[500,1e3,2500,5e3],n=t("#annunciCircleRadius"+o).val(),a=10==t("#annunciCategorie"+o).val()||28==t("#annunciTipologie"+o).val();t("#annunciCircleRadius"+o).html(function(e){var i="";return t.each(e,(function(t,e){i+='<option value="'+e+'">Nel raggio di '+(e<1e3?e+" m":e/1e3+" km")+"</option>"})),i}(a?i:e)).select2("val",function(t,e){var i=Number(t);return e.includes(i)||(i=e[0]),i}(n,a?i:e)).trigger("change")}t("#annunciCircleButton"+o).button().click((function(){c.setLatLng(u.getCenter())})),t("#resettaRicerca_annunci"+o).button().click((function(){t("#annunciCategorie"+o).select2("val","1").trigger("change"),t("#annunciStati"+o).val("").trigger("change").select2("enable",!0),p.value="",f.value="",m.value="",g.value="",v.value="",_.value="",t("#annunciCircleRadius"+o).val("100").trigger("change"),t("#annunciVendita"+o).prop("checked","checked"),C()})),t("#ricerca_annunci"+o).button().click((function(){C(),x(),t("#ricercaAnnunciRisultati"+o).show(),t("#resettaRicerca_annunci"+o).hide(),t("#ricerca_annunci"+o).prop("disabled",!0),function(){var r=t('input[name="idContratto'+o+'"]:checked').val(),c=t("#annunciCategorie"+o).val(),h=t("#annunciSovrascriviRisultati"+o).prop("checked");if(c){var d=t('<div id="annunciRisultati'+o+'" class="annunciRisultati"></div>').appendTo("#ricercaAnnunciRisultati"+o),y=t('<input type="checkbox" id="annunciRisultatiCheckbox'+o+'" checked="checked">').appendTo(d),b="";switch(r){case"1":b=" in vendita";break;case"2":b=" in affitto";break;case"3":b=" in asta"}d.append('<label>                                            <img src="'+a.percorsoIcone+'annunci/annuncio.png" alt="Annunci immobiliari"> Annunci'+b+'                                        </label>                                        <div id="ricercaAnnunciRisultatiDettagli'+o+'" class="ricercaAnnunciRisultatiDettagli">                                            <div id="ricercaAnnunciRisultatiCount'+o+'" class="ricercaAnnunciRisultatiCount">                                                <span class="loading fas fa-spinner fa-pulse"></span>                                            </div>                                        </div>'),y.on("click change",(function(){this.checked?e.addTo(u):e.remove()}));var w=t("#annunciTipologie"+o).val(),k=t("#annunciSottoTipologie"+o).val(),C=t("#annunciStati"+o).val(),x=l.getBounds().toBBoxString(),T=l.getLatLng().lat.toString()+","+l.getLatLng().lng.toString(),M=t("#annunciCircleRadius"+o).val(),S=p.unmaskedValue,A=f.unmaskedValue,I=m.unmaskedValue,z=g.unmaskedValue,D=v.unmaskedValue,E=_.unmaskedValue,P=3!=r,O=t("#annunciSoloPrivati"+o).prop("checked");t.ajax({url:s.urlBase+"/GetAnnunciImmobiliari?coordinate="+T+"&raggio="+M+"&bbox="+x+"&prezzoMinimo="+S+"&prezzoMassimo="+A+"&superficieMinima="+I+"&superficieMassima="+z+"&localiMinimo="+D+"&localiMassimo="+E+"&idCategoria="+c+"&idTipologia="+w+"&idSottoTipologia="+k+"&idStato="+C+"&idContratto="+r+"&escludiAste="+P+"&soloPrivati="+O,dataType:"jsonp",contentType:"application/json",context:this}).done((function(r){h?n=r:t.each(r,(function(e,i){var a=!1;t.each(n,(function(t,e){e.Id==i.Id&&(a=!0)})),a||n.push(i)})),t.each(n,(function(n,o){var r=L.latLng(o.Latitudine,o.Longitudine),l='<div class="annuncioImmobiliarePopup">                                                        <div id="annuncioImmobiliareData'+o.Id+'" class="annuncioImmobiliareData">'+o.DataCreazione+'</div>                                                        <div id="annuncioImmobiliareImmagini'+o.Id+'" class="annuncioImmobiliareImmagini owl-carousel owl-theme"></div>                                                        <div class="annuncioImmobiliareDettagli">                                                            <h1>'+o.Titolo+"<small>â¬ "+o.Prezzo+'</small></h1>                                                            <h2 id="annuncioImmobiliareSottotitolo'+o.Id+'"></h2>';(o.Superficie||o.NumeroLocali)&&(l+="<p><span>"+(o.Superficie?o.Superficie.toString()+" m&sup2;":"")+(o.NumeroLocali?" | "+o.NumeroLocali+" locali":"")+"</span>"+("Vendita"==o.Contratto&&o.Superficie?"<span>â¬ "+(o.Prezzo.replace(/\./g,"")/o.Superficie.replace(/\./g,"")).formatta(2,",",".")+"/m&sup2;</span>":"")+"</p>"),l+='<p class="annuncioImmobiliareFooter'+(s.conversioneAnnunci?"":" annuncioImmobiliareFooterCenter")+'">',s.conversioneAnnunci&&(l+='<span id="annuncioImmobiliareConvertiLoading'+o.Id+'" class="loading fas fa-spinner fa-pulse"></span><button title="Converti l\'annuncio in un riferimento standard forMaps" id="annuncioImmobiliareConverti'+o.Id+'" class="forMapsIcoButton forMapsIcoButtonSmall forMapsIcoMarker" style="visibility:hidden">Converti<span class="hidden-mobile"> annuncio</span></button>'),l+='<a href="https://www.immobiliare.it/'+o.Id+'-immobile.html" title="Visualizza l\'annuncio completo su Immobiliare.it" target="_blank" class="forMapsIcoButton forMapsIcoButtonSmall forMapsIcoExtLink">Annuncio<span class="hidden-mobile"> completo</span></span></a>                                                            </p>                                                        </div>                                                    </div>';var c=L.marker(r,{icon:L.icon({iconUrl:a.percorsoIcone+"annunci/annuncio"+(o.Agenzia?"":"_noagenzia")+".png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-41]}),pmIgnore:!0,title:o.Titolo+(o.Prezzo?" | â¬ "+o.Prezzo:"")+(o.Superficie?" | "+o.Superficie+"mq":"")+(o.NumeroLocali?" | "+o.NumeroLocali+" locali":"")}).bindPopup(l,{minWidth:t(window).width()>767?300:200,className:"forMapsGalleryPopup"}).on("popupopen",(function(i){t.ajax({url:s.urlBase+"GetAnnuncioImmobiliareDetail/"+o.Id+"?latitudine="+o.Latitudine+"&longitudine="+o.Longitudine+"&immaginiXXL="+s.urlImmaginiXXL+"&agenzia="+s.agenzia,dataType:"jsonp",contentType:"application/json",context:this}).done((function(i){if(i.Sottotitolo?t("#annuncioImmobiliareSottotitolo"+o.Id).html(i.Sottotitolo):t("#annuncioImmobiliareSottotitolo"+o.Id).remove(),t("#annuncioImmobiliareConverti"+o.Id).css("visibility","visible"),t("#annuncioImmobiliareConvertiLoading"+o.Id).css("display","none"),t("#annuncioImmobiliareConverti"+o.Id).on("click",(function(){var n;if(t(this).prop("disabled",!0),o.DataCreazione){var l=o.DataCreazione.split("/");n=new Date(l[2],l[1]-1,l[0])}var u="";switch(o.Contratto){case"Vendita":u="Aste"==o.Categoria?"annuncioAsta":"annuncioVendita";break;case"Affitto":u="annuncioAffitto"}var h={};for(var d in o)h[d]=o[d];for(var d in i)h[d]=i[d];if(h.Prezzo=Number(h.Prezzo.replace(/\./g,"")),h.Superficie=Number(h.Superficie.replace(/\./g,"")),h.Coordinate=r,h.Provenienza=u,h.Url="https://www.immobiliare.it/annunci/"+o.Id,h.UrlAgenzia=i.IdAgenzia?"https://www.immobiliare.it/agenzie-immobiliari/"+i.IdAgenzia:"",h.DataFormattata=n,s.conversioneAnnunci){switch(s.conversioneAnnunciTipo){case"riferimento":a.addMarker({idAnnuncio:h.Id,linkAnnuncio:h.Id,draggable:!0,denominazione:h.Titolo+" - "+h.Sottotitolo,provenienza:u,prezzo:h.Prezzo,superficie:h.Superficie,numeroLocali:h.NumeroLocali,data:h.DataFormattata,latLng:h.Coordinate,infoWindowOpened:!0,url:h.Url});break;case"stimatrixImmobile":annuncioImmobiliareStimatrixResult=JSON.stringify(h),location.href="#convertiAnnuncio"}e.removeLayer(c),console.log(h)}})),i.Immagini.length>0||i.Planimetrie.length>0){var n=[];t.each(i.Immagini,(function(t,e){n.push('<img src="'+e.Url+'" alt="'+(e.Titolo?e.Titolo:o.Titolo)+'"/>')})),t.each(i.Planimetrie,(function(t,e){n.push('<img src="'+e.Url+'" alt="'+(e.Titolo?e.Titolo:o.Titolo)+'"/>')})),t("#annuncioImmobiliareImmagini"+o.Id).html(n.join("")).imagesLoaded((function(){t("#annuncioImmobiliareImmagini"+o.Id).owlCarousel({items:1,nav:!0,navText:['<i class="fas fa-chevron-left"></i>','<i class="fas fa-chevron-right"></i>'],dots:!1,autoHeight:!0,onInitialized:function(e){t("#annuncioImmobiliareData"+o.Id).show();var i=e.target;t(".owl-item",i).each((function(){var e=parseInt(t("img",this).css("width"));parseInt(t("img",this).css("height"))>=e&&(t("img",this).css("maxHeight",t(window).width()>767?225:150),t("img",this).css("width","auto"))})),t(".owl-stage-outer.owl-height",i).css("height",t(".owl-item",i).first().css("height"))}})}))}else t("#annuncioImmobiliareData"+o.Id).show(),t("#annuncioImmobiliareData"+o.Id).addClass("annuncioImmobiliareDataNoImages")})).fail((function(t,e,i){console.log(i)}))}));c.data={id:o.Id},i.push({Id:o.Id,Data:o.DataCreazione,Immagine:'<img src="https://pic.im-cdn.it/image/'+o.Immagine+'/listing.jpg" alt="'+o.Titolo+'" class="immagineAnnuncio"/>',Titolo:o.Titolo,Prezzo:o.Prezzo,Superficie:o.Superficie,NumeroLocali:o.NumeroLocali,Coordinate:r}),e.addLayer(c)})),u.addLayer(e),n.length>0&&(t('<div id="ricercaAnnunciRisultatiList'+o+'" class="ricercaAnnunciRisultatiList" title="Visualizza la lista degli annunci ricercati">                                <span class="fas fa-list-ul"></span>                            </div>').prependTo("#ricercaAnnunciRisultatiDettagli"+o).on("click",(function(n){jQuery.extend(jQuery.fn.dataTableExt.oSort,{"date-eu-pre":function(t){if(!(t=t.replace(" ","")))return 0;var e=t.split(/[\.\-\/]/),i=e[1];1==i.length&&(i=0+i);var n=e[0];return 1==n.length&&(n=0+n),1*((e[2]?e[2]:0)+i+n)},"date-eu-asc":function(t,e){return t<e?-1:t>e?1:0},"date-eu-desc":function(t,e){return t<e?1:t>e?-1:0}});var s=t("#annunciImmobiliariListTable"+o).DataTable({destroy:!0,stateSave:!0,autowidth:!1,responsive:{details:{type:"column"}},scrollY:"300px",scrollCollapse:!0,data:i,order:[[2,"desc"]],columns:[{className:"control",orderable:!1,data:null,render:function(){return""}},{title:"Immagine",width:"110px",data:"Immagine",orderable:!1},{title:"Data",data:"Data",responsivePriority:1,type:"date-eu"},{title:"Annuncio",data:"Titolo",responsivePriority:2},{title:"Prezzo (â¬)",data:"Prezzo",className:"dt-right",responsivePriority:3},{title:"Superficie (mq)",data:"Superficie",className:"dt-right"},{title:"Numero locali",data:"NumeroLocali",className:"dt-right"},{title:"Coordinate",data:"Coordinate",visible:!1}],paging:!1,language:{decimal:",",url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Italian.json"},createdRow:function(i,n,s){t(i).prop("title","Clicca per visualizzare l'annuncio su mappa"),t(i).on("click","td",(function(){a.SideBar.close(),0!=this.cellIndex&&(r.close(),u.flyTo(n.Coordinate,17),t("#annunciRisultatiCheckbox"+o).prop("checked")&&e.eachLayer((function(t){n.Id==t.data.id&&e.zoomToShowLayer(t,(function(){t.openPopup()}))})))}))}}),r=lity("#annunciImmobiliariListContainer"+o);t("#annunciImmobiliariListContainer"+o).show(),s.responsive.recalc(),t(document).on("lity:close",(function(e,i){t("#annunciImmobiliariListContainer"+o).hide()}))})),t('<div id="ricercaAnnunciRisultatiDownload'+o+'" class="ricercaAnnunciRisultatiDownload"title="Scarica la lista degli annunci ricercati in formato csv"><span class="fas fa-download"></span></div>').prependTo("#ricercaAnnunciRisultatiDettagli"+o).on("click",(function(e){var i=[];t.each(n,(function(t,e){i.push({Data:e.DataCreazione,Titolo:e.Titolo,Superficie:e.Superficie,Prezzo:e.Prezzo,NumeroLocali:e.NumeroLocali,Latitudine:e.Latitudine.replace(".",","),Longitudine:e.Longitudine.replace(".",","),Immagine:"https://pic.im-cdn.it/image/immagine_"+e.Immagine+".jpg",Link:"https://www.immobiliare.it/"+e.Id+"-immobile.html"})}));var a=new Date;!function(t,e,i){t&&e.unshift(t);var n="\ufeff"+function(t){for(var e="object"!=typeof t?JSON.parse(t):t,i="",n=0;n<e.length;n++){var a="";for(var o in e[n])""!=a&&(a+=";"),a+=e[n][o];i+=a+"\r\n"}return i}(JSON.stringify(e)),a=i+".csv"||"export.csv",o=new Blob([n],{type:"text/csv;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,a);else{var s=document.createElement("a");if(void 0!==s.download){var r=URL.createObjectURL(o);s.setAttribute("href",r),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}({Data:"Data",Titolo:"Annuncio",Superficie:"Superficie (mÂ²)",Prezzo:"Prezzo (â¬)",NumeroLocali:"Numero locali",Latitudine:"Latitudine",Longitudine:"Longitudine",Immagine:"Immagine",Link:"Link"},i,"Annunci_Immobiliari_"+a.formatoFile())}))),t(".loading",d).remove(),t("#ricercaAnnunciRisultati"+o+" #ricercaAnnunciRisultatiCount"+o).html(n.length)})).fail((function(t,e,i){console.log(i)})).always((function(){t("#ricerca_annunci"+o).prop("disabled",!1)}))}else alert("Seleziona una categoria di ricerca")}(),t("#resettaRicerca_annunci"+o).show()})),t("#annunciCircleRadius"+o).select2({minimumResultsForSearch:-1}),t("#annunciCircleRadius"+o).on("change",(function(){l&&(l.setRadius(parseInt(this.value)),x()&&u.flyToBounds(l.getBounds()))})),a.SideBar.on("tabChanged opening",(function(e,i){var n,a;r?t(i).hasClass("apTab")?(r.addTo(u),x()):r.remove():t(i).hasClass("apTab")&&(n=parseInt(t("#annunciCircleRadius"+o).val()),a=L.divIcon({className:"annunciCircleMarkerIcon",iconSize:L.point(30,30)}),(c=L.marker(u.getCenter(),{icon:a,draggable:!0,pmIgnore:!0,title:"Clicca e trascina per spostare l'area di ricerca"})).on("drag move",(function(){l.setLatLng(this.getLatLng())})),l=L.circle(c.getLatLng(),{radius:n,color:"#FF0000",opacity:.5,weight:2,fillColor:"#FF0000",fillOpacity:.05,interactive:!1,pmIgnore:!0}),r=L.layerGroup([c,l]).addTo(u),u.flyToBounds(l.getBounds()))})),a.SideBar.on("closing",(function(){r&&r.remove()})),t.ajax({url:s.urlBase+"GetAnnunciImmobiliariCategorie",dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){y(t)})).fail((function(t,e,i){y("")})),t.ajax({url:s.urlBase+"GetAnnunciImmobiliariStati",dataType:"jsonp",contentType:"application/json",context:this}).done((function(t){k(t)})).fail((function(t,e,i){k("")}))}}(jQuery);